/*! For license information please see gamepool.bundle.d467243735417928bcd6.js.LICENSE.txt */
(()=>{var __webpack_modules__={42313:(e,t,s)=>{var i=s(44523),n=s(20113),r=s(78134),o=s(74914),a=s(86705),c=i(n),d=i(r),l=i(o),u='<div class="dsvgBg" id="startUpBack"> <div id="loader-wrapper"> <div id="loader"></div> <div id="loaderText"></div> </div> <div class="startBottomImg"></div> <div class="gamesImgContainer"> <img class="startDsLogo" src="'+c+'"/> <img class="sartGamesImg" src="'+d+'"/> </div> <div class="logInVersion"></div> <div id="downLoadCont"><div id="downLoadPercente"></div></div> <div class="logInVersionDownload"></div> </div> <div class="loginBg" id="login"> <div class="login"> <form class="loginForm" autocomplete="new-password"> <div class="loginCont"> <div class="loginElem"> <div class="loginInput"> <div class="loginInputField"> <input type="text" name="user_input" placeholder="USER" id="user_input" autofocus autocomplete="new-password" inputmode="none"/> <div class="inpBack"></div> </div> <img src="'+l+'" id="userInputClear" class="clearButton" alt="clear button"/> </div> </div> <div class="loginElem"> <div class="loginInput"> <div class="loginInputField"> <input type="password" name="password" placeholder="PASS" id="password_input" readonly="readonly" autocomplete="new-password" inputmode="none"/> <div class="inpBack"></div> </div> <img src="'+l+'" id="passwordInputClear" class="clearButton" alt="clear button"/> </div> <div class="loginInput"> <div class="loginInputField loginButton" id="loginButton"> <span class="loginButtonText">LOGIN</span> <img src="'+i(a)+'" alt="login button"/> <div class="loginButtonHov"></div> </div> </div> <div class="loginError" id="loginError" style="display:none"> <div class="vertAlignCont"> <span id="errorMessage" class="error_message">Ung√ºltige Operator ID oder PIN</span> </div> <div class="logInErrBack"></div> </div> </div> <div class="loginElem numPadCont"> <div class="numPadIcon"> <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 450 430"> <style>.st0{fill-rule:evenodd;clip-rule:evenodd;fill:url(#SVGID_1_)}.st1{fill-rule:evenodd;clip-rule:evenodd;fill:#e5e5e5}.st2{fill-rule:evenodd;clip-rule:evenodd;fill:#fff}.st3{fill-rule:evenodd;clip-rule:evenodd;fill:#ff5331}.st4{fill:#05132b}</style> <g> <linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="66.3029" y1="430" x2="66.3029" y2="328.7247"> <stop offset="0" style="stop-color:#920e0a"/> <stop offset="1" style="stop-color:#bd1710"/> </linearGradient> <path id="logInPadDel" class="st0 logInPadEl" d="M132.606,328.725h-99.43c-8.656,0-16.071,6.206-17.605,14.735L0,430h99.43c8.656,0,16.071-6.205,17.605-14.735\n                  L132.606,328.725z"/> <path id="logInPadNu1" class="st1 logInPadEl" d="M192.057,0h-99.43c-8.656,0-16.071,6.206-17.605,14.735l-15.57,86.54h99.43\n                  c8.656,0,16.071-6.205,17.605-14.735L192.057,0z"/> <path id="logInPadNu2" class="st1 logInPadEl" d="M316.469,0h-99.43c-8.656,0-16.071,6.206-17.605,14.735l-15.57,86.54h99.43\n                  c8.656,0,16.071-6.205,17.605-14.735L316.469,0z"/> <path id="logInPadNu3" class="st1 logInPadEl" d="M440.88,0h-99.43c-8.656,0-16.071,6.206-17.605,14.735l-15.57,86.54h99.43c8.656,0,16.071-6.205,17.605-14.735\n                  L440.88,0z"/> <path id="logInPadNu4" class="st1 logInPadEl" d="M172.336,109.575h-99.43c-8.656,0-16.071,6.206-17.605,14.735l-15.57,86.54h99.43\n                  c8.656,0,16.071-6.205,17.605-14.735L172.336,109.575z"/> <path id="logInPadNu5" class="st1 logInPadEl" d="M296.747,109.575h-99.43c-8.656,0-16.071,6.206-17.605,14.735l-15.57,86.54h99.43\n                  c8.656,0,16.071-6.205,17.605-14.735L296.747,109.575z"/> <path id="logInPadNu6" class="st1 logInPadEl" d="M421.158,109.575h-99.43c-8.656,0-16.071,6.206-17.605,14.735l-15.57,86.54h99.43\n                  c8.656,0,16.071-6.205,17.605-14.735L421.158,109.575z"/> <path id="logInPadNu7" class="st1 logInPadEl" d="M152.535,219.15h-99.43c-8.656,0-16.071,6.206-17.605,14.735l-15.57,86.54h99.43\n                  c8.656,0,16.071-6.205,17.605-14.735L152.535,219.15z"/> <path id="logInPadNu8" class="st1 logInPadEl" d="M276.947,219.15h-99.43c-8.656,0-16.071,6.206-17.605,14.735l-15.57,86.54h99.43\n                  c8.656,0,16.071-6.205,17.605-14.735L276.947,219.15z"/> <path id="logInPadNu9" class="st1 logInPadEl" d="M401.358,219.15h-99.43c-8.656,0-16.071,6.206-17.605,14.735l-15.57,86.54h99.43\n                  c8.656,0,16.071-6.205,17.605-14.735L401.358,219.15z"/> <path id="logInPadNu0" class="st1 logInPadEl" d="M257.017,328.725h-99.43c-8.656,0-16.071,6.206-17.605,14.735L124.411,430h99.43\n                  c8.656,0,16.071-6.205,17.605-14.735L257.017,328.725z"/> <path id="logInPadDelArr" class="st2 logInPadEl" d="M34.584,379.107l23.296,19.067l2.473-13.746h27.93c6.89,0,12.954-4.083,15.697-10.132H62.176l2.473-13.746\n                  L34.584,379.107z"/> <path class="st3" d="M16.223,344.112c1.535-8.529,8.949-14.735,17.605-14.735h98.661l0.117-0.653h-99.43\n                  c-8.656,0-16.071,6.206-17.605,14.735L0,430h0.77L16.223,344.112z"/> <g> <g> <path id="logInPadNu1Nu" class="st4 logInPadEl" d="M125.503,44.883h-0.092l-5.482,3.472c-0.274,0.183-0.548,0.046-0.456-0.32l0.913-5.344\n                      c0.046-0.274,0.183-0.502,0.411-0.64l5.801-3.792c0.32-0.183,0.548-0.274,0.822-0.274h4.933c0.274,0,0.457,0.183,0.411,0.457\n                      l-5.344,30.148c-0.046,0.274-0.229,0.457-0.502,0.457h-5.208c-0.274,0-0.456-0.183-0.411-0.457L125.503,44.883z"/> </g> <g> <path id="logInPadNu2Nu" class="st4 logInPadEl" d="M239.408,64.571c0.092-0.274,0.183-0.502,0.411-0.731l12.744-13.064c1.827-1.919,2.695-3.426,2.695-5.299\n                      c0-1.69-1.005-2.832-2.786-2.832c-2.056,0-3.609,1.371-4.294,3.792c-0.091,0.274-0.274,0.411-0.548,0.365l-4.659-0.822\n                      c-0.228-0.046-0.32-0.228-0.228-0.502c1.05-4.248,4.613-7.994,10.597-7.994c5.025,0,8.131,3.014,8.131,7.126\n                      c0,3.517-1.553,6.258-4.477,9.227l-9.73,9.867v0.092h10.461c0.274,0,0.457,0.183,0.411,0.456l-0.776,4.34\n                      c-0.046,0.274-0.229,0.457-0.502,0.457h-17.769c-0.274,0-0.457-0.183-0.411-0.457L239.408,64.571z"/> </g> <g> <path id="logInPadNu3Nu" class="st4 logInPadEl" d="M364.094,61.876l4.842-0.914c0.274-0.046,0.456,0.092,0.456,0.365c0.229,1.69,1.234,3.061,3.427,3.061\n                      c2.649,0,4.568-2.375,4.568-5.298c0-2.193-1.279-3.472-3.518-3.472h-1.233c-0.274,0-0.411-0.183-0.365-0.457l0.731-4.202\n                      c0.046-0.274,0.274-0.457,0.548-0.457h1.142c2.695,0,4.522-2.238,4.522-4.979c0-1.736-1.005-2.878-2.786-2.878\n                      c-1.964,0-3.243,1.234-4.019,3.015c-0.092,0.274-0.32,0.365-0.548,0.32l-4.659-0.914c-0.228-0.046-0.32-0.228-0.228-0.502\n                      c1.415-4.02,5.298-7.08,10.597-7.08c5.116,0,7.903,2.786,7.903,6.76c0,3.426-1.644,6.533-4.705,8.222v0.091\n                      c1.416,0.777,2.832,2.65,2.832,5.619c0,6.761-4.888,11.374-11.42,11.374c-5.162,0-8.542-2.695-8.588-7.08\n                      C363.591,62.196,363.775,61.967,364.094,61.876z"/> </g> <g> <path id="logInPadNu4Nu" class="st4 logInPadEl" d="M94.689,171.032l0.777-4.339c0.046-0.229,0.137-0.411,0.32-0.686l12.379-20.51\n                      c0.183-0.228,0.366-0.365,0.731-0.365h5.436c0.274,0,0.411,0.183,0.229,0.457l-12.288,20.555v0.092h5.299\n                      c0.183,0,0.32-0.092,0.365-0.274l1.234-6.806c0.046-0.274,0.228-0.457,0.502-0.457h5.07c0.274,0,0.411,0.183,0.365,0.457\n                      l-1.187,6.806c-0.046,0.183,0,0.274,0.183,0.274h1.919c0.274,0,0.457,0.183,0.411,0.457l-0.776,4.339\n                      c-0.046,0.274-0.229,0.457-0.503,0.457h-1.964c-0.183,0-0.274,0.092-0.32,0.274l-0.685,3.974\n                      c-0.046,0.274-0.228,0.457-0.502,0.457h-5.07c-0.274,0-0.457-0.183-0.411-0.457l0.686-3.974c0.046-0.183-0.046-0.274-0.229-0.274\n                      H95.054C94.78,171.489,94.643,171.306,94.689,171.032z"/> </g> <g> <path id="logInPadNu5Nu" class="st4 logInPadEl" d="M221.065,169.296l4.888-0.868c0.228-0.046,0.411,0.092,0.456,0.365c0.183,1.553,1.051,2.741,3.015,2.741\n                      c1.507,0,2.878-0.776,3.563-2.284c0.685-1.37,1.187-4.203,1.187-5.573c0-1.964-0.959-3.015-2.877-3.015\n                      c-1.599,0-2.832,0.959-3.38,1.964c-0.137,0.32-0.32,0.457-0.64,0.457h-4.659c-0.274,0-0.365-0.137-0.32-0.457l3.015-17.038\n                      c0.046-0.274,0.183-0.457,0.457-0.457h16.672c0.274,0,0.457,0.183,0.411,0.457l-0.777,4.339\n                      c-0.046,0.274-0.274,0.457-0.548,0.457h-11.466c-0.183,0-0.274,0.092-0.32,0.274l-1.142,6.486h0.092\n                      c0.913-0.822,2.604-1.599,4.888-1.599c4.248,0,6.715,2.147,6.715,6.669c0,2.376-0.685,6.624-1.873,9.045\n                      c-1.827,3.746-5.116,5.436-9.684,5.436c-5.116,0-8.085-2.832-8.04-6.897C220.699,169.57,220.836,169.342,221.065,169.296z"/> </g> <g> <path id="logInPadNu6Nu" class="st4 logInPadEl" d="M348.171,159.247l9.684-13.795c0.183-0.274,0.274-0.32,0.593-0.32h5.528c0.319,0,0.411,0.183,0.228,0.457\n                      l-8.405,12.15l0.092,0.046c0.319-0.183,1.142-0.32,1.964-0.32c4.111,0,7.08,2.741,7.08,7.263c0,6.761-4.841,11.968-11.876,11.968\n                      c-5.07,0-8.496-2.923-8.496-7.719C344.563,165.779,345.658,162.855,348.171,159.247z M353.926,171.534\n                      c2.786,0,4.933-2.512,4.933-5.573c0-2.101-1.279-3.471-3.335-3.471c-2.831,0-4.933,2.512-4.933,5.573\n                      C350.592,170.119,351.826,171.534,353.926,171.534z"/> </g> <g> <path id="logInPadNu7Nu" class="st4 logInPadEl" d="M92.287,257.713v-0.091h-6.349c-0.183,0-0.274,0.091-0.32,0.274l-0.64,3.289\n                      c-0.046,0.274-0.228,0.456-0.502,0.456h-4.888c-0.274,0-0.365-0.182-0.32-0.456l1.507-8.45c0.046-0.274,0.229-0.457,0.502-0.457\n                      h17.907c0.274,0,0.411,0.183,0.365,0.457l-0.777,4.431c-0.046,0.228-0.137,0.456-0.274,0.777l-13.886,24.986\n                      c-0.183,0.319-0.365,0.411-0.731,0.411h-5.344c-0.274,0-0.411-0.183-0.274-0.502L92.287,257.713z"/> </g> <g> <path id="logInPadNu8Nu" class="st4 logInPadEl" d="M205.781,267.123l0.046-0.091c-1.005-0.868-1.919-2.558-1.919-4.705c0-5.207,4.02-10.552,11.009-10.552\n                      c5.299,0,8.131,3.244,8.131,7.309c0,3.152-1.553,6.075-4.203,7.948l-0.046,0.091c1.37,1.097,2.558,2.97,2.558,5.528\n                      c0,6.121-4.934,11.191-11.831,11.191c-5.253,0-8.77-2.923-8.77-7.583C200.756,272.696,202.538,269.134,205.781,267.123z\n                       M210.303,278.68c2.786,0,4.979-2.421,4.979-5.48c0-2.102-1.279-3.518-3.426-3.518c-2.832,0-5.025,2.421-5.025,5.482\n                      C206.831,277.264,208.156,278.68,210.303,278.68z M217.018,259.906c0-1.69-1.005-2.97-2.878-2.97\n                      c-2.375,0-4.294,2.102-4.294,4.66c0,1.69,1.05,2.968,2.878,2.968C215.099,264.565,217.018,262.464,217.018,259.906z"/> </g> <g> <path id="logInPadNu9Nu" class="st4 logInPadEl" d="M336.359,270.732l-0.045-0.046c-0.32,0.183-1.051,0.32-1.919,0.32c-4.203,0-7.081-3.107-7.081-7.537\n                      c0-6.303,4.614-11.694,11.877-11.694c5.07,0,8.542,2.923,8.542,7.719c0,3.153-1.279,6.212-3.7,9.684l-9.638,13.841\n                      c-0.137,0.228-0.274,0.32-0.595,0.32h-5.527c-0.32,0-0.411-0.228-0.228-0.457L336.359,270.732z M341.703,260.499\n                      c0-2.147-1.233-3.563-3.335-3.563c-2.923,0-4.933,2.604-4.933,5.528c0,2.101,1.233,3.517,3.335,3.517\n                      C339.694,265.981,341.703,263.378,341.703,260.499z"/> </g> <g> <path id="logInPadNu0Nu" class="st4 logInPadEl" d="M184.638,368.585c2.01-4.111,5.436-6.075,9.958-6.075c4.842,0,8.131,2.649,8.131,7.491\n                      c0,3.061-2.01,15.485-3.471,18.499c-2.01,4.111-5.482,6.075-9.958,6.075c-4.842,0-8.131-2.649-8.131-7.491\n                      C181.166,384.024,183.176,371.599,184.638,368.585z M190.028,389.414c1.553,0,2.741-0.823,3.38-2.193\n                      c0.959-1.873,3.152-14.343,3.152-16.718c0-1.644-0.914-2.832-2.695-2.832c-1.553,0-2.741,0.822-3.38,2.193\n                      c-0.959,1.873-3.152,14.343-3.152,16.718C187.333,388.226,188.246,389.414,190.028,389.414z"/> </g> </g> </g> </svg> </div> </div> <div class="loginElem"> <div id="loginLogut"></div> </div> </div> </form> </div> <div class="gamesImgContainer"> <img class="startDsLogo" src="'+c+'"/> <img class="sartGamesImg" src="'+d+'"/> </div> <div class="logInVersion"></div> </div> <div id="modalDialogErr" class="modal" style="display:none"></div> <div id="modalDialogPriVers" class="modal" style="display:none"></div> ';e.exports=u},46700:(e,t,s)=>{var i={"./af":94506,"./af.js":94506,"./ar":59687,"./ar-dz":62887,"./ar-dz.js":62887,"./ar-kw":66307,"./ar-kw.js":66307,"./ar-ly":51664,"./ar-ly.js":51664,"./ar-ma":89926,"./ar-ma.js":89926,"./ar-sa":85207,"./ar-sa.js":85207,"./ar-tn":52912,"./ar-tn.js":52912,"./ar.js":59687,"./az":5011,"./az.js":5011,"./be":25997,"./be.js":25997,"./bg":4427,"./bg.js":4427,"./bm":85385,"./bm.js":85385,"./bn":67703,"./bn-bd":57002,"./bn-bd.js":57002,"./bn.js":67703,"./bo":39841,"./bo.js":39841,"./br":45642,"./br.js":45642,"./bs":69038,"./bs.js":69038,"./ca":53512,"./ca.js":53512,"./cs":39497,"./cs.js":39497,"./cv":6479,"./cv.js":6479,"./cy":89318,"./cy.js":89318,"./da":97229,"./da.js":97229,"./de":63460,"./de-at":51044,"./de-at.js":51044,"./de-ch":26445,"./de-ch.js":26445,"./de.js":63460,"./dv":32096,"./dv.js":32096,"./el":16048,"./el.js":16048,"./en-au":74301,"./en-au.js":74301,"./en-ca":66855,"./en-ca.js":66855,"./en-gb":761,"./en-gb.js":761,"./en-ie":46127,"./en-ie.js":46127,"./en-il":49157,"./en-il.js":49157,"./en-in":37199,"./en-in.js":37199,"./en-nz":31511,"./en-nz.js":31511,"./en-sg":47309,"./en-sg.js":47309,"./eo":92160,"./eo.js":92160,"./es":68582,"./es-do":71885,"./es-do.js":71885,"./es-mx":68131,"./es-mx.js":68131,"./es-us":16962,"./es-us.js":16962,"./es.js":68582,"./et":98890,"./et.js":98890,"./eu":37704,"./eu.js":37704,"./fa":22562,"./fa.js":22562,"./fi":70877,"./fi.js":70877,"./fil":34246,"./fil.js":34246,"./fo":78341,"./fo.js":78341,"./fr":19867,"./fr-ca":82347,"./fr-ca.js":82347,"./fr-ch":17683,"./fr-ch.js":17683,"./fr.js":19867,"./fy":21982,"./fy.js":21982,"./ga":13905,"./ga.js":13905,"./gd":13443,"./gd.js":13443,"./gl":66905,"./gl.js":66905,"./gom-deva":91324,"./gom-deva.js":91324,"./gom-latn":41890,"./gom-latn.js":41890,"./gu":37134,"./gu.js":37134,"./he":96835,"./he.js":96835,"./hi":81394,"./hi.js":81394,"./hr":13564,"./hr.js":13564,"./hu":46269,"./hu.js":46269,"./hy-am":57269,"./hy-am.js":57269,"./id":44254,"./id.js":44254,"./is":8699,"./is.js":8699,"./it":28301,"./it-ch":92887,"./it-ch.js":92887,"./it.js":28301,"./ja":64642,"./ja.js":64642,"./jv":62168,"./jv.js":62168,"./ka":94501,"./ka.js":94501,"./kk":49537,"./kk.js":49537,"./km":45808,"./km.js":45808,"./kn":34881,"./kn.js":34881,"./ko":62951,"./ko.js":62951,"./ku":92452,"./ku.js":92452,"./ky":1853,"./ky.js":1853,"./lb":77639,"./lb.js":77639,"./lo":34502,"./lo.js":34502,"./lt":60874,"./lt.js":60874,"./lv":18237,"./lv.js":18237,"./me":87878,"./me.js":87878,"./mi":64234,"./mi.js":64234,"./mk":17535,"./mk.js":17535,"./ml":43896,"./ml.js":43896,"./mn":63046,"./mn.js":63046,"./mr":80927,"./mr.js":80927,"./ms":37224,"./ms-my":66332,"./ms-my.js":66332,"./ms.js":37224,"./mt":24866,"./mt.js":24866,"./my":24206,"./my.js":24206,"./nb":66723,"./nb.js":66723,"./ne":45097,"./ne.js":45097,"./nl":37529,"./nl-be":1355,"./nl-be.js":1355,"./nl.js":37529,"./nn":30296,"./nn.js":30296,"./oc-lnc":4802,"./oc-lnc.js":4802,"./pa-in":77057,"./pa-in.js":77057,"./pl":69850,"./pl.js":69850,"./pt":15552,"./pt-br":83726,"./pt-br.js":83726,"./pt.js":15552,"./ro":1717,"./ro.js":1717,"./ru":79117,"./ru.js":79117,"./sd":61742,"./sd.js":61742,"./se":92049,"./se.js":92049,"./si":83329,"./si.js":83329,"./sk":27619,"./sk.js":27619,"./sl":76707,"./sl.js":76707,"./sq":84281,"./sq.js":84281,"./sr":60436,"./sr-cyrl":13408,"./sr-cyrl.js":13408,"./sr.js":60436,"./ss":27500,"./ss.js":27500,"./sv":6950,"./sv.js":6950,"./sw":54222,"./sw.js":54222,"./ta":73746,"./ta.js":73746,"./te":1130,"./te.js":1130,"./tet":34740,"./tet.js":34740,"./tg":13378,"./tg.js":13378,"./th":20628,"./th.js":20628,"./tk":92622,"./tk.js":92622,"./tl-ph":30100,"./tl-ph.js":30100,"./tlh":22871,"./tlh.js":22871,"./tr":33600,"./tr.js":33600,"./tzl":18985,"./tzl.js":18985,"./tzm":3627,"./tzm-latn":51145,"./tzm-latn.js":51145,"./tzm.js":3627,"./ug-cn":4790,"./ug-cn.js":4790,"./uk":97712,"./uk.js":97712,"./ur":99529,"./ur.js":99529,"./uz":99141,"./uz-latn":61737,"./uz-latn.js":61737,"./uz.js":99141,"./vi":98205,"./vi.js":98205,"./x-pseudo":20697,"./x-pseudo.js":20697,"./yo":37826,"./yo.js":37826,"./zh-cn":83994,"./zh-cn.js":83994,"./zh-hk":36892,"./zh-hk.js":36892,"./zh-mo":43884,"./zh-mo.js":43884,"./zh-tw":85136,"./zh-tw.js":85136};function n(e){var t=r(e);return s(t)}function r(e){if(!s.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=r,e.exports=n,n.id=46700},69660:()=>{!function(scriptGlobalObject,window,document,undefined){function is(e,t){return typeof e===t}function testRunner(){var e,t,s,i,n,r;for(var o in tests)if(tests.hasOwnProperty(o)){if(e=[],(t=tests[o]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(s=0;s<t.options.aliases.length;s++)e.push(t.options.aliases[s].toLowerCase());for(i=is(t.fn,"function")?t.fn():t.fn,n=0;n<e.length;n++)1===(r=e[n].split(".")).length?Modernizr[r[0]]=i:(Modernizr[r[0]]&&(!Modernizr[r[0]]||Modernizr[r[0]]instanceof Boolean)||(Modernizr[r[0]]=new Boolean(Modernizr[r[0]])),Modernizr[r[0]][r[1]]=i),classes.push((i?"":"no-")+r.join("-"))}}function setClasses(e){var t=docElement.className,s=Modernizr._config.classPrefix||"";if(isSVG&&(t=t.baseVal),Modernizr._config.enableJSClass){var i=new RegExp("(^|\\s)"+s+"no-js(\\s|$)");t=t.replace(i,"$1"+s+"js$2")}Modernizr._config.enableClasses&&(e.length>0&&(t+=" "+s+e.join(" "+s)),isSVG?docElement.className.baseVal=t:docElement.className=t)}function createElement(){return"function"!=typeof document.createElement?document.createElement(arguments[0]):isSVG?document.createElementNS.call(document,"http://www.w3.org/2000/svg",arguments[0]):document.createElement.apply(document,arguments)}function contains(e,t){return!!~(""+e).indexOf(t)}function getBody(){var e=document.body;return e||((e=createElement(isSVG?"svg":"body")).fake=!0),e}function injectElementWithStyles(e,t,s,i){var n,r,o,a,c="modernizr",d=createElement("div"),l=getBody();if(parseInt(s,10))for(;s--;)(o=createElement("div")).id=i?i[s]:c+(s+1),d.appendChild(o);return(n=createElement("style")).type="text/css",n.id="s"+c,(l.fake?l:d).appendChild(n),l.appendChild(d),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),d.id=c,l.fake&&(l.style.background="",l.style.overflow="hidden",a=docElement.style.overflow,docElement.style.overflow="hidden",docElement.appendChild(l)),r=t(d,e),l.fake?(l.parentNode.removeChild(l),docElement.style.overflow=a,docElement.offsetHeight):d.parentNode.removeChild(d),!!r}function domToCSS(e){return e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()})).replace(/^ms-/,"-ms-")}function computedStyle(e,t,s){var i;if("getComputedStyle"in window){i=getComputedStyle.call(window,e,t);var n=window.console;if(null!==i)s&&(i=i.getPropertyValue(s));else if(n){n[n.error?"error":"log"].call(n,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}}else i=!t&&e.currentStyle&&e.currentStyle[s];return i}function nativeTestProps(e,t){var s=e.length;if("CSS"in window&&"supports"in window.CSS){for(;s--;)if(window.CSS.supports(domToCSS(e[s]),t))return!0;return!1}if("CSSSupportsRule"in window){for(var i=[];s--;)i.push("("+domToCSS(e[s])+":"+t+")");return injectElementWithStyles("@supports ("+(i=i.join(" or "))+") { #modernizr { position: absolute; } }",(function(e){return"absolute"===computedStyle(e,null,"position")}))}return undefined}function cssToDOM(e){return e.replace(/([a-z])-([a-z])/g,(function(e,t,s){return t+s.toUpperCase()})).replace(/^-/,"")}function testProps(e,t,s,i){function n(){o&&(delete mStyle.style,delete mStyle.modElem)}if(i=!is(i,"undefined")&&i,!is(s,"undefined")){var r=nativeTestProps(e,s);if(!is(r,"undefined"))return r}for(var o,a,c,d,l,u=["modernizr","tspan","samp"];!mStyle.style&&u.length;)o=!0,mStyle.modElem=createElement(u.shift()),mStyle.style=mStyle.modElem.style;for(c=e.length,a=0;a<c;a++)if(d=e[a],l=mStyle.style[d],contains(d,"-")&&(d=cssToDOM(d)),mStyle.style[d]!==undefined){if(i||is(s,"undefined"))return n(),"pfx"!==t||d;try{mStyle.style[d]=s}catch(e){}if(mStyle.style[d]!==l)return n(),"pfx"!==t||d}return n(),!1}function fnBind(e,t){return function(){return e.apply(t,arguments)}}function testDOMProps(e,t,s){var i;for(var n in e)if(e[n]in t)return!1===s?e[n]:is(i=t[e[n]],"function")?fnBind(i,s||t):i;return!1}function testPropsAll(e,t,s,i,n){var r=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+cssomPrefixes.join(r+" ")+r).split(" ");return is(t,"string")||is(t,"undefined")?testProps(o,t,i,n):testDOMProps(o=(e+" "+domPrefixes.join(r+" ")+r).split(" "),t,s)}function testAllProps(e,t,s){return testPropsAll(e,undefined,undefined,t,s)}function roundedEquals(e,t){return e-1===t||e===t||e+1===t}function addTest(e,t){if("object"==typeof e)for(var s in e)hasOwnProp(e,s)&&addTest(s,e[s]);else{var i=(e=e.toLowerCase()).split("."),n=Modernizr[i[0]];if(2===i.length&&(n=n[i[1]]),void 0!==n)return Modernizr;t="function"==typeof t?t():t,1===i.length?Modernizr[i[0]]=t:(!Modernizr[i[0]]||Modernizr[i[0]]instanceof Boolean||(Modernizr[i[0]]=new Boolean(Modernizr[i[0]])),Modernizr[i[0]][i[1]]=t),setClasses([(t&&!1!==t?"":"no-")+i.join("-")]),Modernizr._trigger(e,t)}return Modernizr}var tests=[],ModernizrProto={_version:"3.11.3",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var s=this;setTimeout((function(){t(s[e])}),0)},addTest:function(e,t,s){tests.push({name:e,fn:t,options:s})},addAsyncTest:function(e){tests.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=ModernizrProto,Modernizr=new Modernizr;var classes=[],docElement=document.documentElement,isSVG="svg"===docElement.nodeName.toLowerCase();Modernizr.addTest("json","JSON"in window&&"parse"in JSON&&"stringify"in JSON);var bool=!0;try{window.postMessage({toString:function(){bool=!1}},"*")}catch(e){}Modernizr.addTest("postmessage",new Boolean("postMessage"in window)),Modernizr.addTest("postmessage.structuredclones",bool),function(){var e=createElement("video");Modernizr.addTest("video",(function(){var t=!1;try{(t=!!e.canPlayType)&&(t=new Boolean(t))}catch(e){}return t}));try{e.canPlayType&&(Modernizr.addTest("video.ogg",e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")),Modernizr.addTest("video.h264",e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")),Modernizr.addTest("video.h265",e.canPlayType('video/mp4; codecs="hev1"').replace(/^no$/,"")),Modernizr.addTest("video.webm",e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")),Modernizr.addTest("video.vp9",e.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")),Modernizr.addTest("video.hls",e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")),Modernizr.addTest("video.av1",e.canPlayType('video/mp4; codecs="av01"').replace(/^no$/,"")))}catch(e){}}();var supports=!1;try{supports="WebSocket"in window&&2===window.WebSocket.CLOSING}catch(e){}Modernizr.addTest("websockets",supports);var omPrefixes="Moz O ms Webkit",cssomPrefixes=ModernizrProto._config.usePrefixes?omPrefixes.split(" "):[];ModernizrProto._cssomPrefixes=cssomPrefixes;var modElem={elem:createElement("modernizr")};Modernizr._q.push((function(){delete modElem.elem}));var mStyle={style:modElem.elem.style};Modernizr._q.unshift((function(){delete mStyle.style}));var domPrefixes=ModernizrProto._config.usePrefixes?omPrefixes.toLowerCase().split(" "):[];ModernizrProto._domPrefixes=domPrefixes,ModernizrProto.testAllProps=testPropsAll,ModernizrProto.testAllProps=testAllProps,Modernizr.addTest("cssanimations",testAllProps("animationName","a",!0)),Modernizr.addTest("backdropfilter",testAllProps("backdropFilter")),Modernizr.addTest("bgrepeatround",testAllProps("backgroundRepeat","round")),Modernizr.addTest("bgrepeatspace",testAllProps("backgroundRepeat","space")),Modernizr.addTest("backgroundsize",testAllProps("backgroundSize","100%",!0)),Modernizr.addTest("bgsizecover",testAllProps("backgroundSize","cover")),Modernizr.addTest("borderimage",testAllProps("borderImage","url() 1",!0)),Modernizr.addTest("borderradius",testAllProps("borderRadius","0px",!0)),Modernizr.addTest("boxshadow",testAllProps("boxShadow","1px 1px",!0)),Modernizr.addTest("boxsizing",testAllProps("boxSizing","border-box",!0)&&(document.documentMode===undefined||document.documentMode>7));var prefixes=ModernizrProto._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];ModernizrProto._prefixes=prefixes,Modernizr.addTest("csscalc",(function(){var e=createElement("a");return e.style.cssText="width:"+prefixes.join("calc(10px);width:"),!!e.style.length}));var testStyles=ModernizrProto.testStyles=injectElementWithStyles;Modernizr.addTest("checked",(function(){return testStyles("#modernizr {position:absolute} #modernizr input {margin-left:10px} #modernizr :checked {margin-left:20px;display:block}",(function(e){var t=createElement("input");return t.setAttribute("type","checkbox"),t.setAttribute("checked","checked"),e.appendChild(t),20===t.offsetLeft}))})),Modernizr.addTest("cssgridlegacy",testAllProps("grid-columns","10px",!0)),Modernizr.addTest("cssgrid",testAllProps("grid-template-rows","none",!0));var newSyntax="CSS"in window&&"supports"in window.CSS,oldSyntax="supportsCSS"in window;Modernizr.addTest("supports",newSyntax||oldSyntax),Modernizr.addTest("cssfilters",(function(){if(Modernizr.supports)return testAllProps("filter","blur(2px)");var e=createElement("a");return e.style.cssText=prefixes.join("filter:blur(2px); "),!!e.style.length&&(document.documentMode===undefined||document.documentMode>9)})),Modernizr.addTest("flexbox",testAllProps("flexBasis","1px",!0)),Modernizr.addTest("cssgradients",(function(){for(var e,t="background-image:",s="",i=0,n=prefixes.length-1;i<n;i++)e=0===i?"to ":"",s+=t+prefixes[i]+"linear-gradient("+e+"left top, #9f9, white);";Modernizr._config.usePrefixes&&(s+=t+"-webkit-gradient(linear,left top,right bottom,from(#9f9),to(white));");var r=createElement("a").style;return r.cssText=s,(""+r.backgroundImage).indexOf("gradient")>-1})),Modernizr.addTest("multiplebgs",(function(){var e=createElement("a").style;return e.cssText="background:url(https://),url(https://),red url(https://)",/(url\s*\(.*?){3}/.test(e.background)})),Modernizr.addTest("opacity",(function(){var e=createElement("a").style;return e.cssText=prefixes.join("opacity:.55;"),/^0.55$/.test(e.opacity)})),Modernizr.addTest("rgba",(function(){var e=createElement("a").style;return e.cssText="background-color:rgba(150,255,150,.5)",(""+e.backgroundColor).indexOf("rgba")>-1}));var testProp=ModernizrProto.testProp=function(e,t,s){return testProps([e],undefined,t,s)},hasOwnProp,e;Modernizr.addTest("textshadow",testProp("textShadow","1px 1px")),Modernizr.addTest("csstransforms",(function(){return-1===navigator.userAgent.indexOf("Android 2.")&&testAllProps("transform","scale(1)",!0)})),Modernizr.addTest("csstransitions",testAllProps("transition","all",!0)),testStyles("#modernizr { width: 50vw; }",(function(e){var t=parseInt(window.innerWidth/2,10),s=parseInt(computedStyle(e,null,"width"),10);Modernizr.addTest("cssvwunit",roundedEquals(s,t))})),Modernizr.addTest("es6array",!!(Array.prototype&&Array.prototype.copyWithin&&Array.prototype.fill&&Array.prototype.find&&Array.prototype.findIndex&&Array.prototype.keys&&Array.prototype.entries&&Array.prototype.values&&Array.from&&Array.of)),Modernizr.addTest("arrow",(function(){try{eval("()=>{}")}catch(e){return!1}return!0})),Modernizr.addTest("es6collections",!!(window.Map&&window.Set&&window.WeakMap&&window.WeakSet)),Modernizr.addTest("generators",(function(){try{new Function("function* test() {}")()}catch(e){return!1}return!0})),Modernizr.addTest("es6math",!!(Math&&Math.clz32&&Math.cbrt&&Math.imul&&Math.sign&&Math.log10&&Math.log2&&Math.log1p&&Math.expm1&&Math.cosh&&Math.sinh&&Math.tanh&&Math.acosh&&Math.asinh&&Math.atanh&&Math.hypot&&Math.trunc&&Math.fround)),Modernizr.addTest("es6number",!!(Number.isFinite&&Number.isInteger&&Number.isSafeInteger&&Number.isNaN&&Number.parseInt&&Number.parseFloat&&Number.isInteger(Number.MAX_SAFE_INTEGER)&&Number.isInteger(Number.MIN_SAFE_INTEGER)&&Number.isFinite(Number.EPSILON))),Modernizr.addTest("es6object",!!(Object.assign&&Object.is&&Object.setPrototypeOf)),Modernizr.addTest("promises",(function(){return"Promise"in window&&"resolve"in window.Promise&&"reject"in window.Promise&&"all"in window.Promise&&"race"in window.Promise&&(new window.Promise((function(t){e=t})),"function"==typeof e);var e})),Modernizr.addTest("es6string",!!(String.fromCodePoint&&String.raw&&String.prototype.codePointAt&&String.prototype.repeat&&String.prototype.startsWith&&String.prototype.endsWith&&String.prototype.includes)),e={}.hasOwnProperty,hasOwnProp=is(e,"undefined")||is(e.call,"undefined")?function(e,t){return t in e&&is(e.constructor.prototype[t],"undefined")}:function(t,s){return e.call(t,s)},ModernizrProto._l={},ModernizrProto.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),Modernizr.hasOwnProperty(e)&&setTimeout((function(){Modernizr._trigger(e,Modernizr[e])}),0)},ModernizrProto._trigger=function(e,t){if(this._l[e]){var s=this._l[e];setTimeout((function(){var e;for(e=0;e<s.length;e++)(0,s[e])(t)}),0),delete this._l[e]}},Modernizr._q.push((function(){ModernizrProto.addTest=addTest})),Modernizr.addTest("svgasimg",document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"));var toStringFn={}.toString;Modernizr.addTest("svgclippaths",(function(){return!!document.createElementNS&&/SVGClipPath/.test(toStringFn.call(document.createElementNS("http://www.w3.org/2000/svg","clipPath")))})),Modernizr.addTest("svgfilters",(function(){var e=!1;try{e="SVGFEColorMatrixElement"in window&&2===SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(e){}return e})),Modernizr.addTest("inlinesvg",(function(){var e=createElement("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"===("undefined"!=typeof SVGRect&&e.firstChild&&e.firstChild.namespaceURI)})),Modernizr.addTest("smil",(function(){return!!document.createElementNS&&/SVGAnimate/.test(toStringFn.call(document.createElementNS("http://www.w3.org/2000/svg","animate")))})),Modernizr.addTest("urlparser",(function(){try{return"http://modernizr.com/"===new URL("http://modernizr.com/").href}catch(e){return!1}})),testRunner(),setClasses(classes),delete ModernizrProto.addTest,delete ModernizrProto.addAsyncTest;for(var i=0;i<Modernizr._q.length;i++)Modernizr._q[i]();scriptGlobalObject.Modernizr=Modernizr}(window,window,document)},85770:(e,t,s)=>{"use strict";s.d(t,{D:()=>n,q:()=>r});var i=s(93468);class n extends i.T${}class r extends i.eV{static get instance(){return null==this.internalInstance&&(this.internalInstance=new r),this.internalInstance}constructor(){super()}isFatalError(e){return!1}setMessageText(e,t){return t}}},66115:(e,t,s)=>{"use strict";var i,n,r,o,a;s.d(t,{Ac:()=>d,BR:()=>h,Ez:()=>g,KZ:()=>u,O4:()=>c,fx:()=>n,h7:()=>i,jM:()=>m,jg:()=>a,qY:()=>l,rr:()=>r,zT:()=>o}),function(e){e.Pos="pos",e.Online="online",e.Prepare="prepare",e.Terminal="terminal"}(i||(i={})),function(e){e.browser="browser",e.android="android"}(n||(n={})),function(e){e.device="device",e.initId="initId"}(r||(r={})),function(e){e.DEFAULT="default",e.ONE_WALLET="one_wallet"}(o||(o={})),function(e){e.POS="vgpos.net"}(a||(a={}));class c{constructor(e,t,s,i,n,r,o){this.gamType=e,this.preFix=t,this.eventType=s,this.numberFutureGames=i,this.numberPastGames=n,this.showWinTime=r,this.orderNumber=o}toString(){return this.eventType}}c.DOG6=new c("dog6","dos_","dog",2,8,36,1),c.DOG63=new c("dog63","dot_","dog63",2,8,36,2),c.DOG8=new c("dog8","doe_","dog8",2,8,36,3),c.HORSE=new c("horse","hor_","horse",2,8,40,4),c.HORSE_CLASSIC=new c("horsec","hoc_","horsec",2,8,35,5),c.TROT=new c("sulky","tro_","sulky",2,8,105,6),c.KART=new c("kart5","kar_","kart",2,8,52,7),c.RTT=new c("rtt","rtt_","rtt",2,8,21,8),c.KICKBOX=new c("wgp","wgp_","wgp",2,8,105,9);class d{}d.defaultFinishUrl="-",d.refresh="refresh",d.parent="parent",d.close="close",d.showLogoutScreen="showLogoutScreen",d.set_logutdelay=5e3;const l=[251,851];class u{constructor(e,t,s,i,n,r,o,a,c,d,l,u,h,g,m,T,p,f,S,I,_,k,v,w,E,O,R,y){this.winnerFrom=e,this.winnerTo=t,this.forcastFrom=s,this.forcastTo=i,this.place2From=n,this.place2To=r,this.place3From=o,this.place3To=a,this.forcastNoOrderFrom=c,this.forcastNoOrderTo=d,this.tricastFrom=l,this.tricastTo=u,this.tricastNoOrderFrom=h,this.tricastNoOrderTo=g,this.underOverFrom=m,this.underOverTo=T,this.oddEvenFrom=p,this.oddEvenTo=f,this.twoInThreeFrom=S,this.twoInThreeTo=I,this.sumTricastFrom=_,this.sumTricastTo=k,this.sumForcastFrom=v,this.sumForcastTo=w,this.secondFrom=E,this.secondTo=O,this.thirdFrom=R,this.thirdTo=y}}var h,g,m;u.DOG63=new u(0,5,6,35,36,41,42,47,48,62,63,182,183,202,203,204,205,206,207,221,222,231,232,240,241,246,247,252),function(e){e.LOW="low",e.MEDIUM="medium",e.HEIGH="high"}(h||(h={})),function(e){e.USER="USER",e.INITID="INITID"}(g||(g={})),function(e){e.FUTURE="future",e.LIVE="live",e.PAST="past"}(m||(m={}))},85765:(e,t,s)=>{"use strict";s.d(t,{i:()=>O});var i=s(81271),n=s.n(i),r=s(30703),o=s(85770),a=s(87488),c=s(78570),d=s(2464),l=s.n(d),u=s(81026),h=s(93468),g=s(66115),m=s(23859),T=s(47442),p=s(49001),f=(s(38659),s(64102),function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))});class S{static initializeLogin(e){if(this.basicSetUp)return;this.userInput=n()("#user_input"),this.passwordInput=n()("#password_input"),this.userInput.attr("placeholder",a.l.instance.getTextCommon("login_opid")),this.passwordInput.attr("placeholder",a.l.instance.getTextCommon("login_password")),m.O.deviceSystem===g.fx.android&&this.passwordInput.attr("type","text"),n()(".loginButtonText").html(a.l.instance.getTextCommon("Login").toUpperCase()),this.userInput.mask("000-000-000-000"),n()("#loginButton").on("click",(()=>{this.login(this.userInput.val(),this.passwordInput.val(),e)})),this.passwordInput.on("click",(e=>{n()(e.target).removeAttr("readonly")})),this.passwordInput.on("focus",(e=>{n()(e.target).removeAttr("readonly")})),n()("#userInputClear").on("click",(()=>{this.userInput.val(""),this.userInput.trigger("focus")})),n()("#passwordInputClear").on("click",(()=>{this.passwordInput.val(""),this.passwordInput.trigger("focus")}));const t="mouseup";n()("#logInPadNu0").on(t,(e=>{this.numbPadPressed("0",48)})),n()("#logInPadNu0Nu").on(t,(e=>{this.numbPadPressed("0",48)})),n()("#logInPadNu1").on(t,(e=>{this.numbPadPressed("1",49)})),n()("#logInPadNu1Nu").on(t,(e=>{this.numbPadPressed("1",49)})),n()("#logInPadNu2").on(t,(e=>{this.numbPadPressed("2",50)})),n()("#logInPadNu2Nu").on(t,(e=>{this.numbPadPressed("2",50)})),n()("#logInPadNu3").on(t,(e=>{this.numbPadPressed("3",51)})),n()("#logInPadNu3Nu").on(t,(e=>{this.numbPadPressed("3",51)})),n()("#logInPadNu4").on(t,(e=>{this.numbPadPressed("4",52)})),n()("#logInPadNu4Nu").on(t,(e=>{this.numbPadPressed("4",52)})),n()("#logInPadNu5").on(t,(e=>{this.numbPadPressed("5",53)})),n()("#logInPadNu5Nu").on(t,(e=>{this.numbPadPressed("5",53)})),n()("#logInPadNu6").on(t,(e=>{this.numbPadPressed("6",54)})),n()("#logInPadNu6Nu").on(t,(e=>{this.numbPadPressed("6",54)})),n()("#logInPadNu7").on(t,(e=>{this.numbPadPressed("7",55)})),n()("#logInPadNu7Nu").on(t,(e=>{this.numbPadPressed("7",55)})),n()("#logInPadNu8").on(t,(e=>{this.numbPadPressed("8",56)})),n()("#logInPadNu8Nu").on(t,(e=>{this.numbPadPressed("8",56)})),n()("#logInPadNu9").on(t,(e=>{this.numbPadPressed("9",57)})),n()("#logInPadNu9Nu").on(t,(e=>{this.numbPadPressed("9",57)})),n()("#logInPadDel").on(t,(e=>{this.numbPadPressed("Backspace",8)})),n()("#logInPadDelArr").on(t,(e=>{this.numbPadPressed("Backspace",8)})),this.userInput.on("keyup",(e=>{this.userInput.val().length>=this.INPUT_FIELD_LENGTH&&e.target.selectionStart>=this.INPUT_FIELD_LENGTH&&""===this.passwordInput.val()&&39!==e.keyCode&&this.passwordInput.trigger("focus")})),this.userInput.on("blur",(e=>{this.charAtPos=e.target.selectionStart,this.beforeFocus=1,u.Y.debug("KKKKKKKKKKKK Selection start:"+this.charAtPos)})),this.passwordInput.on("blur",(e=>{this.charAtPosPassword=e.target.selectionStart,this.beforeFocus=2,u.Y.debug("KKKKKKKKKKKK Password Selection start:"+this.charAtPosPassword)})),e.deviceSystem!==g.fx.android?n()("#loginLogut").css("visibility","hidden"):(n()("#loginLogut").css("visibility","visible"),n()("#loginLogut").on("click",(()=>{u.Y.debug("Logout to System"),r.u.instance.closeWebSocketClient(),window.MessageBridge.exit()}))),this.basicSetUp=!0}static numbPadPressed(e,t){u.Y.debug("KKKKKKKKKKK clicked key"+e);let s=this.userInput,i=this.charAtPos;if(2===this.beforeFocus)s=this.passwordInput,i=this.charAtPosPassword;else if(this.userInput.val().length>=this.INPUT_FIELD_LENGTH-1&&this.userInput[0].selectionStart>=this.INPUT_FIELD_LENGTH-1&&""===this.passwordInput.val()&&8!==t)setTimeout((()=>{this.passwordInput.trigger("focus")}),20);else if(this.userInput.val().length>=this.INPUT_FIELD_LENGTH&&this.userInput[0].selectionStart>=this.INPUT_FIELD_LENGTH&&8!==t)return void this.userInput.trigger("focus");s.is(":focus")||(s.trigger("focus"),s[0].setSelectionRange&&s[0].setSelectionRange(i,i));const r=n().Event("keydown");r.key=e,r.keyCode=t,r.which=t,r.ctrlKey=!1,r.charCode=t,s.trigger(r),8!==t?s[0].setSelectionRange&&s[0].setSelectionRange(i+1,i+1):s[0].setSelectionRange&&s[0].setSelectionRange(Math.max(0,i-1),Math.max(0,i-1))}static bindKeyEvent(e){this.isEventBind||(this.userInput.on("keydown",(()=>{this.beforeSelectinStart=this.userInput[0].selectionStart})),n()(document).on("keyup",(t=>{if(this.isVisible){const s=this.userInput[0].selectionStart;if(u.Y.debug("EEEEEEEEEEEEEEEEEEEEEEE Key Value: "+t.which+" selection start:"+s+t.which+" before selection start:"+this.beforeSelectinStart),13===t.which&&this.login(this.userInput.val(),this.passwordInput.val(),e),40===t.which&&this.passwordInput.trigger("focus"),38===t.which&&this.userInput.trigger("focus"),39===t.which&&"string"==typeof this.userInput.val()&&!this.passwordInput.is(":focus")&&this.beforeSelectinStart===this.userInput.val().length&&this.beforeSelectinStart>0&&(this.passwordInput.trigger("focus"),this.passwordInput[0].setSelectionRange&&this.passwordInput[0].setSelectionRange(0,0)),37===t.which&&!this.userInput.is(":focus")&&0===this.passwordInput[0].selectionStart&&(this.userInput.trigger("focus"),this.userInput[0].setSelectionRange)){const e=this.userInput.val().length;this.userInput[0].setSelectionRange(e,e)}}})),this.isEventBind=!0)}static unbindKeyEvent(){n()(document).off("keyup"),this.isEventBind=!1}static login(e,t,s){return f(this,void 0,void 0,(function*(){try{this.validate(e,t),s.hideLoginScreen(),s.showLooadingScreen(),yield s.userLogin(!0,e,t)}catch(e){this.showErrorMessage(e.message)}}))}static validate(e,t){if(!e||!t)throw new Error(a.l.instance.getTextCommon("error_all_fields"));if(!new RegExp("([0-9]{3}[-]){3}[0-9]{3}").test(e))throw new Error(a.l.instance.getTextCommon("errror_id_format"))}static showErrorMessage(e){if(this.isErrorFieldLocked)return;this.isErrorFieldLocked=!0;const t=n()("#loginError");t.css("opacity","1"),n()("#errorMessage").html(e),t.css("display","block"),setTimeout((()=>{t.css("opacity","0"),this.isErrorFieldLocked=!1}),this.errorMessageCoolDown)}}S.INPUT_FIELD_LENGTH=15,S.errorMessageCoolDown=3e3,S.isErrorFieldLocked=!1,S.basicSetUp=!1,S.isVisible=!1,S.isEventBind=!1,S.charAtPos=0,S.charAtPosPassword=0,S.beforeFocus=1,S.beforeSelectinStart=0,S.userInput=null,S.passwordInput=null;var I=s(49013),_=s(39108),k=s(18429),v=s(88284),w=s(55291),E=function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};class O{constructor(){this._performanceLevel=g.BR.HEIGH,this.refreshAllways=!0,this._reloadImmediatelySocketServeDisconnect=T.Z.gameSettings.reloadImmediatelySocketServeDisconnect,this._gamesStarted=!1,this.touchIsDone=!0,this._gamesList=[],this.deviceInitResult=null,this.initUserResult=null,this.initPosIdResult=null,this.initIdResult=null,this._userId="",this.gamepool=null,this._creditFactor=1e4,this._creditFactorDigitsNumber=4,this._decimalPlaces=2,this._coinValueList=[],this._maxStakePerBet=2e3,this._checkMinBet=!1,this._enableAddCredit=!1,this._integrationType=g.zT.DEFAULT,this._autoSwitchGame=!0,this._initSetSaved=!0,this._posLoginType=g.rr.device,this.noTouchHammerJsList=[],this.isTouch=!1,this.clickTollerance=T.Z.gameSettings.clickTollerance,this._deviceId=O.NO_DEVICE_ID,this._initId=O.NO_DEVICE_ID,this._deviceType=g.h7.Pos,this._deviceSystem="",this._ignoreNoPrinter=!1,this._printType=w.sF.STANDAR,this._sessionStartServerTime=0,this._sessionEndServerTime=0,this._scannInputDisabled=!1,this._tempGameResults=[],this._tempExternTicketsResults=[],this.setTempResultsChecked=!1,this.setTempExternTicketsChecked=!1,this.touchRecognized=!1,this.touchSetupRecognized=!1,this._touchDown=!1,this._gameStopped=!1,this._setUpError=!1,this.tabActive=!0,this.loginType=g.Ez.USER,this.loadPercentageElement=null,this._isUpdatingVersion=!1,this._browserPrintWidth=72,this.observers=[],this.posGamepoolObservers=[],this.sessionUniqueID="-"}addPosHandler(e){this.posGamepoolObservers.push(e)}removePosHandler(e){const t=this.posGamepoolObservers.findIndex((t=>t===e));t>=0&&this.posGamepoolObservers.splice(t,1)}addHandler(e){this.observers.push(e)}removeHandler(e){const t=this.observers.findIndex((t=>t===e));t>=0&&this.observers.splice(t,1)}get performanceLevel(){return this._performanceLevel}get deviceSystem(){return this._deviceSystem}get reloadImmediatelySocketServeDisconnect(){return this._reloadImmediatelySocketServeDisconnect}get gamesStarted(){return this._gamesStarted}get gamesList(){return this._gamesList}set gamesList(e){this._gamesList=e}get creditFactor(){return this._creditFactor}set creditFactor(e){this._creditFactor=e}get creditFactorDigitsNumber(){return this._creditFactorDigitsNumber}set creditFactorDigitsNumber(e){this._creditFactorDigitsNumber=e}get maxStakePerBet(){return this._maxStakePerBet}set maxStakePerBet(e){this._maxStakePerBet=e}get checkMinBet(){return this._checkMinBet}set checkMinBet(e){this._checkMinBet=e}get decimalPlaces(){return this._decimalPlaces}set decimalPlaces(e){this._decimalPlaces=e}get enableAddCredit(){return this._enableAddCredit}get integrationType(){return this._integrationType}get coinValueList(){return this._coinValueList}set coinValueList(e){this._coinValueList=e}get userId(){return this._userId}set userId(e){this._userId=e}get deviceId(){return this._deviceId}set deviceId(e){this._deviceId=e}get initId(){return this._initId}get sessionStartServerTime(){return this._sessionStartServerTime}set sessionStartServerTime(e){this._sessionStartServerTime=e}get scannInputDisabled(){return this._scannInputDisabled}set scannInputDisabled(e){this._scannInputDisabled=e}get tempGameResults(){return this._tempGameResults}set tempGameResults(e){this._tempGameResults=e}get tempExternTicketsResults(){return this._tempExternTicketsResults}get autoSwitchGame(){return this._autoSwitchGame}set autoSwitchGame(e){this._autoSwitchGame=e}get deviceType(){return this._deviceType}get touchDown(){return this._touchDown}get initSetSaved(){return this._initSetSaved}set initSetSaved(e){this._initSetSaved=e}get gameStopped(){return this._gameStopped}get setUpError(){return this._setUpError}get isUpdatingVersion(){return this._isUpdatingVersion}get ignoreNoPrinter(){return this._ignoreNoPrinter}get sessionEndServerTime(){return this._sessionEndServerTime}set sessionEndServerTime(e){this._sessionEndServerTime=e}get printType(){return this._printType}get browserPrintWidth(){return this._browserPrintWidth}startUp(){return E(this,void 0,void 0,(function*(){n()("head").append("<meta name='msapplication-tap-highlight' content='no' />"),window.onerror=(e,t,s,i,n)=>{if(null!=n)if("ResizeObserver loop completed with undelivered notifications."===n.message||"ResizeObserver loop limit exceeded"===n.message)u.Y.error("Resize Observer Loop");else{let i="Unhandled exception (src: "+t+"("+s+")"+e.toString()+n+"\n";n&&(i+=n.stack),u.Y.error(i);const a=o.D.RUNTIM_ERROR;if(!m.O.gameStopped){o.q.instance.normalErrorHandler(a,!0);const e=new _.vy(o.D.RUNTIM_ERROR.code.toString(),i);r.u.instance.sendLogRequest(e)}}else u.Y.error("Window on Error was null")},window.onunhandledrejection=e=>{const t="Unhandled Rejection (reason: "+e.reason+")";u.Y.error(t);const s=o.D.UNHAND_REJECT_ERROR;o.q.instance.normalErrorHandler(s,!1,(()=>{}));const i=new _.vy(o.D.UNHAND_REJECT_ERROR.code.toString(),t);r.u.instance.sendLogRequest(i)},document.addEventListener("visibilitychange",(()=>{"visible"===document.visibilityState?(this.tabActive=!0,u.Y.debug("WWWWWWWWWWWWWWWW Window active")):(this.tabActive=!1,u.Y.debug("WWWWWWWWWWWWWWWW Window inactive"))})),window.addEventListener("pagehide",(e=>{e.persisted&&(this.tabActive=!1,u.Y.debug("WWWWWWWWWWWWWWWW Window inactive"))}));const e=s(42313);let t;if(n()("body").html(e).append("<div id='gamesWrapper'></div>"),n()(".logInVersion").text(T.Z.versionNumber),document.addEventListener("touchstart",(()=>{if(u.Y.debug("TTTTTTTTTTTTTTTTTTTTTTTTT Touch start!"),this._touchDown=!0,this.touchRecognized||(this.touchRecognized=!0,document.documentElement.classList.add("can-touch"),m.O.isTouch=!0,m.O.clickTollerance=15),!this.touchSetupRecognized&&this._gamesStarted){for(const e of this.gamesList)e.offClickEvents();this.deviceType===g.h7.Pos&&this.sendOnOffClickEvents();for(const e of m.O.noTouchHammerJsList)u.Y.debug("Destroy hammertime"),e.destroy();this.touchSetupRecognized=!0}}),{passive:!0}),document.addEventListener("touchend",(()=>{u.Y.debug("TTTTTTTTTTTTTTTTTTTTTTTTT Touch end!"),this._touchDown=!1}),{passive:!0}),document.addEventListener("touchcancel",(()=>{u.Y.debug("TTTTTTTTTTTTTTTTTTTTTTTTT Touch canceled!"),this._touchDown=!1}),{passive:!0}),document.addEventListener("mousedown",(()=>{u.Y.debug("TTTTTTTTTTTTTTTTTTTTTTTTT mouse start!"),this._touchDown=!0})),document.addEventListener("mouseup",(()=>{u.Y.debug("TTTTTTTTTTTTTTTTTTTTTTTTT mouse end!"),this._touchDown=!1})),p.Z.isPosUrl(window.location.href)?(t=g.h7.Pos,this.deviceId=this.getDeviceIdFromPosUrl(window.location.href)):t=this.queryDeviceType(),t===g.h7.Pos){this._deviceType=g.h7.Pos,document.title="POS";const e=p.Z.getUrlParameter(window.location.href,"initId");if(e&&""!==e)this._initId=e,this._posLoginType=g.rr.initId,yield r.u.getServerUrl(this._initId,"posUaid");else{if(this.deviceId===O.NO_DEVICE_ID&&(this.deviceId=p.Z.getUrlParameter(window.location.href,"deviceId"),!this.deviceId)){this.deviceId="-";const e=h.T$.NO_DEVICE_ID;o.q.instance.normalErrorHandler(e,!0);const t=new _.vy(e.code.toString(),e.message);return r.u.instance.sendLogRequest(t),void u.Y.error(e.code+" "+e.message)}yield r.u.getServerUrl(this.deviceId,this.deviceType.toString())}this._deviceSystem=p.Z.getUrlParameter(window.location.href,"system"),this._deviceSystem||(this._deviceSystem=g.fx.browser,u.Y.info("System set to default: Browser")),this.deviceSystem===g.fx.android&&(p.Z.hasServiceWorker=!1,u.Y.info("Android Set Has Service Worker:"+p.Z.hasServiceWorker)),O.initNumberFuture=22,O.initNumberPast=8,this._posLoginType===g.rr.initId?yield this.posInitIdLogin(!0):yield this.deviceLogin()}else if(t===g.h7.Online||t===g.h7.Prepare||t===g.h7.Terminal){this._deviceType=t,document.title="Games",this._initId=p.Z.getUrlParameter(window.location.href,"initId");const e=p.Z.getUrlParameter(window.location.href,"sdCardPath");if(e&&(T.Z.terminalSettings.videoFilesPath=e),!this._initId){this._initId="-";const e=h.T$.NO_INIT_ID;o.q.instance.normalErrorHandler(e,!0);const t=new _.vy(e.code.toString(),e.message);return r.u.instance.sendLogRequest(t),void u.Y.error(e.code+" "+e.message)}yield r.u.getServerUrl(this.initId,this.deviceType.toString()),this._deviceSystem=p.Z.getUrlParameter(window.location.href,"system"),O.initNumberFuture=10,O.initNumberPast=10;const s=()=>{var e;try{if("html5_debug"===(null===(e=this.initData.initResult)||void 0===e?void 0:e.sessionType))return!1;if(t===g.h7.Online)return!0;if(t===g.h7.Prepare&&this.initData.initResult.setting.keepTicketInfo)return!0}catch(e){}return!1},i=()=>{try{const e=this.initData.initResult.sessionID;e&&s()?window.sessionStorage.setItem("session",`${this.initId}:${e}`):window.sessionStorage.removeItem("session")}catch(e){}},n=(()=>{try{const e=window.sessionStorage.getItem("session");if(e){const t=e.split(":");if(2===t.length&&t[0]===this.initId)return t[1]}}catch(e){}})();yield this.initIdLogin(this._initId,n),i()}else{const e=h.T$.INVALID_DEVICE_TYPE;e.message=e.message+t,o.q.instance.normalErrorHandler(e,!0,(()=>{this.reloadWidow()}));const s=new _.vy(e.code.toString(),e.message);r.u.instance.sendLogRequest(s),u.Y.error(e.code+" "+e.message)}}))}getDeviceIdFromPosUrl(e){const t=new URL(e).host.split(".",1);return t.length>0?t[0]:O.NO_DEVICE_ID}showLooadingScreen(){n()("#startUpBack").css("display","block")}hideLoadingScreen(){n()("#startUpBack").css("display","none")}showLoginScreen(){this.hideLoadingScreen(),S.bindKeyEvent(this),n()("#login").css("display","block"),S.isVisible=!0}hideLoginScreen(){S.unbindKeyEvent(),n()("#login").css("display","none"),S.isVisible=!1}deviceLogin(){return E(this,void 0,void 0,(function*(){this.deviceInitResult=null,o.q.instance.hideErrorDialog();try{r.u.instance.serverSocketClient.isWebsocketOpen()||(yield r.u.instance.connectWebSocketClient()),r.u.instance.serverSocketClient.setGamePool(this),this.setSessionUniqueId(),this.deviceInitResult=yield r.u.instance.sendDeviceInitRequest(g.h7.Pos,this.deviceId,this.sessionUniqueID);const e=[];e.push(this.deviceInitResult.setting.coin_1*this.creditFactor),e.push(this.deviceInitResult.setting.coin_2*this.creditFactor),e.push(this.deviceInitResult.setting.coin_3*this.creditFactor),e.push(this.deviceInitResult.setting.coin_4*this.creditFactor);const t={translations:this.deviceInitResult.translations,translationsCommon:this.deviceInitResult.translationsCommon,languageList:this.deviceInitResult.setting.languageList,language:this.deviceInitResult.setting.language};this.deviceLoginSetUp(this.deviceInitResult.setting.performanceLevel,e,this.deviceInitResult.setting.decimal_places,t,this.deviceInitResult.setting.integrationType),S.initializeLogin(this),this.showLoginScreen(),n()("#user_input").trigger("focus"),m.O.setLoadPercentage(0,4e3,!0)}catch(e){this.setupErrorHandler(e,!0)}}))}setSessionUniqueId(){try{l().initInstance();const e=l().isTabDuplicated();u.Y.debug("Tab is duplicated:"+e+" unique dub id:"+l().getInstance().id);let t=sessionStorage.getItem("sessionId")||(0,c.Z)();e&&(t=l().getInstance().id),sessionStorage.setItem("sessionId",t),this.sessionUniqueID=t,u.Y.info("============================== Unique Session ID:"+t)}catch(e){u.Y.error("Error while setting Unique ID:"+JSON.stringify(e,Object.getOwnPropertyNames(e)))}}deviceLoginSetUp(e,t,s,i,r){this._performanceLevel=e;const o=p.Z.getUrlParameter(window.location.href,"performance");void 0!==o&&(this._performanceLevel=o),n()("body").addClass("perf_"+this.performanceLevel),this._integrationType=r,null!==this._integrationType&&""!==this._integrationType||(this._integrationType=g.zT.DEFAULT),this.coinValueList=t,this.decimalPlaces=s,a.l.instance.setTranslations(i.translations),a.l.instance.setTranslationsCommon(i.translationsCommon);const c=[];for(const e of i.languageList)c.push(new I.T(e,e));a.l.instance.setLanguages(c),a.l.instance.updateLanguage(i.language,!1),a.l.instance.updatePrintLanguage(i.language),a.l.instance.updateLanguageTexts()}initIdLogin(e,t){return E(this,void 0,void 0,(function*(){this.loginType=g.Ez.INITID,o.q.instance.hideErrorDialog();try{r.u.instance.serverSocketClient.isWebsocketOpen()||(yield r.u.instance.connectWebSocketClient()),r.u.instance.serverSocketClient.setGamePool(this),this.initIdResult=yield r.u.instance.sendInitIDinitRequest(e,this._deviceType,t),this.initIdResult.setting.extraInitParam=JSON.parse(this.initIdResult.setting.extraInitParam),this._performanceLevel=g.BR.HEIGH;const s=p.Z.getUrlParameter(window.location.href,"performance");void 0!==s&&(this._performanceLevel=s),n()("body").addClass("perf_"+this.performanceLevel),this.coinValueList=[],this.coinValueList.push(this.initIdResult.setting.coin_1*this.creditFactor),this.coinValueList.push(this.initIdResult.setting.coin_2*this.creditFactor),this.coinValueList.push(this.initIdResult.setting.coin_3*this.creditFactor),this.coinValueList.push(this.initIdResult.setting.coin_4*this.creditFactor),a.l.instance.setTranslations(this.initIdResult.translations),a.l.instance.setTranslationsCommon(this.initIdResult.translationsCommon),this.initIdResult.setting.language=a.l.instance.checkHasTranslationTheLanguage(this.initIdResult.setting.language);const i=[];for(const e of this.initIdResult.setting.languageList)i.push(new I.T(e,e));a.l.instance.setLanguages(i),a.l.instance.updateLanguage(this.initIdResult.setting.language,!1),a.l.instance.updatePrintLanguage(this.initIdResult.setting.language),a.l.instance.updateLanguageTexts(),this.checkVersionUpdate(),this.maxStakePerBet=this.initIdResult.setting.max_bet_per_tip*this.creditFactor,this.sessionStartServerTime=Date.now(),this.initIdResult.setting.enableBonusTicker=!1,u.Y.info("After init send Game round"),this.gamepool=this.initIdResult.gamepool,this.initData={initResult:this.initIdResult,gamepool:this.gamepool},yield this.initGames(),this.checkOldResultNotSet(),a.l.instance.setLangFields(),yield this.startGames().catch((e=>{this.setupErrorHandler(e,!0)}));for(const e of this.gamesList)e.updateLongTextFields()}catch(e){this.setupErrorHandler(e,!0)}}))}userLogin(e,t,s){return E(this,void 0,void 0,(function*(){this.initUserResult=null,o.q.instance.hideErrorDialog(),setTimeout((()=>{m.O.setLoadPercentage(T.Z.percentLoadSetting.userLogin,4e3,!1)}),5);try{r.u.instance.serverSocketClient.isWebsocketOpen()||(yield r.u.instance.connectWebSocketClient()),r.u.instance.serverSocketClient.setGamePool(this),this.checkVersionUpdate(),setTimeout((()=>{m.O.setLoadPercentage(T.Z.percentLoadSetting.socketConnection,4e3,!1)}),5),this.initUserResult=yield r.u.instance.sendUserInitRequest(t,s),this.userId=t,this.initUserResult.setting.showTicketInput=!0,this.setUserSpecificLoginData(this.initUserResult.nextTransactionID,this.initUserResult.setting.max_bet_per_tip,this.initUserResult.settingsUser,this.initUserResult.gamepool),"false"!==this.initUserResult.setting.doPrint&&"browser"!==this.initUserResult.setting.doPrint||(this._ignoreNoPrinter=!0),"true"===p.Z.getUrlParameter(window.location.href,"ignoreNoPrinter")&&(this._ignoreNoPrinter=!0),"browser"===this.initUserResult.setting.doPrint&&(this._printType=w.sF.BROWSER),this.initData={initResult:this.initUserResult,gamepool:this.gamepool},yield this.initGames(),this.checkOldResultNotSet(),this.checkStartupExternTicketsReceived(),this.deviceType===g.h7.Pos&&this.getHasExternalTickets()&&this.sendOnSetInitPreparedTicketList(this.initUserResult.prepTicketList),this.deviceType===g.h7.Pos&&this.initUserResult.resumeTicketList&&this.sendOnSetInitResumTicketList(this.initUserResult),a.l.instance.setLangFields(),yield this.startGames().catch((t=>{this.setupErrorHandler(t,e)}));for(const e of this.gamesList)e.updateLongTextFields();const i="User Logged in, client Version:"+T.Z.versionNumber+" last Transaction id:"+k.Nu.transactionId+"   sesssionID:"+this.initUserResult.sessionID+" sessionUinqueID:"+this.sessionUniqueID,n=new _.vy(o.D.SEND_LOG_INFO.code.toString(),i);r.u.instance.sendLogRequest(n)}catch(t){if(t.errorId===h.T$.OP_ID_NOT_VALID.code||t.errorId===h.T$.PW_ID_NOT_VALID.code||t.errorId===h.T$.OP_ID_FAILD.code||t.errorId===h.T$.OP_ID_NOT_AVAIL.code||t.errorId===h.T$.OP_ID_NOT_EN_PLATFORM.code)u.Y.debug("OP error"),S.showErrorMessage(a.l.instance.getTextCommon("error_login_oper")),this.showLoginScreen();else if(t.errorId===h.T$.OP_ID_NOT_ACTIVE.code)u.Y.debug("OP error"),S.showErrorMessage(a.l.instance.getTextCommon("error_opid_not_act")),this.showLoginScreen();else if(t.errorId===h.T$.NO_LOGIN_CURRENTLY.code){const e=t.errorMsg.substring(Math.max(t.errorMsg.length-8,0),t.errorMsg.length);u.Y.debug("lOGIN currently not possible error"),S.showErrorMessage(a.l.instance.getTextCommon("error_login_nocur")+" "+e),this.showLoginScreen()}else this.setupErrorHandler(t,e)}}))}setUserSpecificLoginData(e,t,s,i){k.Nu.transactionId=e,this.maxStakePerBet=t*this.creditFactor,this.sessionStartServerTime=Date.now(),this.autoSwitchGame=s.gameAutoswitch,a.l.instance.hasLanguage(s.language)&&a.l.instance.updateLanguage(s.language,!1),u.Y.info("After init send Game round"),this.gamepool=i}posInitIdLogin(e){return E(this,void 0,void 0,(function*(){this.initPosIdResult=null,o.q.instance.hideErrorDialog();try{r.u.instance.serverSocketClient.isWebsocketOpen()||(yield r.u.instance.connectWebSocketClient()),r.u.instance.serverSocketClient.setGamePool(this),this.setSessionUniqueId(),this.initPosIdResult=yield r.u.instance.sendPosInitIdRequest(g.h7.Pos,this.initId,this.sessionUniqueID,-1*O.initNumberPast,O.initNumberFuture),this.deviceId=this.initPosIdResult.deviceId,this.initPosIdResult.setting.finishRedirectUrl="showLogoutScreen";const t=[];t.push(this.initPosIdResult.setting.coin_1*this.creditFactor),t.push(this.initPosIdResult.setting.coin_2*this.creditFactor),t.push(this.initPosIdResult.setting.coin_3*this.creditFactor),t.push(this.initPosIdResult.setting.coin_4*this.creditFactor);const s={translations:this.initPosIdResult.translations,translationsCommon:this.initPosIdResult.translationsCommon,languageList:this.initPosIdResult.setting.languageList,language:this.initPosIdResult.setting.language};if(this.deviceLoginSetUp(this.initPosIdResult.setting.performanceLevel,t,this.initPosIdResult.setting.decimal_places,s,this.initPosIdResult.setting.integrationType),("false"===this.initPosIdResult.setting.doPrint||this.initPosIdResult.setting.doPrint.indexOf("browser")>=0)&&(this._ignoreNoPrinter=!0),"true"===p.Z.getUrlParameter(window.location.href,"ignoreNoPrinter")&&(this._ignoreNoPrinter=!0),this.initPosIdResult.setting.doPrint.indexOf("browser")>=0){this._printType=w.sF.BROWSER;const e=this.initPosIdResult.setting.doPrint.match(/\d+/);e&&(this._browserPrintWidth=parseInt(e[0],10)),u.Y.info("Print Type browser, width set to:"+this.browserPrintWidth)}m.O.setLoadPercentage(0,4e3,!0),this.initUserResult=null,o.q.instance.hideErrorDialog(),setTimeout((()=>{m.O.setLoadPercentage(T.Z.percentLoadSetting.userLogin,4e3,!1)}),5);try{r.u.instance.serverSocketClient.isWebsocketOpen()||(yield r.u.instance.connectWebSocketClient()),r.u.instance.serverSocketClient.setGamePool(this),this.checkVersionUpdate(),setTimeout((()=>{m.O.setLoadPercentage(T.Z.percentLoadSetting.socketConnection,4e3,!1)}),5),this.userId=this.initPosIdResult.userID,this.initPosIdResult.setting.showTicketInput=!0,this.setUserSpecificLoginData(this.initPosIdResult.nextTransactionID,this.initPosIdResult.setting.max_bet_per_tip,this.initPosIdResult.settingsUser,this.initPosIdResult.gamepool),this.initData={initResult:this.initPosIdResult,gamepool:this.gamepool},yield this.initGames(),this.checkOldResultNotSet(),this.checkStartupExternTicketsReceived(),this.deviceType===g.h7.Pos&&this.getHasExternalTickets()&&this.sendOnSetInitPreparedTicketList(this.initPosIdResult.prepTicketList),this.deviceType===g.h7.Pos&&this.initPosIdResult.resumeTicketList&&this.sendOnSetInitResumTicketList(this.initPosIdResult),a.l.instance.setLangFields(),yield this.startGames().catch((t=>{this.setupErrorHandler(t,e)}));for(const e of this.gamesList)e.updateLongTextFields();const t="User Logged in, client Version:"+T.Z.versionNumber+" last Transaction id:"+k.Nu.transactionId+"  sesssionID:"+this.initPosIdResult.sessionID+" sessionUinqueID:"+this.sessionUniqueID,s=new _.vy(o.D.SEND_LOG_INFO.code.toString(),t);r.u.instance.sendLogRequest(s)}catch(t){if(t.errorId===h.T$.OP_ID_NOT_VALID.code||t.errorId===h.T$.PW_ID_NOT_VALID.code||t.errorId===h.T$.OP_ID_FAILD.code||t.errorId===h.T$.OP_ID_NOT_AVAIL.code||t.errorId===h.T$.OP_ID_NOT_EN_PLATFORM.code)u.Y.debug("OP error"),S.showErrorMessage(a.l.instance.getTextCommon("error_login_oper")),this.showLoginScreen();else if(t.errorId===h.T$.OP_ID_NOT_ACTIVE.code)u.Y.debug("OP error"),S.showErrorMessage(a.l.instance.getTextCommon("error_opid_not_act")),this.showLoginScreen();else if(t.errorId===h.T$.NO_LOGIN_CURRENTLY.code){const e=t.errorMsg.substring(Math.max(t.errorMsg.length-8,0),t.errorMsg.length);u.Y.debug("lOGIN currently not possible error"),S.showErrorMessage(a.l.instance.getTextCommon("error_login_nocur")+" "+e),this.showLoginScreen()}else this.setupErrorHandler(t,e)}}catch(e){this.setupErrorHandler(e,!0)}}))}checkVersionUpdate(){const e=localStorage.getItem("versionNumber");e?e!==T.Z.versionNumber?(localStorage.setItem("versionNumber",T.Z.versionNumber),n()(".logInVersionDownload").html(a.l.instance.getTextCommon("downloadVers")+" "+T.Z.versionNumber).css("display","block"),n()("#loaderText").html(a.l.instance.getTextCommon("updatingTxt")),this._isUpdatingVersion=!0):n()("#loaderText").html(a.l.instance.getTextCommon("loadingTxt")):(localStorage.setItem("versionNumber",T.Z.versionNumber),n()(".logInVersionDownload").html(a.l.instance.getTextCommon("downloadVers")+" "+T.Z.versionNumber).css("display","block"),n()("#loaderText").html(a.l.instance.getTextCommon("updatingTxt")),this._isUpdatingVersion=!0)}initGames(){return E(this,void 0,void 0,(function*(){return this.gamesList=[],new Promise(((e,t)=>{this._deviceType===g.h7.Pos?Promise.all([s.e(484),s.e(41),s.e(748),s.e(393),s.e(134),s.e(545)]).then(s.bind(s,40039)).then((t=>E(this,void 0,void 0,(function*(){yield t.PosGame.setUpPosGames(this),this.sendOnPosGamesAreSetup(),t.PosGame.checkBrowserLanguageDisplaySupport(),e()})))).catch((e=>{u.Y.error("Error Set Up POS game:"+JSON.stringify(e)),t(e)})):this._deviceType!==g.h7.Online&&this._deviceType!==g.h7.Prepare&&this._deviceType!==g.h7.Terminal||Promise.all([s.e(134),s.e(461)]).then(s.bind(s,78399)).then((t=>E(this,void 0,void 0,(function*(){yield t.OnlineGame.setUpOnlineGames(this),e()})))).catch((e=>{u.Y.error("Error Set Up Online Game:"+JSON.stringify(e)),t(e)}))}))}))}startGames(){return E(this,void 0,void 0,(function*(){for(const e of this.gamesList)yield e.startGame();this.deviceType===g.h7.Pos&&this.sendOnStartGameAction(m.O.getUserInitResult()),this._gamesStarted=!0,this.hideLoadingScreen()}))}clearGames(){this.gamesList=[]}setLoadPercentage(e,t,s){if(m.O._deviceType===g.h7.Pos){if(this.loadPercentageElement||(this.loadPercentageElement=document.getElementById("downLoadPercente")),s){document.getElementById("downLoadCont").style.visibility="visible"}this.loadPercentageElement.style.transitionDuration=t+"ms",this.loadPercentageElement.style.width=e+"%"}}getServerTimeSecSince(){return m.O.gamesList[0].getServerTimeSecSince()}updateLanguage(e){a.l.instance.updateLanguage(e,!0),this.gamesList.forEach((function(e){e.updateLanguageFields(),e.updateLongTextFields()})),this.getHasExternalTickets()&&this.sendOnUpdateLanguageFields()}hasJackpotBounus(){return null!==this.getInitResult()&&this.getInitResult().setting.enableBonusTicker}setupErrorHandler(e,t){return E(this,void 0,void 0,(function*(){e.errorId!==o.D.COSTOMER_NOT_ACTIVE&&e.errorId!==o.D.ORGANIZER_NOT_ACTIVE&&e.errorId!==o.D.LOCATION_NOT_ACTIVE.code&&e.errorId!==o.D.LOCATION_IS_LOCKED.code&&e.errorId!==o.D.COSTOMER_IS_LOCKED.code&&e.errorId!==o.D.ORGANIZER_IS_LOCKED&&e.errorId!==o.D.POS_INIT_ID_ERROR.code||(o.q.instance.deviceIsInactive=!0);try{if(null===a.l.instance.getTranslations()&&!o.q.instance.deviceIsInactive){const e=yield r.u.instance.sendTranslationRequest();a.l.instance.setTranslations(e.translations),a.l.instance.setTranslationsCommon(e.translationsCommon);let t=!1;for(const s of e.translations)if("en"===s.langId){t=!0;break}!t&&e.translations.length>0&&a.l.instance.errorUpdateLanguage(e.translations[0].langId)}}catch(e){}if(e.code!==o.D.TIME_REQUEST_TO_LONG.code&&t){u.Y.error("Set Up Error:"+JSON.stringify(e,Object.getOwnPropertyNames(e)));const t=new h.u9;let s=()=>{this.reloadWidow()},i=!0;if(e.errorId===o.D.TIME_OUT_ERROR.code?(t.message=e.errorMsg,t.code=e.errorId):e.errorId===o.D.POS_INIT_ID_ERROR.code?(t.message="The init ID has already been used, or is invalid.",t.code=e.errorId,s=void 0,i=!1):e.errorId===o.D.LOCATION_NOT_ACTIVE.code?(t.message="Location is not active",t.code=e.errorId,s=void 0,i=!1):e.errorId===o.D.LOCATION_IS_LOCKED.code?(t.message="Location is Locked",t.code=e.errorId,s=void 0,i=!1):e.errorId===o.D.COSTOMER_IS_LOCKED.code?(t.message="Customer is Locked",t.code=e.errorId,s=void 0,i=!1):e.errorId===o.D.COSTOMER_NOT_ACTIVE.code?(t.message="Customer is not active",t.code=e.errorId,s=void 0,i=!1):e.errorId===o.D.ORGANIZER_IS_LOCKED.code?(t.message="Organizer is Locked",t.code=e.errorId,s=void 0,i=!1):e.errorId===o.D.ORGANIZER_NOT_ACTIVE.code?(t.message="Organizer is not active",t.code=e.errorId,s=void 0,i=!1):e.errorId===o.D.PROFIT_LIMIT.code?(t.message="Profit Limit reached!",a.l.instance.getTranslations()&&(t.message=a.l.instance.getText("Warning_ProfitLimitReached")),t.code=e.errorId,i=!1):e.errorId===o.D.TURNOVER_LIMIT.code?(t.message="Turnover Limit reached!",a.l.instance.getTranslations()&&(t.message=a.l.instance.getText("Warning_TurnoverLimitReached")),t.code=e.errorId,i=!1):e.errorId===o.D.SESSION_NOT_FOUND.code?(t.message="Session has expired!",a.l.instance.getTranslations()&&(t.message=a.l.instance.getTextCommon("errSessExpire")),t.code=e.errorId,i=!1):(t.message=JSON.stringify(e,Object.getOwnPropertyNames(e)),t.code=o.D.SETUP.code),o.q.instance.normalErrorHandler(t,!0,s),this._setUpError=!0,i&&setTimeout((()=>{this.reloadWidow()}),T.Z.gameSettings.setUpErrorReloadTimeout),this.loginType===g.Ez.INITID&&e.errorId===o.D.SESSION_NOT_FOUND.code){r.u.instance.sendLogBuffer.checkSendLogs();(new v.R).exit()}}else u.Y.error("Error:"+JSON.stringify(e,Object.getOwnPropertyNames(e))),setTimeout((()=>{this.tryRestart(!1,!1)}),1e4)}))}stopGame(){const e=this._gameStopped;this._gameStopped=!0,r.u.instance.serverSocketClient.stopCheckTimout();for(const e of this.gamesList)e.gameTimer.stopGameLoop(),e.stopGame();if(e!==this._gameStopped){const e=new _.vy("9999","Game Stopped");r.u.instance.sendLogRequest(e)}}tryRestart(e,t){return E(this,void 0,void 0,(function*(){if(m.O.deviceType===g.h7.Pos)try{if(t){let e="<div style='text-align: center; width: 100%'>Trying to log out ___ANIM___</div>";null!==a.l.instance.getTranslations()&&(e="<div style='text-align: center; width: 100%'>"+a.l.instance.getTextCommon("logOutTry")+" ___ANIM___</div>"),e=e.replace("___ANIM___","<div class='dotLoaderAnim'></div>"),o.q.instance.createErrorDialog("",e,!1,!0)}r.u.instance.serverSocketClient.isWebsocketOpenState()?(r.u.instance.startCheckTimeout(),r.u.instance.sendDeviceLogoutRequest(g.h7.Pos,m.O.deviceId).then((t=>{if(e)try{r.u.instance.serverSocketClient.close()}catch(e){u.Y.error("Error Close Socket:"+JSON.stringify(e,Object.getOwnPropertyNames(e)))}this.doReloadWindow()})).catch((e=>{u.Y.error("Error sending Logout Request:"+JSON.stringify(e)),this.restartConnectionLogic()}))):r.u.instance.tryConnectWebSocketClient().then((()=>E(this,void 0,void 0,(function*(){r.u.instance.startCheckTimeout(),r.u.instance.sendDeviceLogoutRequest(g.h7.Pos,m.O.deviceId).then((t=>{if(e)try{r.u.instance.serverSocketClient.close()}catch(e){u.Y.error("Error Close Socket:"+JSON.stringify(e,Object.getOwnPropertyNames(e)))}this.doReloadWindow()})).catch((e=>{u.Y.error("Error sending Logout Request:"+JSON.stringify(e)),this.restartConnectionLogic()}))})))).catch((e=>{u.Y.error("Error setting up Web Socket:"+JSON.stringify(e)),this.restartConnectionLogic()}))}catch(t){u.Y.error("Error Relog Device:"+JSON.stringify(t,Object.getOwnPropertyNames(t))),e&&r.u.instance.serverSocketClient.close(),this.doReloadWindow()}else this.doReloadWindow()}))}restartConnectionLogic(){let e="Error";null!==a.l.instance.getTranslations()&&(e=a.l.instance.getTextCommon("error_txt"));const t=o.q.instance.getErrorCommunicationErrorText();o.q.instance.createErrorDialog(e,t,!1,!0),o.q.instance.tryReloadOnTimer=!0,o.q.instance.startReinitTimout()}doReloadWindow(){return E(this,void 0,void 0,(function*(){this.refreshAllways?this.reloadWidow():this.touchIsDone?(this.clearGames(),yield this.deviceLogin()):this.reloadWidow()}))}reloadWidow(){window.location=window.location}addNewGame(e){this.gamesList.push(e)}updateGameResult(e,t,s){this.gamesList.forEach((function(i){i.eventType===t.eventType&&i.updateGameResult(e,t,s)})),this.setTempResultsChecked||(u.Y.debug("---- No games setup jet ----"),this._tempGameResults.push({roundId:e,result:t,checkVideoFade:s}),this._tempGameResults.length>O.MAX_TEM_RES_NUMB&&this._tempGameResults.shift())}updateWinValue(e){this.deviceType===g.h7.Online||this.deviceType===g.h7.Prepare||(this.deviceType,g.h7.Terminal);let t=e.gameType;"dog"===t&&(t="dog6"),"kart"===t&&(t="kart5"),this.gamesList.forEach((function(s){t===s.gameType&&s.updateWinValue(e)}))}receivedExteranlTicket(e){this.deviceType===g.h7.Pos&&(this.setTempExternTicketsChecked?this.sendOnReceivedExtarnalTicket(e):(u.Y.debug("---- No games setup jet, but got external Ticket ----"),this._tempExternTicketsResults.push(e),this._tempExternTicketsResults.length>O.MAX_TEM_RES_NUMB&&this._tempExternTicketsResults.shift()))}sendOnExternalTicketWasCreatedByOtherDevice(e){this.observers.forEach((t=>{t.onExternalTicketWasCreatedByOtherDevice&&t.onExternalTicketWasCreatedByOtherDevice(e)})),this.posGamepoolObservers.forEach((t=>{t.onExternalTicketWasCreatedByOtherDevice&&t.onExternalTicketWasCreatedByOtherDevice(e)}))}externalTicketWasCreatedByOtherDevice(e){(this.deviceType===g.h7.Pos||this.deviceType===g.h7.Prepare)&&this.sendOnExternalTicketWasCreatedByOtherDevice(e)}externalTicketStatusChanged(e){this.deviceType===g.h7.Pos||this.deviceType===g.h7.Prepare&&this.gamesList.forEach((function(t){e.gameRound.eventType===t.eventType&&t.externTicketStatusChanged(e)}))}checkStartupExternTicketsReceived(){if(this.setTempExternTicketsChecked=!0,this.deviceType==g.h7.Pos)for(const e of this.tempExternTicketsResults)this.sendOnReceivedExtarnalTicket(e)}checkOldResultNotSet(){this.setTempExternTicketsChecked=!0;for(const e of this.gamesList)for(const t of this.tempGameResults)for(const s of e.gamesList)t.roundId===s.roundInfo.fullGameId&&null===s.result&&(u.Y.info("---- Update old game Result, round id:"+t.roundId),e.updateGameResult(t.roundId,t.result,t.checkVideoFade))}updateCurrentLanguageDisplay(){for(const e of this.gamesList)e.updateCurrentLanguageDisplay()}getGameByGameType(e){for(const t of this.gamesList)if(t.gameType===e)return t;return null}getGameByEventType(e){for(const t of this.gamesList)if(t.eventType===e)return t;return null}queryDeviceType(){let e=p.Z.getUrlParameter(window.location.href,"deviceType");if(!e){e="-";const t=h.T$.NO_DEVICE_TYPE;o.q.instance.normalErrorHandler(t,!0);const s=new _.vy(t.code.toString(),t.message);r.u.instance.sendLogRequest(s),u.Y.error(t.code+" "+t.message)}return e}setAllGamesAutoSwitch(e){this.autoSwitchGame=e;for(const t of this.gamesList)t.setAutoSwitchGame(e)}enableScannTicket(){for(const e of this.gamesList)u.Y.debug("remove Inp Disabled"),n()("#"+e.preFix+"tickScaInp").val("").removeAttr("disabled").removeAttr("data-disab"),this.scannInputDisabled=!1,e.resetScannValue()}sendOnShowTicketCanceledDetection(e){this.observers.forEach((t=>{t.onShowTicketCanceledDetection&&t.onShowTicketCanceledDetection(e)}))}showTicketCanceledDetection(e){if(this.deviceType!==g.h7.Online&&this.deviceType!==g.h7.Prepare&&this.deviceType!==g.h7.Terminal||this.sendOnShowTicketCanceledDetection(e),this.deviceType===g.h7.Pos&&e.length>0){let t="",s=0;for(const i of e)s>0&&(t+=" - "),t+=i,s++;this.sendPosOnShowTicketCanceledDetection(t,!0)}}sendOnOffClickEvents(){this.posGamepoolObservers.forEach((e=>{e.onOffClickEvents&&e.onOffClickEvents()}))}sendOnSetInitResumTicketList(e){this.posGamepoolObservers.forEach((t=>{t.onSetInitResumTicketList&&t.onSetInitResumTicketList(e)}))}sendOnSetInitPreparedTicketList(e){this.posGamepoolObservers.forEach((t=>{t.onSetInitPreparedTicketList&&t.onSetInitPreparedTicketList(e)}))}sendOnPosGamesAreSetup(){this.posGamepoolObservers.forEach((e=>{e.onPosGamesAreSetup&&e.onPosGamesAreSetup()}))}sendOnStartGameAction(e){this.posGamepoolObservers.forEach((t=>{t.onStartGameAction&&t.onStartGameAction(e)}))}sendOnUpdateLanguageFields(){this.posGamepoolObservers.forEach((e=>{e.onUpdateLanguageFields&&e.onUpdateLanguageFields()}))}sendOnReceivedExtarnalTicket(e){this.posGamepoolObservers.forEach((t=>{t.onReceivedExtarnalTicket&&t.onReceivedExtarnalTicket(e)}))}sendPosOnShowTicketCanceledDetection(e,t){this.posGamepoolObservers.forEach((s=>{s.onShowTicketCanceledDetection&&s.onShowTicketCanceledDetection(e,t)}))}sendOnUpdateTurnoverTicketStatus(e,t,s,i){this.posGamepoolObservers.forEach((n=>{n.onUpdateTurnoverTicketStatus&&n.onUpdateTurnoverTicketStatus(e,t,s,i)}))}sendOnCalculateBalance(){this.posGamepoolObservers.forEach((e=>{e.onCalculateBalance&&e.onCalculateBalance()}))}sendOnRemoveOldExternalTickets(e,t,s){this.posGamepoolObservers.forEach((i=>{i.onRemoveOldExternalTickets&&i.onRemoveOldExternalTickets(e,t,s)}))}sendOnExternalTickerUpdates(e){this.posGamepoolObservers.forEach((t=>{t.onExternalTickerUpdates&&t.onExternalTickerUpdates(e)}))}sendOnTicketStatusGet(e){this._integrationType===g.zT.ONE_WALLET?this.posGamepoolObservers.forEach((t=>{t.onTicketStatusGet&&t.onTicketStatusGet(e)})):u.Y.error("Not Integration type one wallet")}getInitResult(){return null!==this.initUserResult?this.initUserResult:null!==this.initIdResult?this.initIdResult:null!==this.initPosIdResult?this.initPosIdResult:null}getUserInitResult(){return null!==this.initPosIdResult?this.initPosIdResult:this.initUserResult}getInitIdResult(){return this.initIdResult}getInitData(){return this.initData}getFiscalPrintType(){return this.initPosIdResult?this.initPosIdResult.setting.fiscalPrintType:this.deviceInitResult.setting.fiscalPrintType}getPrintFilePath(){return this.initPosIdResult?this.initPosIdResult.setting.fiscalPrintFilePath:this.deviceInitResult.setting.fiscalPrintFilePath}getDoAutoPayout(){return this.initPosIdResult?this.initPosIdResult.setting.doAutoPayout:this.deviceInitResult.setting.doAutoPayout}getHasExternalTickets(){return this.deviceInitResult?this.deviceInitResult.setting.prepTicketsEnabled:!!this.initPosIdResult&&this.initPosIdResult.setting.prepTicketsEnabled}getTicketExtraTokenList(){return this.deviceInitResult&&this.deviceInitResult.setting.extraTicketTokensList?this.deviceInitResult.setting.extraTicketTokensList:this.initPosIdResult&&this.initPosIdResult.setting.extraTicketTokensList?this.initPosIdResult.setting.extraTicketTokensList:""}getPrintSessionResults(){return this.deviceInitResult?this.deviceInitResult.setting.printSessionResult:!!this.initPosIdResult&&this.initPosIdResult.setting.printSessionResult}getFinishRedirectUrl(){return this.initPosIdResult?this.initPosIdResult.setting.finishRedirectUrl:this.initIdResult?this.initIdResult.setting.finishRedirectUrl:g.Ac.defaultFinishUrl}getScannTicketDisabled(){return!(!this.initPosIdResult||this.integrationType!==g.zT.ONE_WALLET)}getCancelTicketDisabled(){return!(!this.initPosIdResult||this.integrationType!==g.zT.ONE_WALLET)}}O.initNumberFuture=2,O.initNumberPast=8,O.MAX_TEM_RES_NUMB=30,O.NO_DEVICE_ID="-",O.receivePacketFromAndroid=function(e){u.Y.debug("+++++++++++++++++++++++ WebView Message:<"+JSON.stringify(e)+">")}},23859:(e,t,s)=>{"use strict";s.d(t,{O:()=>l});var i=s(81271),n=s.n(i),r=s(85765),o=(s(69660),s(85770)),a=s(49001),c=s(81026),d=s(66115);const l=new r.i,u=(d.h7.Pos,a.Z.getUrlParameter(window.location.href,"deviceType"));"serviceWorker"in navigator&&(d.h7.Pos.includes(u)||a.Z.isPosUrl(window.location.href))&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("./service-worker.js").then((e=>{c.Y.info("SW registered: ",e)})).catch((e=>{c.Y.info("SW registration failed: ",e)}))})),n()(document).ready((function(){if(a.Z.setHasServiceWorkers(),window.onReceivePacketFromAndroid=function(e){r.i.receivePacketFromAndroid(e)},!(window.Modernizr.rgba&&window.Modernizr.multiplebgs&&window.Modernizr.borderradius&&window.Modernizr.boxshadow&&window.Modernizr.textshadow&&window.Modernizr.opacity&&window.Modernizr.cssanimations&&window.Modernizr.cssgradients&&window.Modernizr.csstransforms&&window.Modernizr.csstransitions&&window.Modernizr.json&&window.Modernizr.es6array&&window.Modernizr.es6collections&&window.Modernizr.es6math&&window.Modernizr.es6number&&window.Modernizr.es6object&&window.Modernizr.es6string&&window.Modernizr.svgfilters&&window.Modernizr.bgsizecover&&window.Modernizr.csscalc&&window.Modernizr.flexbox&&window.Modernizr.csstransitions&&window.Modernizr.csstransforms&&window.Modernizr.svgclippaths&&window.Modernizr.svgfilters&&window.Modernizr.svgasimg&&window.Modernizr.svgclippaths&&window.Modernizr.inlinesvg&&window.Modernizr.smil)){const e="Update your Browser",t="Your Browser is not up to date! Please upgrade to a current Version of the Browser (Chrome, Firefox, Opera, Safari, ‚Ä¶) or use a newer Browser!";if(window.Modernizr.es6array&&window.Modernizr.es6collections&&window.Modernizr.es6math&&window.Modernizr.es6number&&window.Modernizr.es6object&&window.Modernizr.es6string){const i=s(42313);n()("body").append(i),o.q.instance.createErrorDialog(e,t,!0).then((()=>{window.location=window.location}))}else n()("body").html("<div style='margin-left: 30px; margin-top: 30px;font-size: 20px;font-weight: bold;'>"+t+"<div>");return!1}l.startUp()}))},87488:(e,t,s)=>{"use strict";s.d(t,{l:()=>o});var i=s(81271),n=s.n(i),r=s(81814);class o extends r.I{static get instance(){return null==this.internalInstance&&(this.internalInstance=new o),this.internalInstance}constructor(){super()}setLangFields(){const e=this.translations.find((e=>e.langId===this.setLanguage));if(e)for(const t of e.tokens)n()(".tok_"+t.id).html(t.value);const t=this.translationsCommon.find((e=>e.langId===this.setLanguage));if(t)for(const e of t.tokens)n()(".tokc_"+e.id).html(e.value)}}},81026:(e,t,s)=>{"use strict";s.d(t,{Y:()=>r,o:()=>i});var i,n=function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};!function(e){e.PRINTER="print",e.GAME_RESULT_REQUESTS="garerequests",e.CREATE_TICKET="createticket",e.CREATE_TICKET_COMM="createticketcom",e.FISCAL_PRINTER="fiscalPrint",e.BALANCE="balance"}(i||(i={}));class r{static isSeverLogCategoryEnabled(e,t){return!!e&&(!!e.setting.logging.hasOwnProperty(t.toString())&&e.setting.logging[t.toString()])}static enableGuards(e,t){r.logGuards=e,r.enableExceptions=t}static log(e,...t){}static logError(e,...t){}static logWarn(e,...t){}static debug(e,...t){this.log(r.getTimeString()+" - DEBUG: "+e,...t)}static logGuard(e,...t){this.log(r.getTimeString()+" - GUARD: "+e,...t)}static info(e,...t){this.log(r.getTimeString()+" - INFO: "+e,...t)}static warn(e,...t){this.logWarn(r.getTimeString()+" - WARN: "+e,...t)}static error(e,...t){this.logError(r.getTimeString()+" - ERROR: "+e,...t)}static getTimeString(){return(new Date).toISOString()}static guardAsync(e,t){return n(this,void 0,void 0,(function*(){if(!this.logGuards)return yield t();const s=(new Error).stack;yield this.catchedAsync((()=>n(this,void 0,void 0,(function*(){this.logGuard("Before "+e);const s=yield t();return this.logGuard("After "+e),s}))),(t=>{r.error("GUARD Error: "+e,t,s)}))}))}static guard(e,t){if(!this.logGuards)return t();const s=(new Error).stack;this.catched((()=>{this.logGuard("Before "+e);const s=t();return this.logGuard("After "+e),s}),(t=>{r.error("GUARD Error: "+e,t,s)}))}static catched(e,t){return e()}static catchedAsync(e,t){return n(this,void 0,void 0,(function*(){return yield e()}))}}r.logGuards=!1,r.enableExceptions=!0},88284:(e,t,s)=>{"use strict";s.d(t,{R:()=>n});var i=s(81026);class n{static rememberFinishRedirectUrl(e){try{window.sessionStorage.setItem("finishRedirectUrl",e)}catch(e){}}constructor(e){if(e&&(this.finishRedirectUrl=e),!this.finishRedirectUrl)try{this.finishRedirectUrl=window.sessionStorage.getItem("finishRedirectUrl")}catch(e){}this.finishRedirectUrl||(this.finishRedirectUrl="close")}exit(){try{window.sessionStorage.removeItem("session"),window.sessionStorage.removeItem("tickets"),window.localStorage.removeItem("session"),window.localStorage.removeItem("tickets")}catch(e){}const e=this.finishRedirectUrl;"disabled"===e?i.Y.info("Logout is disabled"):"close"===e?window.document.close():"parent"===e?window.open(document.referrer):"refresh"===e?window.document.location.reload():e.startsWith("linkToTop")?window.top.location.href=e.substr(e.indexOf("|")+1):e.startsWith("linkToParent")?window.parent.location.href=e.substr(e.indexOf("|")+1):window.document.location.href=e}}},30703:(e,t,s)=>{"use strict";s.d(t,{u:()=>u});var i=s(39108),n=s(47442),r=s(81026),o=s(23859),a=s(66115),c=s(93468),d=s(85770),l=function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};class u extends i.Yx{constructor(e){super(e)}static getSocketUrlRequest(e,t){return new Promise(((s,i)=>{const n=new XMLHttpRequest;n.open("GET","https://rdweb.racingdogs.eu/dsa4/?rt=3&out=json&cmd=WebSocketRequest&deviceId="+e+"&deviceType="+t),n.setRequestHeader("Content-type","application/json"),n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status){r.Y.debug("Ajax read Data:"+n.responseText);const e=JSON.parse(n.responseText);if("Exception"===e.type)r.Y.error(n.responseText),i("Get Socket Url Error"+e.errorMessage);else{const t=e;r.Y.debug("Read Socket Url:"+t.url),s(t.url)}}else r.Y.error("Error: "+n.status),i("Socket Url Request Error:"+n.status)},n.send()}))}static get instance(){return null==this.internalInstance&&(this.internalInstance=new u(this.serverUrl)),this.internalInstance}static getServerUrl(e,t){return l(this,void 0,void 0,(function*(){let s="";try{s=yield u.getSocketUrlRequest(e,t)}catch(e){r.Y.error("Error "+c.T$.READ_WEBSOKET_URL.code.toString()+": "+c.T$.READ_WEBSOKET_URL.message+e.message)}if(""===s){const e=n.Z.fallbacksocketUrls.find((e=>{if(e.domain instanceof RegExp){if(window.location.href.match(e.domain))return!0}else if(window.location.href.includes(e.domain))return!0}));if(s=(null==e?void 0:e.socketUrl)||n.Z.defaultSocketUrl,o.O.deviceType===a.h7.Online||o.O.deviceType===a.h7.Terminal)s+="html5";else if(o.O.deviceType===a.h7.Prepare)s+="html5-prepare";else if(o.O.deviceType===a.h7.Pos)s+="pos";else{const e=c.T$.INVALID_DEVICE_TYPE;d.q.instance.normalErrorHandler(e,!0);const t=new i.vy(e.code.toString()," Set up Socket Url:"+e.message);u.instance.sendLogRequest(t),r.Y.error(" Set up Socket Url:"+e.code+" "+e.message)}}const l=n.Z.overwriteSocketUrls.find((e=>{if(e.domain instanceof RegExp){if(window.location.href.match(e.domain))return!0}else if(window.location.href.includes(e.domain))return!0}));if(l)if(s=l.socketUrl,o.O.deviceType===a.h7.Online||o.O.deviceType===a.h7.Terminal)o.O.deviceType===a.h7.Terminal&&n.Z.terminalSettings.devTermIsPreparedDevice?s+="html5-prepare":s+="html5";else if(o.O.deviceType===a.h7.Prepare)s+="html5-prepare";else if(o.O.deviceType===a.h7.Pos)s+="pos";else{const e=c.T$.INVALID_DEVICE_TYPE;d.q.instance.normalErrorHandler(e,!0);const t=new i.vy(e.code.toString()," Set up Socket Url:"+e.message);u.instance.sendLogRequest(t),r.Y.error(" Set up Socket Url:"+e.code+" "+e.message)}return r.Y.debug("Web Socket URL set:"+s),this.serverUrl=s,s}))}}u.serverUrl=""},39108:(e,t,s)=>{"use strict";var i;s.d(t,{FL:()=>X,Yx:()=>w,BD:()=>z,bI:()=>x,XW:()=>N,HO:()=>J,vy:()=>$,W2:()=>W,f8:()=>G,CF:()=>F,p9:()=>Y,NN:()=>q,h_:()=>B,je:()=>Z,Ss:()=>U,Jr:()=>V,aD:()=>j,ob:()=>H}),function(e){e.DeviceLogin="deviceLogin",e.PosInitIdLogin="initLogin",e.Init="init",e.DeviceReconnect="reconnect",e.DeviceRelog="deviceRelog",e.DeviceLogout="deviceLogout",e.Translation="translation",e.GameRound="gameRound",e.GameResult="gameResult",e.PrepardeTicket="prepTicket",e.PrepardeTicketPlayed="prepTicketPlayed",e.PrepardeTicketStatus="prepTicketStatus",e.ServerTime="time",e.SendLog="sendLog",e.Error="error",e.SendTicket="sendTicket",e.TicketStatus="sendTicketStatus",e.TicketTurnover="turnoverTicket",e.Turnover="turnover",e.SendBalance="sendBalance",e.UserSettings="setUserSettings",e.TicketTimeout="sendTicketTimeout",e.Win="win",e.CREDIT="credit",e.TicketStatusGet="sendTicketStatus"}(i||(i={}));var n=s(81026),r=s(85770),o=s(30703),a=s(93468),c=s(47442),d=s(87488),l=s(33152),u=s(49001),h=s(23859),g=s(66115),m=s(18429),T=function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};class p{constructor(){this.pendingResponses=[],this.checkStatusResponses=[],this.checkTicketResponses=[],this.checkStatusCount=0,this.checkTicketTime=0,this.checkTimeoutIntervWorker=null,this.checkTimeoutInterv=null,this.isClosed=!1,this.ticketIdsList=[],this.messageId=0,this.groupeId=0,this.testCount=0}sendMessage(e,t,s,r,o,d,l,h){const g=this.getNextMessageId();if(e.msgId=g,e.msgType===i.Init){const t=e;n.Y.info("Send Message:"+t.msgId+", "+t.msgType+", Future Games:"+t.futureGames+", History Games"+t.historyGames)}else n.Y.info("Send Message:"+JSON.stringify(e));e.msgType===i.SendTicket&&u.Z.sendLogToServerCheckCategory(n.o.CREATE_TICKET_COMM,a.T$.SEND_LOG_INFO.code.toString(),"Send Ticket Create, msgid:"+e.msgId.toString()+" date.now():"+(new Date).toString());const m=Date.now();try{this.isWebsocketOpenState()?this.ws.send(JSON.stringify(e)):n.Y.error("Error Sending request, Websocket not open"),void 0!==d&&l&&(this.pendingResponses.push({id:g,callback:d,errCallback:l,sendData:e,timeout:t,sendTimestamp:m,msgType:e.msgType,groupeId:o,ignoreAnswere:!1,retrySend:!1,firstSendTime:s,retryTime:r,relatedData:h}),this.pendingResponses.length>c.Z.socketServerSettings.maxPendingResponses&&this.pendingResponses.shift())}catch(e){throw n.Y.error("Error Send Request:"+JSON.stringify(e)),e}}sendMessageAsync(e,t,s,i,r,o,a,c){this.sendMessage(e,t,s,i,r,(e=>{e.hasOwnProperty("result")?n.Y.info("Respons:"+JSON.stringify(e.result)):n.Y.info("Respons:"+JSON.stringify(e)),o(e)}),(e=>{a(e)}),c)}open(e){return T(this,void 0,void 0,(function*(){return this.isClosed=!1,this.ws=new WebSocket(e),new Promise(((e,t)=>{this.ws.onopen=t=>{n.Y.info("*********************************** Opend Web Socket"),r.q.instance.isOpening=!1,this.startCheckTimout(),r.q.instance.connectionLostTime=0,r.q.instance.retryAttempts=0,e()},this.ws.onclose=e=>{n.Y.info("Closed!"),this.isClosed||(this.gamesPool.reloadImmediatelySocketServeDisconnect&&(this.pendingResponses=[],this.checkStatusResponses=[],this.checkTicketResponses=[]),r.q.instance.normalErrorHandler(r.D.SOCKET_SERV_CLOSE,!0),0==r.q.instance.connectionLostTime&&(r.q.instance.connectionLostTime=Date.now()))},this.ws.onerror=e=>{n.Y.error("OnError"),0==r.q.instance.connectionLostTime&&(r.q.instance.connectionLostTime=Date.now()),t(r.D.SOCKET_SERVER)},this.ws.onmessage=e=>{n.Y.debug("Event Data"+e.data);const t=Date.now(),s=JSON.parse(e.data),c=s;if(n.Y.info("Received Message:"+JSON.stringify(s)),null!==c.msgId){const e=this.pendingResponses.findIndex((e=>e.id===c.msgId));if(-1!==e){const r=this.pendingResponses[e];if(c.msgType===i.Error){const o=r.errCallback;this.pendingResponses.splice(e,1),c.duration=t-r.sendTimestamp,r.ignoreAnswere?null===r.relatedData||void 0===r.relatedData?n.Y.info("Ingnore Message Answere::"+JSON.stringify(r)):n.Y.info("Ingnore Message Answere::"+JSON.stringify(r.msgType)):(r.groupeId>=0&&this.setIgnoreGroupeId(r.groupeId),r.msgType!==i.SendTicket&&r.msgType!==i.TicketStatus||(s.errorData=r.relatedData),r.msgType===i.SendTicket&&n.Y.isSeverLogCategoryEnabled(h.O.getInitResult(),n.o.CREATE_TICKET_COMM)&&u.Z.sendLogToServerCheckCategory(n.o.CREATE_TICKET_COMM,a.T$.SEND_LOG_INFO.code.toString(),"Send Ticket error result msgid:"+c.msgId),o(s))}else{const o=r,a=o.callback;if(this.pendingResponses.splice(e,1),c.duration=t-o.sendTimestamp,r.ignoreAnswere)null===r.relatedData||void 0===r.relatedData?n.Y.info("Ingnore Message Answere:"+JSON.stringify(r)):n.Y.info("Ingnore Message Answere:"+r.msgType);else if(r.groupeId>=0&&this.setIgnoreGroupeId(r.groupeId),r.msgType===i.SendTicket){let e=null;if(h.O.loginType===g.Ez.INITID){e={ticketData:r.relatedData,result:s}}else{e={ticketData:r.relatedData,result:s}}a(e)}else if(r.msgType===i.TicketStatus){let e=null;if(h.O.loginType===g.Ez.INITID){e={ticketData:r.relatedData,result:s}}else{e={ticketData:r.relatedData,result:s}}a(e)}else if(r.msgType===i.TicketTurnover){a({ticketData:r.relatedData,result:s})}else a(c)}}else{n.Y.error("Error! Invalid pending response! msgId:"+c.msgId);const e=new $(r.D.INV_PEND_RESP.code.toString(),"Error! Invalid pending response! msgId:"+c.msgId);o.u.instance.sendLogRequest(e)}}else this.handleActiveMessages(s)}}))}))}close(){this.isClosed=!0,this.ws.close()}getNextMessageId(){return this.messageId<Number.MAX_VALUE?this.messageId++:this.messageId=1,this.messageId}getNextGroupeId(){return this.groupeId<Number.MAX_VALUE?this.groupeId++:this.groupeId=1,this.groupeId}isWebsocketOpen(){return!!this.ws&&(this.ws.readyState!==WebSocket.CLOSING&&this.ws.readyState!==WebSocket.CLOSED)}isWebsocketOpenState(){return!this.ws||this.ws.readyState===WebSocket.OPEN}setIgnoreGroupeId(e){for(const t of this.pendingResponses)t.groupeId===e&&(t.ignoreAnswere=!0)}startCheckTimout(){this.stopCheckTimout(),u.Z.hasServiceWorker?this.checkTimeoutIntervWorker=l.Zi((()=>{this.checkTimeout()}),500):this.checkTimeoutInterv=setInterval((()=>{this.checkTimeout()}),500)}stopCheckTimout(){u.Z.hasServiceWorker?(u.Z.clearServiceWorkers(this.checkTimeoutIntervWorker),this.checkTimeoutIntervWorker=null):clearInterval(this.checkTimeoutInterv)}checkTimeout(){const e=Date.now();this.checkStatusCount++,this.checkStatusCount===Number.MAX_VALUE&&(this.checkStatusCount=0);for(const t of this.pendingResponses)if(t.firstSendTime+t.retryTime<e&&!t.ignoreAnswere){null===t.relatedData||void 0===t.relatedData?n.Y.info("Request lasted too long:"+JSON.stringify(t)):n.Y.info("Request lasted too long:"+JSON.stringify(t.msgType)),this.setIgnoreGroupeId(t.groupeId);const e={errorId:a.T$.TIME_OUT_ERROR.code,errorMsg:d.l.instance.getTextCommon("error_timetolo"),errorObj:t.msgType};t.errCallback(e),t.msgType===i.TicketStatus?this.checkStatusResponses.push(t):t.msgType===i.SendTicket&&(this.checkTicketResponses.push(t),this.checkPendingCreateTicketResponses())}else if(t.sendTimestamp+t.timeout<e&&!t.retrySend&&t.firstSendTime+t.retryTime>e&&!t.ignoreAnswere){t.retrySend=!0;let e=t.groupeId,s=!1;e<0&&(t.groupeId=this.getNextGroupeId(),e=t.groupeId,s=!0),null===t.relatedData||void 0===t.relatedData?n.Y.info("Respons:"+JSON.stringify(t)):n.Y.info("Respons:"+JSON.stringify(t.msgType));const c={errorId:a.T$.TIME_OUT.code,errorMsg:a.T$.TIME_OUT.message,errorObj:t};if(t.errCallback(c),s){let e="Timout at Request:"+t.msgType+" was send at:"+u.Z.formatDateTimeSecondsScince(t.sendTimestamp);t.msgType===i.SendTicket&&(e+=" transactionID:"+t.sendData.ticketTransactionId);const s=new $(r.D.TIME_OUT.code.toString(),e);o.u.instance.sendLogRequest(s)}}if(this.checkStatusCount%120==0&&(this.ticketIdsList=[],this.checkPendingStatusResponses(this.checkStatusResponses.length-1).then((()=>{h.O.showTicketCanceledDetection(this.ticketIdsList)}))),Date.now()-this.checkTicketTime>c.Z.socketServerSettings.checkSendTicketInterval&&this.checkPendingCreateTicketResponses(),this.pendingResponses.length>0){const t=e-c.Z.socketServerSettings.keepPendingReponses;if(this.pendingResponses[0].sendTimestamp<t-c.Z.socketServerSettings.keepPendingReponses/2)for(let e=this.pendingResponses.length-1;e>=0;e--){this.pendingResponses[e].sendTimestamp<t&&this.pendingResponses.splice(e,1)}}if(this.checkStatusResponses.length>0){const t=e-c.Z.socketServerSettings.keepCheckStatusResponses;if(this.checkStatusResponses[0].sendTimestamp<t-c.Z.socketServerSettings.keepCheckStatusResponses/2)for(let e=this.checkStatusResponses.length-1;e>=0;e--){this.checkStatusResponses[e].sendTimestamp<t&&this.checkStatusResponses.splice(e,1)}}if(this.checkTicketResponses.length>0){const t=e-c.Z.socketServerSettings.keepCheckStatusResponses;if(this.checkTicketResponses[0].sendTimestamp<t-c.Z.socketServerSettings.keepCheckStatusResponses/2)for(let e=this.checkTicketResponses.length-1;e>=0;e--){this.checkTicketResponses[e].sendTimestamp<t&&this.checkTicketResponses.splice(e,1)}}}checkPendingStatusResponses(e){return new Promise((t=>{if(e>=this.checkStatusResponses.length||e<0)return void t();const s=this.checkStatusResponses[e];if(s.msgType===i.TicketStatus){const i=s.relatedData,r=s.sendData;r.newStatus===m.$u.CANCELD?(n.Y.debug("CCCCCCCCCCCCCC Check ticket Statsus"),this.checkOldTicketCanceldStatus(i,r,s).then((()=>{this.checkPendingStatusResponses(e-1).then((()=>{t()}))})).catch((()=>{this.checkPendingStatusResponses(e-1).then((()=>{t()}))}))):this.checkPendingStatusResponses(e-1).then((()=>{t()}))}else this.checkPendingStatusResponses(e-1).then((()=>{t()}))}))}checkPendingCreateTicketResponses(){return new Promise(((e,t)=>{if(this.checkTicketTime=Date.now(),n.Y.debug("CCCCCCCCCCCCCCCCC check ticket Create:"+this.checkTicketResponses.length),this.checkTicketResponses.length>0){const t=[];for(const e of this.checkTicketResponses)t.push(e.sendData.ticketTransactionId);const s=new U(t,u.Z.getStandardNow());o.u.instance.sendTicketTimeoutRequest(s).then((t=>{for(let e=this.checkTicketResponses.length-1;e>=0;e--){const s=this.checkTicketResponses[e];for(let i=0;i<t.transactionList.length;i++)s.sendData.ticketTransactionId===t.transactionList[i]&&this.checkTicketResponses.splice(e,1)}let s="";for(let e=0;e<t.transactionList.length;e++)s+=";"+h.O.getInitData().initResult.sessionID+"-"+t.transactionList[e];u.Z.sendLogToServer(a.T$.TICKET_CREATE_DELETE.code.toString(),a.T$.TICKET_CREATE_DELETE.message+s),e()})).catch((e=>{}))}else e()}))}checkOldTicketCanceldStatus(e,t,s){return n.Y.debug("ServerSocketClientBase/checkOldTicketCanceldStatus"),new Promise(((t,i)=>{const r=new j(e.longTicketId);n.Y.debug(r),o.u.instance.sendTurnoverTicketRequest(r,!1,e).then((e=>{n.Y.debug("ServerSocketClientBase/checkOldTicketCanceldStatus sendTurnoverTicketRequest ok");const r=e.ticketData;r.ticketIdHex=r.longTicketId.substring(r.longTicketId.length-4,r.longTicketId.length),r.ticketId=parseInt(r.ticketIdHex,16),r.sessionId=r.longTicketId.substring(0,r.longTicketId.length-4);const o=m.Nu.getStatusByServerStatus(e.result.ticketStatus),a=h.O.getGameByGameType(r.gameType);null!==a?a.correctTicketStatus(r,o,this.ticketIdsList).then((e=>{if(e)for(let e=this.checkStatusResponses.length-1;e>=0;e--){if(this.checkStatusResponses[e].id===s.id){this.checkStatusResponses.splice(e,1);break}}t()})).catch((()=>{i()})):(n.Y.error("No related game!!!"),r.rastersize=0,t())})).catch((e=>{n.Y.error("ServerSocketClientBase/checkOldTicketCanceldStatus sendTurnoverTicketRequest failed"),i()}))}))}clearAllPendingOfType(e){for(let t=this.pendingResponses.length-1;t>=0;t--){this.pendingResponses[t].msgType===e&&this.pendingResponses.splice(t,1)}}setGamePool(e){this.gamesPool=e}}class f extends p{constructor(){super()}handleActiveMessages(e){switch(e.msgType){case i.GameResult:{n.Y.debug("Received Game Result");const t=e;n.Y.info("Received Game Result Data"+JSON.stringify(t)),this.gamesPool&&!h.O.gameStopped&&this.gamesPool.updateGameResult(t.gameresult.id,t.gameresult,!0);break}case i.Win:{n.Y.debug("Received Win Value");const t=e;n.Y.info("Received Win Value Data:"+JSON.stringify(t)),this.gamesPool&&this.gamesPool.updateWinValue(t);break}case i.PrepardeTicket:{n.Y.debug("Received Prepared Ticket");const t=e;n.Y.info("Received prepared Ticket Data:"+JSON.stringify(t)),this.gamesPool&&this.gamesPool.receivedExteranlTicket(t);break}case i.PrepardeTicketPlayed:{n.Y.debug("Received Prepared Ticket Played");const t=e;n.Y.info("Received prepared played Data:"+JSON.stringify(t)),this.gamesPool&&this.gamesPool.externalTicketWasCreatedByOtherDevice(t);break}case i.PrepardeTicketStatus:{n.Y.debug("Received Prepared Ticket Status");const t=e;n.Y.info("Received prepared status Data:"+JSON.stringify(t)),this.gamesPool&&this.gamesPool.externalTicketStatusChanged(t);break}case i.TicketStatusGet:{n.Y.debug("Received One wallet Ticket Status");const t=e;n.Y.info("Received One wallet Ticket Status Data:"+JSON.stringify(t)),this.gamesPool&&this.gamesPool.sendOnTicketStatusGet(t);break}case i.Error:n.Y.error("Received ERROR"),r.q.instance.normalErrorHandler(e,!0);break;default:{n.Y.error("MessageType not handled:"+e.msgType);const t=new $(a.T$.ACTIVE_MESSAGE_NOT_HANDLED.code.toString(),"MessageType not handled:"+e.msgType);o.u.instance.sendLogRequest(t)}}}}var S=s(85765),I=s(66165);class _{constructor(){this.checkTimeoutIntervWorker=null,this.checkTimeoutInterv=null,this.sendLogBuffer=[],this.countSocketNotOpenMessages=0}startCheckIntervall(){u.Z.hasServiceWorker?(u.Z.clearServiceWorkers(this.checkTimeoutIntervWorker),this.checkTimeoutIntervWorker=null,this.checkTimeoutIntervWorker=l.Zi((()=>{this.checkSendLogs()}),c.Z.socketServerSettings.sendLogInterval)):(clearInterval(this.checkTimeoutInterv),this.checkTimeoutInterv=setInterval((()=>{this.checkSendLogs()}),c.Z.socketServerSettings.sendLogInterval))}addSendLogMassage(e){o.u.instance.serverSocketClient.isWebsocketOpenState()?(this.countSocketNotOpenMessages=0,this.doAddSendLogMassage(e)):(this.countSocketNotOpenMessages++,this.countSocketNotOpenMessages<5&&this.doAddSendLogMassage(e))}doAddSendLogMassage(e){this.sendLogBuffer.push(e),this.sendLogBuffer.length>c.Z.socketServerSettings.sendLogMaxBuffSize&&this.sendLogBuffer.shift()}checkSendLogs(){if(n.Y.debug("----------------------- CHeck send Log, length:"+this.sendLogBuffer.length),o.u.instance.serverSocketClient.isWebsocketOpenState()){if(this.sendLogBuffer.length>0){const e=[];for(const t of this.sendLogBuffer){const s=new X;s.errorId=t.errorId,s.errorMsg=t.errorMsg,s.clientDt=t.clientDt,e.push(s)}this.sendLogBuffer=[];const t=new J(e);o.u.instance.sendLogRequestInterval(t).catch((e=>{n.Y.error("Send log Error:"+JSON.stringify(e))}))}}else n.Y.info("Websocket not open at send")}}var k=s(49421),v=function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};class w{static getUserSettingsMessageFromUserSettings(e){return new K(e.language,e.gameAutoswitch)}constructor(e){this.wsUrl=e,this.serverSocketClient=new f,this.sendLogBuffer=new _,this.sendLogBuffer.startCheckIntervall()}connectWebSocketClient(){return v(this,void 0,void 0,(function*(){r.q.instance.isOpening=!0;window.location.hostname;n.Y.info("WS: "+this.wsUrl);try{yield this.serverSocketClient.open(this.wsUrl),r.q.instance.hideErrorDialog()}catch(e){n.Y.error("Error setting up Web Socket:"+JSON.stringify(e)),r.q.instance.normalErrorHandler(e,!0)}}))}tryConnectWebSocketClient(){return v(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{window.location.hostname;n.Y.info("Try WS: "+this.wsUrl);try{this.serverSocketClient.open(this.wsUrl).then((()=>{e()})).catch((e=>{t(e)}))}catch(e){n.Y.error("Error Try setting up Web Socket:"+JSON.stringify(e)),t(e)}}))}))}closeWebSocketClient(){this.serverSocketClient.close()}startCheckTimeout(){this.serverSocketClient.startCheckTimout()}sendDeviceInitRequest(e,t,s,i){return v(this,void 0,void 0,(function*(){return new Promise(((o,d)=>{const l=new E(e,t,s,c.Z.socketServerVersion,u.Z.getStandardNow());let g=Date.now(),m=-1;i&&(g=i.firstSendTime,m=i.groupeId),this.serverSocketClient.sendMessageAsync(l,c.Z.socketServerSettings.initTimeout,g,c.Z.socketServerSettings.initTryTime,m,(e=>{o(e)}),(i=>{if(n.Y.error("Error:"+JSON.stringify(i)),i.errorId===a.T$.TIME_OUT.code)this.sendDeviceInitRequest(e,t,s,i.errorObj).then((e=>{o(e)})).catch((e=>{d(e)}));else if(i.errorId===a.T$.NO_DB_CONNECTION.code)setTimeout((()=>{this.sendDeviceInitRequest(e,t,s,i.errorObj).then((e=>{o(e)})).catch((e=>{d(e)}))}),500);else if(i.errorId===a.T$.DEVICE_ALLREADY_ONL.code)h.O.stopGame(),r.q.instance.createErrorDialog("Error","Someone else is already logged in with the same Device ID.<br/>Each device can only be opened once!<br/><br/>Device ID:"+t,!1,!0);else if(i.errorId===a.T$.DEVICE_NOT_ACTIVE.code){const e=a.T$.DEVICE_NOT_ACTIVE;e.message+=" "+t,r.q.instance.normalErrorHandler(e,!0)}else if(i.errorId===a.T$.DEVICE_NO_RETISTERED.code){const e=a.T$.DEVICE_NO_RETISTERED;e.message+=" "+t,r.q.instance.normalErrorHandler(e,!0,(()=>{h.O.reloadWidow()}))}else d(i)}))}))}))}sendUserInitRequest(e,t,s){return v(this,void 0,void 0,(function*(){return new Promise(((s,i)=>{const r=new L(e,t,-1*S.i.initNumberPast,S.i.initNumberFuture,c.Z.socketServerVersion,u.Z.getStandardNow());this.serverSocketClient.sendMessageAsync(r,c.Z.socketServerSettings.initTimeout,Date.now(),c.Z.socketServerSettings.initTryTime,-1,(e=>{n.Y.info("Init Request Answere:"+JSON.stringify(e)),s(e)}),(r=>{n.Y.error("Error:"+JSON.stringify(r)),r.errorId===a.T$.TIME_OUT.code?this.sendUserInitRequest(e,t,r.errorObj).then((e=>{s(e)})).catch((e=>{i(e)})):i(r)}))}))}))}sendPosInitIdRequest(e,t,s,i,o,d){return v(this,void 0,void 0,(function*(){return new Promise(((l,g)=>{const m=new O(t,s,e,i,o,c.Z.socketServerVersion,u.Z.getStandardNow());let T=Date.now(),p=-1;d&&(T=d.firstSendTime,p=d.groupeId),this.serverSocketClient.sendMessageAsync(m,c.Z.socketServerSettings.initTimeout,T,c.Z.socketServerSettings.initTryTime,p,(e=>{l(e)}),(c=>{if(n.Y.error("Error:"+JSON.stringify(c)),c.errorId===a.T$.TIME_OUT.code)this.sendPosInitIdRequest(e,t,s,i,o,c.errorObj).then((e=>{l(e)})).catch((e=>{g(e)}));else if(c.errorId===a.T$.NO_DB_CONNECTION.code)setTimeout((()=>{this.sendPosInitIdRequest(e,t,s,i,o,c.errorObj).then((e=>{l(e)})).catch((e=>{g(e)}))}),500);else if(c.errorId===a.T$.DEVICE_ALLREADY_ONL.code)h.O.stopGame(),r.q.instance.createErrorDialog("Error","Someone else is already logged in with the same Device.<br/>Each device can only be opened once!",!1,!0);else if(c.errorId===a.T$.DEVICE_ALLREADY_ONL.code){const e=a.T$.DEVICE_ALLREADY_ONL;e.message+=" "+t,r.q.instance.normalErrorHandler(e,!0,(()=>{h.O.reloadWidow()}))}else if(c.errorId===a.T$.DEVICE_NOT_ACTIVE.code){const e=a.T$.DEVICE_NOT_ACTIVE;e.message+=" "+t,r.q.instance.normalErrorHandler(e,!0)}else if(c.errorId===a.T$.DEVICE_NO_RETISTERED.code){const e=a.T$.DEVICE_NO_RETISTERED;e.message+=" "+t,r.q.instance.normalErrorHandler(e,!0,(()=>{h.O.reloadWidow()}))}else g(c)}))}))}))}sendInitIDinitRequest(e,t,s,i){return v(this,void 0,void 0,(function*(){return new Promise(((r,o)=>{const d=new R(e,-1*S.i.initNumberPast,S.i.initNumberFuture,c.Z.socketServerVersion,u.Z.getStandardNow(),t,s);let l=Date.now(),h=-1;i&&(l=i.firstSendTime,h=i.groupeId),this.serverSocketClient.sendMessageAsync(d,c.Z.socketServerSettings.initTimeout,l,c.Z.socketServerSettings.initTryTime,h,(e=>{r(e)}),(i=>{n.Y.error("Error:"+JSON.stringify(i)),i.errorId===a.T$.TIME_OUT.code?this.sendInitIDinitRequest(e,t,s,i.errorObj).then((e=>{r(e)})).catch((e=>{o(e)})):i.errorId===a.T$.NO_DB_CONNECTION.code?setTimeout((()=>{this.sendInitIDinitRequest(e,t,s,i.errorObj).then((e=>{r(e)})).catch((e=>{o(e)}))}),500):o(i)}))}))}))}sendDeviceReconnectRequest(e,t,s,o){return v(this,void 0,void 0,(function*(){return new Promise(((l,g)=>{const m=new y(e,t,c.Z.socketServerVersion,u.Z.getStandardNow(),s);let T=Date.now(),p=-1;o&&(T=o.firstSendTime,p=o.groupeId),this.serverSocketClient.sendMessageAsync(m,c.Z.socketServerSettings.reconnectTimeout,T,c.Z.socketServerSettings.initTryTime,p,(e=>{this.serverSocketClient.clearAllPendingOfType(i.DeviceReconnect),I._.pendingTimeRequest=!1,l(e)}),(i=>{n.Y.error("Error Reconnect:"+JSON.stringify(i)),i.errorId===a.T$.DEVICE_ALLREADY_ONL.code?(h.O.stopGame(),r.q.instance.createErrorDialog(d.l.instance.getTextCommon("error_txt"),d.l.instance.getText("Error_deviceMultiLogin")+t,!1,!0)):r.q.instance.createErrorDialog(d.l.instance.getTextCommon("error_txt"),d.l.instance.getTextCommon("error_reconnect"),!0,!0).then((()=>{h.O.reloadWidow()})),i.errorId===a.T$.TIME_OUT.code?this.sendDeviceReconnectRequest(e,t,s,i.errorObj).then((e=>{l(e)})).catch((e=>{g(e)})):i.errorId===a.T$.NO_DB_CONNECTION.code?setTimeout((()=>{this.sendDeviceReconnectRequest(e,t,s,i.errorObj).then((e=>{l(e)})).catch((e=>{g(e)}))}),500):g(i)}))}))}))}sendDeviceLogoutRequest(e,t,s){return v(this,void 0,void 0,(function*(){return new Promise(((i,r)=>{const o=new b(e,t,c.Z.socketServerVersion,u.Z.getStandardNow());let d=Date.now(),l=-1;s&&(d=s.firstSendTime,l=s.groupeId),this.serverSocketClient.sendMessageAsync(o,c.Z.socketServerSettings.logoutRequestTimeout,d,c.Z.socketServerSettings.logoutRequestRetryTime,l,(e=>{i(e)}),(s=>{n.Y.error("Error:"+JSON.stringify(s)),s.errorId===a.T$.TIME_OUT.code?this.sendDeviceLogoutRequest(e,t,s.errorObj).then((e=>{i(e)})).catch((e=>{r(e)})):r(s)}))}))}))}sendDeviceRelogRequest(e,t,s){return v(this,void 0,void 0,(function*(){return new Promise(((i,r)=>{const o=new P(e,t,c.Z.socketServerVersion,u.Z.getStandardNow());let d=Date.now(),l=-1;s&&(d=s.firstSendTime,l=s.groupeId),this.serverSocketClient.sendMessageAsync(o,c.Z.socketServerSettings.logoutRequestTimeout,d,c.Z.socketServerSettings.logoutRequestRetryTime,l,(e=>{i(e)}),(s=>{n.Y.error("Error:"+JSON.stringify(s)),s.errorId===a.T$.TIME_OUT.code?this.sendDeviceRelogRequest(e,t,s.errorObj).then((e=>{i(e)})).catch((e=>{r(e)})):r(s)}))}))}))}sendTranslationRequest(e){return v(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{const s=new C;this.serverSocketClient.sendMessageAsync(s,c.Z.socketServerSettings.standardTimeout,Date.now(),c.Z.socketServerSettings.standardTryTime,-1,(t=>{n.Y.info("Translation Request Answere:"+JSON.stringify(t)),e(t)}),(s=>{n.Y.error("Error:"+JSON.stringify(s)),s.errorId===a.T$.TIME_OUT.code?this.sendTranslationRequest(s.errorObj).then((t=>{e(t)})).catch((e=>{t(e)})):t(s)}))}))}))}sendGameRequest(e,t){return v(this,void 0,void 0,(function*(){return new Promise(((s,i)=>{n.Y.debug("RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR send Game Request"),u.Z.sendLogToServerCheckCategory(n.o.GAME_RESULT_REQUESTS,a.T$.SEND_LOG_INFO.code.toString(),"Send Game Request: time:"+u.Z.formatDateTimeSecondsScince(Date.now())+" game:"+e.betofferId);let o=Date.now(),d=-1;t&&(o=t.firstSendTime,d=t.groupeId),this.serverSocketClient.sendMessageAsync(e,c.Z.socketServerSettings.gameRequestTimeout,o,c.Z.socketServerSettings.gameRequestRetryTime,d,(e=>{n.Y.info("Game Request Answere:"+JSON.stringify(e)),s(e)}),(t=>{if(n.Y.error("Error Game Request:"+JSON.stringify(t)),t.errorId!==a.T$.TIME_OUT.code)return r.q.instance.normalErrorHandler(t,!1),i(t);this.sendGameRequest(e,t.errorObj).then((e=>{n.Y.debug("Resolved Inside"),s(e)})).catch((e=>{i(e)}))}))}))}))}sendGameResultRequest(e,t,s){return v(this,void 0,void 0,(function*(){return new Promise(((i,o)=>{n.Y.debug("send Game Result Request"),u.Z.sendLogToServerCheckCategory(n.o.GAME_RESULT_REQUESTS,a.T$.SEND_LOG_INFO.code.toString(),"Send Result Request: time:"+u.Z.formatDateTimeSecondsScince(Date.now())+" game:"+e.betofferId);let d=Date.now(),l=-1;s&&(d=s.firstSendTime,l=s.groupeId),this.serverSocketClient.sendMessageAsync(e,c.Z.socketServerSettings.resultRequestTimeout,d,c.Z.socketServerSettings.resultRequestRetryTime,l,(e=>{n.Y.info("Game Result Request Answere:"+JSON.stringify(e)),i(e)}),(s=>{if(n.Y.error("Error Game Request:"+JSON.stringify(s)),s.errorId!==a.T$.TIME_OUT.code)return r.q.instance.normalErrorHandler(s,!1),o(s);t?this.sendGameResultRequest(e,t,s.errorObj).then((e=>{n.Y.debug("Resolved Inside"),i(e)})).catch((e=>{o(e)})):n.Y.info("No resend on Timeout")}))}))}))}sendTimeRequest(e,t){return v(this,void 0,void 0,(function*(){return new Promise(((s,i)=>{n.Y.info("-----\x3e TTTTTTTTTTTTT send Server Time Request");const o=new A(u.Z.getStandardNow());let d=Date.now(),l=-1;t&&(d=t.firstSendTime,l=t.groupeId);let g=1e9,m=1e9;e&&(g=c.Z.socketServerSettings.standardTimeout,m=c.Z.socketServerSettings.standardTryTime),this.serverSocketClient.sendMessageAsync(o,g,d,m,l,(e=>{n.Y.info("Server Time Request Answere:"+JSON.stringify(e)),s(e)}),(t=>{n.Y.error("Error Time Request:"+JSON.stringify(t)),t.errorId===a.T$.TIME_OUT.code?this.sendTimeRequest(e,t.errorObj).then((e=>{s(e)})).catch((e=>{i(e)})):(e?r.q.instance.normalErrorHandler(t,!0,(()=>{h.O.reloadWidow()})):r.q.instance.normalErrorHandler(t,!1),i(t))}))}))}))}sendCreditRequest(e){return v(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{const s=new D;this.serverSocketClient.sendMessageAsync(s,c.Z.socketServerSettings.standardTimeout,Date.now(),c.Z.socketServerSettings.standardTryTime,-1,(t=>{n.Y.info("Credit Request Answere:"+JSON.stringify(t)),e(t)}),(s=>{n.Y.error("Error:"+JSON.stringify(s)),s.errorId===a.T$.TIME_OUT.code?this.sendCreditRequest(s.errorObj).then((t=>{e(t)})).catch((e=>{t(e)})):t(s)}))}))}))}sendTicketRequest(e,t,s,i,l){return v(this,void 0,void 0,(function*(){return new Promise(((m,T)=>{n.Y.debug(" send Ticket Request");let p=Date.now(),f=-1;l&&(p=l.firstSendTime,f=l.groupeId),this.serverSocketClient.sendMessageAsync(e,c.Z.socketServerSettings.standardInGameTimeout,p,c.Z.socketServerSettings.standardTryTime,f,(e=>{h.O.loginType===g.Ez.INITID?e.hasOwnProperty("result")?n.Y.info("Ticket Request Answere:"+JSON.stringify(e.result)):n.Y.info("Ticket Request Answere:"+JSON.stringify(e)):e.hasOwnProperty("result")?(n.Y.info("Ticket Request Answere:"+JSON.stringify(e.result)),n.Y.isSeverLogCategoryEnabled(h.O.getInitResult(),n.o.CREATE_TICKET_COMM)&&u.Z.sendLogToServerCheckCategory(n.o.CREATE_TICKET_COMM,a.T$.SEND_LOG_INFO.code.toString(),"Ticket Request Answere:"+JSON.stringify(e.result))):(n.Y.info("Ticket Request Answere:"+JSON.stringify(e)),n.Y.isSeverLogCategoryEnabled(h.O.getInitResult(),n.o.CREATE_TICKET_COMM)&&u.Z.sendLogToServerCheckCategory(n.o.CREATE_TICKET_COMM,a.T$.SEND_LOG_INFO.code.toString(),"Ticket Request Answere:"+JSON.stringify(e))),m(e)}),(c=>{if(n.Y.error("Error Ticket Request:"+JSON.stringify(c.errorMsg)),n.Y.isSeverLogCategoryEnabled(h.O.getInitResult(),n.o.CREATE_TICKET_COMM)&&u.Z.sendLogToServerCheckCategory(n.o.CREATE_TICKET_COMM,a.T$.SEND_LOG_INFO.code.toString(),"Error Ticket Request:"+c.errorId+":"+JSON.stringify(c.errorMsg)),c.errorId!==a.T$.TIME_OUT.code){let e=!1,s=!0;if(t&&c.errorId===a.T$.TIPS_TO_LATE.code&&(e=!0,s=!1,r.q.instance.createErrorDialog(d.l.instance.getTextCommon("error_txt"),d.l.instance.getTextCommon("error_LateNotAccepted"),!0)),c.errorId===a.T$.TURNOVER_LIMIT.code)r.q.instance.createErrorDialog("",d.l.instance.getTextCommon("Warning_TurnoverLimitReached"),!0),s=!1;else if(c.errorId===a.T$.PROFIT_LIMIT.code)r.q.instance.createErrorDialog("",d.l.instance.getTextCommon("Warning_ProfitLimitReached"),!0),s=!1;else if(c.errorId===a.T$.TRANS_ID_EXISTS.code&&-1!==f){const e=c.errorData;e.ticketIdHex=c.ticketId,e.ticketId=parseInt(e.ticketIdHex,16),e.longTicketId=e.sessionId+e.ticketIdHex;let t=null;if(h.O.loginType===g.Ez.INITID){t={result:{ticketID:e.ticketIdHex,newCredit:c.newCredit},ticketData:e}}else{t={result:{ticketID:e.ticketIdHex},ticketData:e}}n.Y.info("Transaction ID exists --\x3e Ticket has allready been created --\x3e sucess"),m(t);const s="Transaction ID exists --\x3e Ticket has allready been created --\x3e sucess, transactioId:"+t.ticketData.ticketTransId+" ticketId:"+t.ticketData.sessionId+t.ticketData.ticketIdHex,i=new $(r.D.TICKET_ALREADY_CREATED.code.toString(),s);o.u.instance.sendLogRequest(i)}else if(c.errorId===a.T$.EXTERN_TICKET_ALREADY_CREATED.code){const e=new $(a.T$.EXTERN_TICKET_ALREADY_CREATED.code.toString(),a.T$.EXTERN_TICKET_ALREADY_CREATED.message);o.u.instance.sendLogRequest(e),n.Y.error(a.T$.EXTERN_TICKET_ALREADY_CREATED.code+" "+a.T$.EXTERN_TICKET_ALREADY_CREATED.message)}else s&&(c.errorId===a.T$.TIME_OUT_ERROR.code&&(c.errorMsg=d.l.instance.getTextCommon("err_comm_norel")),r.q.instance.normalErrorHandler(c,!0,(()=>{})));return T({error:c,clearOutstanding:e,ticketData:null})}this.sendTicketRequest(e,t,s,i,c.errorObj).then((e=>{n.Y.debug("Resolved Inside"),m(e)})).catch((e=>{T(e)}))}),i)}))}))}sendTicketStatusRequest(e,t,s,i){return v(this,void 0,void 0,(function*(){return new Promise(((o,l)=>{n.Y.debug(" send Ticket Status Request");let T=Date.now(),p=-1;i&&(T=i.firstSendTime,p=i.groupeId),e.statusWasSend=t.newStatus,this.serverSocketClient.sendMessageAsync(t,c.Z.socketServerSettings.standardInGameTimeout,T,c.Z.socketServerSettings.standardTryTime,p,(e=>{h.O.loginType,g.Ez.INITID,e.hasOwnProperty("result")?n.Y.info("Ticket Status Request Answere:"+JSON.stringify(e.result)):n.Y.info("Ticket Status Request Answere:"+JSON.stringify(e)),o(e)}),(i=>{if(n.Y.error("Error Ticket Status Request:"+i.errorMsg),i.errorId!==a.T$.TIME_OUT.code){let e=!1;const t=i.errorData;if(i.errorId===a.T$.STATUS_TO_LATE.code)e=!0,r.q.instance.createErrorDialog(d.l.instance.getTextCommon("error_txt"),d.l.instance.getTextCommon("error_LateNotAccepted"),!0);else if(i.errorId===a.T$.TICKET_ID_NOT_VALID.code)s&&r.q.instance.normalErrorHandler(i,!0);else if(i.errorId===a.T$.PAYOUT_OTHER_DEVICE.code){const e=a.T$.PAYOUT_OTHER_DEVICE;e.message=d.l.instance.getTextCommon("err_device"),r.q.instance.normalErrorHandler(e,!0,(()=>{}))}else if(i.errorId===a.T$.PAYOUT_OTHER_OP.code){const e=a.T$.PAYOUT_OTHER_OP;e.message=d.l.instance.getTextCommon("err_operator"),r.q.instance.normalErrorHandler(e,!0,(()=>{}))}else if(i.errorId!==a.T$.TICKET_ALLREADY_CANCELED.code||t.statusWasSend!==m.$u.CANCELD&&t.statusWasSend!==m.$u.AUTOCANCEL){if(i.errorId===a.T$.TICKET_ALLREADY_CANCELED.code&&(t.statusWasSend===m.$u.PAYOUT||t.statusWasSend===m.$u.AUTOPAYOUT)){const e={ticketData:t};return e.ticketData.status=k.Tg.CANCELD,n.Y.info("Ticket was allready canceled on server side --\x3e valid cancel"),o(e),void u.Z.sendLogToServer(a.T$.TICKET_WAS_CANCELED.code.toString(),"Ticket was already canceled on server side --\x3e valid cancel, id:"+t.longTicketId)}if(i.errorId!==a.T$.NOT_A_WINNING_TICKET.code||t.statusWasSend!==m.$u.PAYOUT&&t.statusWasSend!==m.$u.AUTOPAYOUT||i.status!==m.Gi.PAYDOUT&&i.status!==m.Gi.AUTOPAYOUT||i.ticketId!==t.ticketIdHex)i.errorId===a.T$.TIME_OUT_ERROR.code&&(i.errorMsg=d.l.instance.getTextCommon("err_comm_norel")),r.q.instance.normalErrorHandler(i,!0,(()=>{}));else{const e={ticketData:t};n.Y.info("Ticket was already payed out on server side --\x3e valid pay out, ID:"+t.longTicketId),o(e),u.Z.sendLogToServer(a.T$.TICKET_WAS_PAYED_OUT.code.toString(),"Ticket was already payed out on server side --\x3e valid pay out, ID:"+t.longTicketId)}}else{const e={ticketData:t};n.Y.info("Ticket was allready canceled on server side --\x3e valid cancel"),o(e),u.Z.sendLogToServer(a.T$.TICKET_WAS_CANCELED.code.toString(),"Ticket was already canceled on server side --\x3e valid cancel, id:"+t.longTicketId)}return l({error:i,clearOutstanding:e,ticketData:null})}this.sendTicketStatusRequest(e,t,s,i.errorObj).then((e=>{n.Y.debug("Resolved Inside"),o(e)})).catch((e=>{l({error:e,clearOutstanding:!1,ticketData:null})}))}),e)}))}))}sendBalancingRequest(e,t){return v(this,void 0,void 0,(function*(){return new Promise(((s,i)=>{n.Y.debug(" send Balancing Request");let o=Date.now(),l=-1;t&&(o=t.firstSendTime,l=t.groupeId),this.serverSocketClient.sendMessageAsync(e,c.Z.socketServerSettings.balanceRequestTimeout,o,c.Z.socketServerSettings.balanceRequestRetryTime,l,(e=>{n.Y.info("Balancing Request Answere:"+JSON.stringify(e)),s(e)}),(t=>{if(n.Y.error("Error Balancing Request:"+JSON.stringify(t)),t.errorId===a.T$.TIME_OUT.code)this.sendBalancingRequest(e,t.errorObj).then((e=>{n.Y.debug("Resolved Inside"),s(e)})).catch((e=>{i(e)}));else{if(t.errorId!==a.T$.POS_SESSION_NOT_ACTIVE.code||-1===l)return t.errorId===a.T$.TIME_OUT_ERROR.code&&(t.errorMsg=d.l.instance.getTextCommon("err_comm_norel")),r.q.instance.normalErrorHandler(t,!0,(()=>{})),i(t);{const e={};n.Y.info("Session already ended --\x3e Balancing already made --\x3e sucess"),s(e)}}}))}))}))}sendTurnoverTicketRequest(e,t,s,i){return v(this,void 0,void 0,(function*(){return new Promise(((o,l)=>{n.Y.debug(" send Ticket Turnover Request");let u=Date.now(),g=-1;i&&(u=i.firstSendTime,g=i.groupeId),this.serverSocketClient.sendMessageAsync(e,c.Z.socketServerSettings.standardInGameTimeout,u,c.Z.socketServerSettings.standardTryTime,g,(e=>{e.hasOwnProperty("result")?n.Y.info("Turnover Ticket Request Answere:"+JSON.stringify(e.result)):n.Y.info("Turnover Ticket Request Answere:"+JSON.stringify(e)),o(e)}),(i=>{if(n.Y.error("Error Turnover Status Request:"+i.errorMsg),i.errorId!==a.T$.TIME_OUT.code){const e=!1;i.errorId===a.T$.TICKET_ID_NOT_VALID.code||i.errorId===a.T$.TICKET_ID_NOT_FOUND.code?t&&r.q.instance.normalErrorHandler(i,!0,(()=>{h.O.enableScannTicket()})):i.errorId===a.T$.TICKET_ALLREADY_CANCELED.code?r.q.instance.createErrorDialog(d.l.instance.getTextCommon("err_cancTicketHead"),d.l.instance.getTextCommon("err_cancTicketTxt"),!0,!1).then((()=>{h.O.enableScannTicket()})):(i.errorId===a.T$.TIME_OUT_ERROR.code&&(i.errorMsg=d.l.instance.getTextCommon("err_comm_norel")),r.q.instance.normalErrorHandler(i,!0,(()=>{h.O.enableScannTicket()})));return l({error:i,clearOutstanding:e,ticketData:null})}this.sendTurnoverTicketRequest(e,t,s,i.errorObj).then((e=>{n.Y.debug("Resolved Inside"),o(e)})).catch((e=>{l({error:e,clearOutstanding:!1,ticketData:null})}))}),s)}))}))}sendSetUserSettingRequest(e,t){return v(this,void 0,void 0,(function*(){return new Promise(((s,i)=>{n.Y.debug("Send User Settings");let o=Date.now(),l=-1;t&&(o=t.firstSendTime,l=t.groupeId),this.serverSocketClient.sendMessageAsync(e,c.Z.socketServerSettings.standardInGameTimeout,o,c.Z.socketServerSettings.standardTryTime,l,(e=>{n.Y.info("Send User Setting Answere:"+JSON.stringify(e)),s(e)}),(t=>{if(n.Y.error("Error Send User Setting:"+JSON.stringify(t)),t.errorId===a.T$.TIME_OUT.code)this.sendSetUserSettingRequest(e,t.errorObj).then((e=>{n.Y.debug("Resolved Inside"),s(e)})).catch((e=>{i(e)}));else{if(t.errorId!==a.T$.TIME_OUT_ERROR.code)return r.q.instance.normalErrorHandler(t,!0,(()=>{})),i(t);t.errorMsg=d.l.instance.getTextCommon("err_comm_set"),r.q.instance.normalErrorHandler(t,!0,(()=>{}))}}))}))}))}sendTurnoverRequest(e,t){return v(this,void 0,void 0,(function*(){return new Promise(((s,i)=>{let o=Date.now(),d=-1;t&&(o=t.firstSendTime,d=t.groupeId),this.serverSocketClient.sendMessageAsync(e,c.Z.socketServerSettings.standardTimeout,o,c.Z.socketServerSettings.standardTryTime,d,(e=>{n.Y.info("Turnover Request Answere:"+JSON.stringify(e)),s(e)}),(t=>{if(n.Y.error("Error Turnover Request:"+JSON.stringify(t)),t.errorId!==a.T$.TIME_OUT.code)return r.q.instance.normalErrorHandler(t,!0,(()=>{})),i(t);this.sendTurnoverRequest(e,t.errorObj).then((e=>{n.Y.debug("Resolved Inside"),s(e)})).catch((e=>{i(e)}))}))}))}))}sendTicketTimeoutRequest(e,t){return v(this,void 0,void 0,(function*(){return new Promise(((s,i)=>{n.Y.debug(" send Ticket Request");let o=Date.now(),l=-1;t&&(o=t.firstSendTime,l=t.groupeId),this.serverSocketClient.sendMessageAsync(e,c.Z.socketServerSettings.standardInGameTimeout,o,c.Z.socketServerSettings.standardTryTime,l,(e=>{s(e)}),(e=>(n.Y.error("Error Ticket Timout Request:"+JSON.stringify(e.errorMsg)),e.errorId===a.T$.TIME_OUT_ERROR.code&&(e.errorMsg=d.l.instance.getTextCommon("err_comm_norel")),e.errorId===a.T$.TIME_OUT.code&&(e.errorMsg+=" Ticket Timout Request"),r.q.instance.normalErrorHandler(e,!1,(()=>{})),i(e))))}))}))}sendLogRequest(e,t){e.errorMsg.length>c.Z.socketServerSettings.maxLogMessageLength&&(e.errorMsg=e.errorMsg.substring(0,c.Z.socketServerSettings.maxLogMessageLength)),this.sendLogBuffer.addSendLogMassage(e)}sendLogRequestInterval(e,t){return v(this,void 0,void 0,(function*(){return new Promise(((s,i)=>{if(!this.serverSocketClient.isWebsocketOpenState())return n.Y.error("Websocket not open!!!!"),null;let r=Date.now(),o=-1;t&&(r=t.firstSendTime,o=t.groupeId),this.serverSocketClient.sendMessageAsync(e,1e9,r,1e9,o,(e=>{n.Y.info("Server Log Request Answere:"+JSON.stringify(e)),s(e)}),(t=>{n.Y.error("Error Log Request:"+JSON.stringify(t)),t.errorId===a.T$.TIME_OUT.code&&this.sendLogRequestInterval(e,t.errorObj).then((e=>{s(e)})).catch((e=>{i(e)}))}))}))}))}}class E{constructor(e,t,s,n,r){this.msgId=0,this.msgType=i.DeviceLogin,this.deviceType=e,this.deviceId=t,this.uniqueId=s,this.version=n,this.clientDt=r}}class O{constructor(e,t,s,n,r,o,a){this.msgId=0,this.msgType=i.PosInitIdLogin,this.initID=e,this.uniqueId=t,this.deviceType=s,this.historyGames=n,this.futureGames=r,this.version=o,this.clientDt=a}}class R{constructor(e,t,s,n,r,o,a){this.msgId=0,this.msgType=i.Init,this.initID=e,this.historyGames=t,this.futureGames=s,this.version=n,this.clientDt=r,this.sessionID=a,this.deviceType=o}}class y{constructor(e,t,s,n,r){this.msgId=0,this.msgType=i.DeviceReconnect,this.deviceType=e,this.deviceId=t,this.version=s,this.clientDt=n,this.sessionId=r}}class P{constructor(e,t,s,n){this.msgId=0,this.msgType=i.DeviceRelog,this.deviceType=e,this.deviceId=t,this.version=s,this.clientDt=n}}class b{constructor(e,t,s,n){this.msgId=0,this.msgType=i.DeviceLogout,this.deviceType=e,this.deviceId=t,this.version=s,this.clientDt=n}}class L{constructor(e,t,s,n,r,o){this.msgId=0,this.msgType=i.Init,this.user=e,this.pass=t,this.historyGames=s,this.futureGames=n,this.version=r,this.clientDt=o}}class C{constructor(){this.msgId=0,this.msgType=i.Translation}}class D{constructor(){this.msgId=0,this.msgType=i.CREDIT}}class N{constructor(e,t,s,n){this.msgId=0,this.msgType=i.GameRound,this.gameId=e,this.betofferId=t,this.historyGames=s,this.futureGames=n}}class x{constructor(e,t){this.msgId=0,this.msgType=i.GameResult,this.gameId=e,this.betofferId=t}}class A{constructor(e){this.msgId=0,this.msgType=i.ServerTime,this.clientDt=e}}class M{constructor(e,t,s,n){this.msgId=0,this.msgType=i.SendTicket,this.prepTicketID=-1,this.type=e,this.sendDt=t,this.ticketTransactionId=s,this.gameId=n}}class U{constructor(e,t){this.msgId=0,this.msgType=i.TicketTimeout,this.transactionList=e,this.clientDt=t}}class F extends M{}class W extends M{}class G extends M{}class q extends M{}class Y extends M{}class B extends M{}class V extends M{}class Z{constructor(e,t,s,n,r){this.msgId=0,this.msgType=i.TicketStatus,this.ticketId=e,this.newStatus=t,this.confirm=s,this.cpn=n,this.tax=r}}class z{constructor(e,t,s,n,r,o,a,c,d,l,u){this.msgId=0,this.msgType=i.SendBalance,this.sendDT=e,this.totalBet=t,this.totalWin=s,this.totalCassa=n,this.countTip=r,this.countTicketCancel=a,this.printDT=c,this.ticketData=d,this.isAutobalance=l,this.balanceSessionID=u}}class j{constructor(e){this.msgId=0,this.msgType=i.TicketTurnover,this.ticketId=e}}class K{constructor(e,t){this.msgId=0,this.msgType=i.UserSettings,this.language=e,this.gameAutoswitch=t}}class H{constructor(e,t,s,n){this.msgId=0,this.msgType=i.Turnover,this.sessionId=e,this.ticketId=t,this.limitOffset=s,this.limitCount=n}}class ${constructor(e,t,s){this.msgId=0,this.msgType=i.SendLog,this.errorId=e,this.errorMsg=t,this.clientDt=s||u.Z.getStandardNow()}}class J{constructor(e){this.msgId=0,this.msgType=i.SendLog,this.errorList=e}}class X{}},47442:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});class i{}i.versionNumber="2.49.02",i.socketServerVersion="3.0.1000",i.socketServerSettings={standardTimeout:1e4,standardTryTime:3e4,initTimeout:4e4,initTryTime:2e5,standardInGameTimeout:5e3,gameRequestTimeout:5e4,gameRequestRetryTime:105e3,resultRequestTimeout:5e3,resultRequestRetryTime:6e5,balanceRequestTimeout:15e3,balanceRequestRetryTime:35e4,logoutRequestTimeout:2e4,logoutRequestRetryTime:5e4,maxPendingResponses:1e4,keepPendingReponses:6e4,keepCheckStatusResponses:36e5,reconnectTimeout:7e5,sendLogInterval:6e4,sendLogMaxBuffSize:3e3,checkSendTicketInterval:6e4,maxLogMessageLength:1e4},i.gameSettings={reloadImmediatelySocketServeDisconnect:!1,setUpErrorReloadTimeout:18e4,activeResultRequestStart:10,activeResultRequestUntil:5,activeResultRequestIntervall:3e3,timerSyncTimeout:500,timerSyncTimeoutAtSetup:15e3,timerSyncInterval:10,serverTimeRequestInterval:18e3,maxTimeNoServerSync:6e5,raceBreakReadGameRoundInterval:60,checkFaildPrintIntervall:15e3,posPanLeftDelTicketMin:50,clickTollerance:15,tempBetsOpenAnimTime:400,tipViewAnimTime:250,resViewAnimTime:400,quoViewAnimTime:400,turnViewAnimTime:400,changeViewTickCloseAnimTime:117,changeViewTickOpenAnimTime:117,changeRttGridAnimTime:400},i.gameSettingsPos={quotaViewMaxFuture:22,quotaViewMaxPast:0,readInterval:2,roundRquestSecond:5,leftSeconsShowGameStart:3,gameListMaxLength:42,autoSwitchGame:!0,maxResultNumber:30,hoverDelay:300,turnoverTableLacyLoadInterval:10,maxBalanceTicketLog:70,keepTicketViewOpen:!1,countWinValueWhenNoAutobalance:!1,externalTicketsRemoveRounds:2},i.defaultSocketUrl="wss://vgcontrol.com:1223/",i.fallbacksocketUrls=[{domain:"http://localhost:81/",socketUrl:"wss://office.racingdogs.eu:1223/"},{domain:"http://localhost/",socketUrl:"wss://office.racingdogs.eu:1223/"},{domain:"http://192.168.130.40:81/",socketUrl:"wss://vgcontrol.com:1223/"},{domain:"http://rdweb.linux3/",socketUrl:"wss://office.racingdogs.eu:1223/"},{domain:"vgpos.net/",socketUrl:"wss://vgcontrol.com:1223/"},{domain:/http:\/\/localhost:80\d\d/,socketUrl:"wss://office.racingdogs.eu:1223/"},{domain:/http:\/\/10\.0\.\d\d?\d?\.\d\d?\d?:80\d\d.*/,socketUrl:"wss://office.racingdogs.eu:1223/"},{domain:/https:\/\/qs\.vg\.minaxus\.dev.*/,socketUrl:"wss://office.racingdogs.eu:1223/"},{domain:/http:\/\/192\.168\.\d\d?\d?\.\d\d?\d?:80\d\d.*/,socketUrl:"wss://office.racingdogs.eu:1223/"},{domain:"http://127.0.0.1:8080/",socketUrl:"wss://office.racingdogs.eu:1223/"},{domain:"https://dev.racingdogs.eu/",socketUrl:"wss://office.racingdogs.eu:1223/"}],i.overwriteSocketUrls=[{domain:"http://localhost:81/",socketUrl:"wss://office.racingdogs.eu:1223/"},{domain:"http://localhost/",socketUrl:"wss://office.racingdogs.eu:1223/"},{domain:"http://192.168.130.40:81/",socketUrl:"wss://office.racingdogs.eu:1223/"},{domain:"http://rdweb.linux3/",socketUrl:"wss://office.racingdogs.eu:1223/"},{domain:/http:\/\/localhost:80\d\d/,socketUrl:"wss://office.racingdogs.eu:1223/"},{domain:/http:\/\/10\.0\.\d\d?\d?\.\d\d?\d?:80\d\d.*/,socketUrl:"wss://office.racingdogs.eu:1223/"},{domain:/https:\/\/qs\.vg\.minaxus\.dev.*/,socketUrl:"wss://office.racingdogs.eu:1223/"},{domain:/http:\/\/192\.168\.\d\d?\d?\.\d\d?\d?:80\d\d.*/,socketUrl:"wss://office.racingdogs.eu:1223/"},{domain:"http://127.0.0.1:8080/",socketUrl:"wss://office.racingdogs.eu:1223/"}],i.printSetup={printUrl:"http://localhost:8085/printer/",imagePath:"C:\\Projects\\poshtml\\logo_bw.bmp",standardFont:"Arial; 20f",smallFont:"Arial;15",barcodeHeight:45,printPageStatusPollTime:250,printPageStatusListMax:50},i.browserPrintSetup={onCloseTimeout:6e5},i.percentLoadSetting={userLogin:10,socketConnection:20},i.terminalSettings={devTermIsPreparedDevice:!0,videoserverBaseUrl:"https://rdweb.racingdogs.eu/terminal/videoserver/.www/client/index.html",developmentVideoserverBaseUrl:"http://192.168.130.40:65336/index.html",videoFilesPath:"",useDevelopUrl:!0,useClientStream:!1,width:"730"}},49001:(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});var i=s(81814),n=s(81026),r=s(23859),o=s(47812),a=s.n(o),c=s(66115),d=s(87488),l=s(33152),u=s(39108),h=s(30703);class g{static isA(e,t){return e instanceof t}static getA(e,t){return g.isA(e,t)?e:null}static isObject(e){return"object"==typeof e?null!==e:"function"==typeof e}static isString(e){return"string"==typeof e}static isNumber(e){return"number"==typeof e}static toNumber(e){return g.isString(e)?parseFloat(e):g.isNumber(e)?e:0}static toIntNumber(e,t){return t||(t=10),g.isString(e)?parseInt(e,t):g.isNumber(e)?e:0}static isArray(e){return Array.isArray(e)}static isFunction(e){return e&&"[object Function]"==={}.toString.call(e)}static capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}static parseQueryParams(e){e=e.split("+").join(" ");const t={},s=/[?&]?([^=]+)=([^&]*)/g;let i=s.exec(e);for(;i;)t[decodeURIComponent(i[1])]=decodeURIComponent(i[2]),i=s.exec(e);return t}static isValidEmail(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}static classNames(...e){let t=[];for(const s of e)if(g.isString(s))t.push(s);else if(g.isArray(s)&&s.length>0){const e=s;t=t.concat(e)}else if("object"==typeof s)for(const e in s)if(s){({}).hasOwnProperty.call(s,e)&&s[e]&&t.push(e)}return t.join(" ")}static componentToHex(e){const t=e.toString(16);return 1===t.length?"0"+t:t}static rgbComponentsToHex(e,t,s){return"#"+g.componentToHex(e)+g.componentToHex(t)+g.componentToHex(s)}static getVariableName(e){const t=/\(\) => (.*\.)*(.+)/g.exec(e+"");if(null==t)throw new Error("The function does not contain a statement matching 'return variableName;'");return t[t.length-1]}static asString(e){return Array.isArray(e)?e[0]:e}static leftPad(e,t,s){return(t=t-e.length+1)>0?new Array(t).join(s)+e:e}static isEmpty(e){for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}static getTimestampWithAge(e,t,s,i){return Date.now()-this.getTimestampDuration(e,t,s,i)}static getTimestampDuration(e,t,s,i){let n=24*e*60*60*1e3;return void 0!==t&&(n+=60*t*60*1e3),void 0!==s&&(n+=60*s*1e3),void 0!==i&&(n+=1e3*i),n}static toPosix(e){return e.split("\\").join("/")}static round(e,t){if(!isNaN(e)&&isFinite(e)){const s=Math.pow(10,t);return Math.round(e*s)/s}return NaN}static getUrlParameter(e,t){const s=new URL(e).searchParams.get(t);if(null!==s)return s}static getUrlParameterBool(e,t,s){const i=this.getUrlParameter(e,t);return void 0!==i?""===i||"true"===i:s}static getUrlParameterIntOrUndefined(e,t){const s=this.getUrlParameter(e,t);if(void 0!==s)return parseInt(s,10)}static getUrlParameterInt(e,t,s){const i=this.getUrlParameter(e,t);return void 0!==i?parseInt(i,10):s}static getUrlParameterFloat(e,t,s){const i=this.getUrlParameter(e,t);return void 0!==i?parseFloat(i):s}static clamp(e,t,s){return Math.min(Math.max(t,e),s)}static lerp(e,t,s){return e*(1-s)+t*s}static waitDelay(e){return new Promise((t=>setTimeout(t,e)))}static parseBoolean(e){return"true"===e}static getStandardNow(){const e=new Date;return a()(e).format("YYYY-MM-DD HH:mm:ss")}static formatStandardDate(e){return a()(e).format("YYYY-MM-DD HH:mm:ss")}static formatStandardTime(e){return a()(e).format("HH:mm:ss")}static getDatFromStandardString(e){if(null===e||""===e)return n.Y.error("Invalide Date to create:"+e),new Date(0);const t=new Date;return t.setFullYear(parseInt(e.substr(0,4),10)),t.setMonth(parseInt(e.substr(5,2),10)-1),t.setDate(parseInt(e.substr(8,2),10)),t.setHours(parseInt(e.substr(11,2),10)),t.setMinutes(parseInt(e.substr(14,2),10)),t.setSeconds(parseInt(e.substr(17,2),10)),t.setMilliseconds(0),t}static getDatFromStandardShortString(e){if(null===e||""===e)return n.Y.error("Invalide Date to create:"+e),new Date(0);const t=new Date;return t.setFullYear(parseInt(e.substr(0,4),10)),t.setMonth(parseInt(e.substr(5,2),10)-1),t.setDate(parseInt(e.substr(8,2),10)),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}static getSecondsSinceFromUTCDate(e){const t=e.getTimezoneOffset();return n.Y.debug("Timezone offset:"+t),e.getTime()-6e4*t}static formatStandardUTCSecondsScince(e){const t=new Date(e),s=t.getTimezoneOffset(),i=new Date(t.getTime()+6e4*s);return g.formatStandardDate(i)}static formatStandardUTCTimeSecondsScince(e){const t=new Date(e),s=t.getTimezoneOffset(),i=new Date(t.getTime()+6e4*s);return g.formatStandardTime(i)}static formatStandarTimeSecondsScince(e){return this.getMomentDateLocalFromUTC(e).format("HH:mm:ss")}static formatTimeSecondsScince(e){return this.getMomentDateLocalFromUTC(e).format(i.I.momTimeFormat)}static formatDateTimeSecondsScince(e){return this.getMomentDateLocalFromUTC(e).format(i.I.momDateTimeFormat)}static formatDateSecondsScince(e){return this.getMomentDateLocalFromUTC(e).format(i.I.momDateFormat)}static getMomentDateLocalFromUTC(e){let t=null,s=!1;if(r.O.getInitResult()&&null!==r.O.getInitResult().setting.timezone){const i=r.O.getInitResult().setting.timezone;if(!this.isTimzoneNumberIsSet){if(isNaN(+i.replace(":","")))this.isTimzoneNumber=!1;else if(this.isTimzoneNumber=!0,i.length>=6){let e=1;"-"===i[0]&&(e=-1),this.setZoneOffset=6e4*parseInt(i.substr(4,2),10),this.setZoneOffset+=60*parseInt(i.substr(1,2),10)*6e4,this.setZoneOffset=this.setZoneOffset*e}this.isTimzoneNumberIsSet=!0}if(this.isTimzoneNumber){if(i.length>=6){s=!0;const i=(new Date).getTimezoneOffset(),n=new Date(e+this.setZoneOffset+6e4*i);t=a()(n)}}else s=!0,t=a().utc(e).tz(r.O.getInitResult().setting.timezone)}if(!s){const s=new Date(e);t=a()(s)}return t}static getUtcDateFromUTCTimeSecondsScince(e){const t=new Date(e),s=t.getTimezoneOffset();return new Date(t.getTime()+6e4*s)}static formatDate(e,t){return a()(e).format(t)}static formatRaceBreakTime(e){const t=new Date(Date.now()),s=e.split(":");return t.setHours(parseInt(s[0],10)),t.setMinutes(parseInt(s[1],10)),t.setSeconds(parseInt(s[2],10)),this.formatTimeSecondsScince(t.getTime()-6e4*t.getTimezoneOffset())}static formatSeconds(e){""===this.minShortTxt&&(this.minShortTxt=d.l.instance.getText("minShrt")),""===this.secShortTxt&&(this.secShortTxt=d.l.instance.getText("sekShort"));let t="";if(!e)return"";if(isNaN(e))return"";const s=Math.floor(e/60),i=Math.floor(e%3600%60);return t+=s>0?s+"<span class='timeMesTxt'>"+this.minShortTxt+"</span> ":"",t+i.toString().padStart(2,"0")+"<span class='timeMesTxt'>"+this.secShortTxt+"</span>"}static printFormatDateTimeSecondsScince(e){return this.getMomentDateLocalFromUTC(e).format(i.I.printMomDateTimeFormat)}static printFormatDateSecondsScince(e){return this.getMomentDateLocalFromUTC(e).format(i.I.printMomDateFormat)}static printFormatTimeSecondsScince(e){return this.getMomentDateLocalFromUTC(e).format(i.I.printMomTimeFormat)}static printFormatDateTimeSecondsScinceFormated(e,t){return this.getMomentDateLocalFromUTC(e).format(t)}static printFormatNumber(e,t){return g.formatValue(e,t,i.I.printCommaSymbol)}static sleep(e){return new Promise((t=>setTimeout(t,e)))}static formatValue(e,t,s){let i;return i=-1!==t?e.toFixed(t):e.toString(),i=i.replace(".",s),i}static floatNumber(e,t){return parseFloat(e.toFixed(t))}static formatNumber(e,t){return g.formatValue(e,t,i.I.commaSymbol)}static formatTime(e,t){e<0&&(e=0),t||(t={minutes:!0,seconds:!0});let s="";return t.minutes&&(s=(s?s+":":s)+Math.floor(e/60).toString().padStart(2,"0")),t.seconds&&(s=(s?s+":":s)+(Math.floor(e)%60).toString().padStart(2,"0")),t.hundredth&&(s=(s?s+i.I.timeMillisecSymbol:s)+Math.round(100*e%100).toString().padStart(2,"0")),s}static getBonusFactor(e){let t=1;switch(e){case"x2":t=2;break;case"x3":t=3}return t}static getGameNameByGameType(e){let t=e;return t=d.l.instance.getTextCommon("gna_"+e),t}static getPrintGameNameByGameType(e){let t=e;return t=d.l.instance.getPrintTextCommon("gna_"+e),t}static getGameTypeByEventType(e){let t=c.O4.KART.gamType;switch(e){case c.O4.KART.eventType:t=c.O4.KART.gamType;break;case c.O4.DOG6.eventType:t=c.O4.DOG6.gamType;break;case c.O4.DOG8.eventType:t=c.O4.DOG8.gamType;break;case c.O4.RTT.eventType:t=c.O4.RTT.gamType;break;case c.O4.HORSE.eventType:t=c.O4.HORSE.gamType;break;case c.O4.HORSE_CLASSIC.eventType:t=c.O4.HORSE_CLASSIC.gamType;break;case c.O4.KICKBOX.eventType:t=c.O4.KICKBOX.gamType;break;case c.O4.DOG63.eventType:t=c.O4.DOG63.gamType;break;case c.O4.TROT.eventType:t=c.O4.TROT.gamType;break;default:n.Y.error("Invalid Event Type:"+e)}return t}static ajaxErrorMessage(e,t){return null!=t&&(e+=t),e}static getPrintTipTextByName(e){let t=e;return e.indexOf("Split")>=0?t=t.replace("Split",d.l.instance.getPrintText("RttSplit")):e.indexOf("Trio")>=0?t=t.replace("Trio",d.l.instance.getPrintText("RttTrio")):e.indexOf("Corner")>=0?t=t.replace("Corner",d.l.instance.getPrintText("RttCorner")):e.indexOf("Street")>=0?t=t.replace("Street",d.l.instance.getPrintText("RttStreet")):e.indexOf("Six Line")>=0?t=t.replace("Six Line",d.l.instance.getPrintText("RttSixLine")):e.indexOf("Column")>=0?t=t.replace("Column",d.l.instance.getPrintText("RttColumn")):e.indexOf("Dozen")>=0?t=t.replace("Dozen",d.l.instance.getPrintText("RttDozen")):e.indexOf("High")>=0?t=t.replace("High",d.l.instance.getPrintText("RttHigh")):e.indexOf("Low")>=0?t=t.replace("Low",d.l.instance.getPrintText("RttLow")):e.indexOf("Red")>=0?t=t.replace("Red",d.l.instance.getPrintText("RttRed")):e.indexOf("Black")>=0?t=t.replace("Black",d.l.instance.getPrintText("RttBlack")):e.indexOf("Odd")>=0?t=t.replace("Odd",d.l.instance.getPrintText("RttOdd")):e.indexOf("Even")>=0?t=t.replace("Even",d.l.instance.getPrintText("RttEven")):e.indexOf("Straight-up")>=0&&(t=t.replace("Straight-up",d.l.instance.getPrintText("RttStraightUp"))),t}static setHasServiceWorkers(){"serviceWorker"in navigator&&r.O.deviceSystem!==c.fx.android?this.hasServiceWorker=!0:this.hasServiceWorker=!1,n.Y.info("Has Service Worker:"+this.hasServiceWorker)}static clearServiceWorkers(e){null!==e&&(l.cv(e),e=null)}static sendLogToServer(e,t){const s=new u.vy(e,t);h.u.instance.sendLogRequest(s)}static sendLogToServerCheckCategory(e,t,s){if(n.Y.isSeverLogCategoryEnabled(r.O.getInitResult(),e)){const e=new u.vy(t,s);h.u.instance.sendLogRequest(e)}}static roundToSetDecimalPlaces(e){if(r.O.creditFactorDigitsNumber>r.O.decimalPlaces){const t=Math.pow(10,r.O.creditFactorDigitsNumber-r.O.decimalPlaces);e=parseInt((e/t).toFixed(0),10)*t}return e}static isPosUrl(e){return new URL(e).host.indexOf(c.jg.POS)>=0}static getCustomerFiscalGameType(e){let t=e;const s=d.l.instance.getPrintTextCommonNoCheckIfExists("cusGaType_"+e+"_"+r.O.userId.slice(0,3));return null!==s&&(t=s),t}static getCustomerFiscalGameName(e){let t=this.getPrintGameNameByGameType(e);const s=d.l.instance.getPrintTextCommonNoCheckIfExists("cusGaName_"+e+"_"+r.O.userId.slice(0,3));return null!==s&&(t=s),t}static getCustomerTicketGameName(e){let t=this.getPrintGameNameByGameType(e);const s=d.l.instance.getPrintTextCommonNoCheckIfExists("cusGaType_"+e+"_"+r.O.userId.slice(0,3));return null!==s&&(t=s),t}static deepCopyGameModel(e){return Array.isArray(e)?e.map((e=>this.deepCopyGameModel(e))):e instanceof Date?new Date(e.getTime()):e&&"object"==typeof e?Object.getOwnPropertyNames(e).reduce(((t,s)=>"_game"===s?(t[s]=Object.assign({},e[s]),t):(Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s)),t[s]=this.deepCopyGameModel(e[s]),t)),Object.create(Object.getPrototypeOf(e))):e}}g.hasServiceWorker=!1,g.preloadImageList=[],g.isTimzoneNumber=!1,g.isTimzoneNumberIsSet=!1,g.setZoneOffset=0,g.minShortTxt="",g.secShortTxt="",g.ensureArray=e=>Array.isArray(e)?e:[e]},93468:(e,t,s)=>{"use strict";s.d(t,{T$:()=>f,Vf:()=>_,cC:()=>i,eV:()=>S,u9:()=>p});var i,n=s(81271),r=s.n(n),o=s(81026),a=s(87488),c=s(39108),d=s(30703),l=s(23859),u=s(66115),h=s(33152),g=s(49001),m=s(85770),T=function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};!function(e){e[e.CANCLE_TICKET=0]="CANCLE_TICKET",e[e.PAYOUT_TICKET=1]="PAYOUT_TICKET",e[e.INVALID_TICKET=2]="INVALID_TICKET",e[e.SET_AGAIN=3]="SET_AGAIN",e[e.CURRENT_TICKET=4]="CURRENT_TICKET",e[e.CANCELED_TICKET=5]="CANCELED_TICKET",e[e.GAME_STARTING=6]="GAME_STARTING",e[e.INFO=7]="INFO",e[e.LOG_OUT_OPEN_TIPS=8]="LOG_OUT_OPEN_TIPS",e[e.BAL_NOT_POS=9]="BAL_NOT_POS",e[e.NO_MODE=10]="NO_MODE",e[e.ERROR=11]="ERROR",e[e.MIN_BET=12]="MIN_BET",e[e.CANCELED_DETECTION=13]="CANCELED_DETECTION"}(i||(i={}));class p{constructor(e,t){this.code=e||-1,this.message=t||""}}class f extends p{toString(){return this.code+": "+this.message}}f.NO_DB_CONNECTION=new p(4100,"Internal server error: DB access failed!"),f.DEVICE_NO_RETISTERED=new p(4303,"This Device does not exist!<br/>Device ID:"),f.DEVICE_NOT_ACTIVE=new p(4304,"This Device is not active or unregistered!<br/>Device ID:"),f.DEVICE_ALLREADY_ONL=new p(4310,"This Device is already online!<br/>Device ID:"),f.COSTOMER_NOT_ACTIVE=new p(4402,"Customer is Locked"),f.COSTOMER_IS_LOCKED=new p(4403,"Customer is Locked"),f.ORGANIZER_NOT_ACTIVE=new p(4412,"Organizer not active"),f.ORGANIZER_IS_LOCKED=new p(4413,"Organizer is Locked"),f.LOCATION_NOT_ACTIVE=new p(4422,"Location not active"),f.LOCATION_IS_LOCKED=new p(4423,"Location is locked"),f.OP_ID_NOT_VALID=new p(4431,"OperatorID not valid!"),f.OP_ID_FAILD=new p(4432,"Failed to load operator!"),f.OP_ID_NOT_AVAIL=new p(4433,"Operator not available!"),f.OP_ID_NOT_ACTIVE=new p(4434,"Operator not active!"),f.OP_ID_NOT_EN_PLATFORM=new p(4435,"Operator not enabled for this platform!"),f.PW_ID_NOT_VALID=new p(4436,"Operator PIN not matching!"),f.TURNOVER_LIMIT=new p(4441,"Turnover limit exceeded!"),f.PROFIT_LIMIT=new p(4442,"Profit Limit Reached!"),f.POS_SESSION_NOT_OPEN=new p(4501,""),f.POS_SESSION_NOT_ACTIVE=new p(4503,""),f.NO_LOGIN_CURRENTLY=new p(4511,""),f.POS_INIT_ID_ERROR=new p(4521,"POS InitID not available!"),f.TRANS_ID_EXISTS=new p(4551,""),f.TIPS_TO_LATE=new p(4567,""),f.STATUS_TO_LATE=new p(4568,""),f.TICKET_ID_NOT_VALID=new p(4571,""),f.TICKET_ID_NOT_FOUND=new p(4581,""),f.PAYOUT_OTHER_DEVICE=new p(4575,"Ticket session not from this device!"),f.NOT_A_WINNING_TICKET=new p(4574,"Not a winning ticket!"),f.PAYOUT_OTHER_OP=new p(4576,"Ticket session not from this operator!"),f.TICKET_ALLREADY_CANCELED=new p(4582,"Ticket Allready Canceled!"),f.EXTERN_TICKET_ALREADY_CREATED=new p(4638,"Extern Ticket already created"),f.SESSION_NOT_FOUND=new p(4605,"Session has expired!"),f.SEND_LOG_INFO=new p(8001,""),f.GAME_NOT_IN_LIST=new p(9001,""),f.GAME_NOT_LOADED=new p(9002,""),f.HISTORY_NOT_ENOUGTH=new p(9003,""),f.SOCKET_SERVER=new p(9004,"Socket Server Error"),f.SOCKET_SERV_CLOSE=new p(9005,"Socket Server Closed"),f.SOCKET_SERV_TIMEOUT=new p(9014,"Socket Server Timeout"),f.SETUP=new p(9006,"Error during set Up"),f.NO_HIS_RES=new p(9007,""),f.INV_PEND_RESP=new p(9009,""),f.LOCALISATION=new p(9010,""),f.RESULT_WRONG_GAME=new p(9011,"Next game Id and Result Game ID are not equal!"),f.RESULT_NOT_RECEIVED=new p(9012,"Got no result to Long for Game Id"),f.TIME_REQUEST_TO_LONG=new p(9013,"Time request lasted to long, no sync, duration:"),f.GET_GAME_NOT_IN_LIST=new p(9015,"The game (gameId: ___GAID___) is not in list: ___GALI___"),f.RUNTIM_ERROR=new p(9018,"Runntime Error"),f.UNHAND_REJECT_ERROR=new p(9019,"Unhandled Rejection"),f.MODUL_LOAD_ERROR=new p(9020,"Load Modul Error"),f.TIME_OUT=new p(9022,"Request Timout Error"),f.TIME_OUT_ERROR=new p(9023,"Timout too long Error"),f.TO_LONG_NO_TIME_SYNC=new p(9024,"Synchronizing with the server was not possible for too long"),f.INVALID_NEXT_GAME_INDEX=new p(9025,"Invalid next game Index"),f.INVALID_DEVICE_TYPE=new p(9026,"Invalid device Type: "),f.NO_DEVICE_TYPE=new p(9027,"No device type! Device type must be given in url as parameter: deviceType"),f.NO_DEVICE_ID=new p(9028,"No device ID! Device ID must be given in url as parameter: deviceId"),f.NO_SYSTEM_TYPE=new p(9029,"No System type! System type must be given in url as parameter: system"),f.PRINTER_FAILED=new p(9030,"Printer Failed"),f.TICKET_CREATE=new p(9031,"Error Creating Ticket"),f.PRELOAD_IMAGES=new p(9032,"Error Preload Images"),f.NO_AUTOPAYOUT_TYPE=new p(9033,"Auto payout ticket type not set"),f.NO_INIT_ID=new p(9028,"No Init ID! Init ID must be given in url as parameter: initId"),f.TICKET_WAS_CANCELED=new p(9034,"Ticket was allready canceled before"),f.TICKET_CANCLE_UPDATE=new p(9035,"Ticket was detected as canceled on server --\x3e set to cancle, id:"),f.NOT_IN_TRANSLATION=new p(9036,"The language is not in Translation list:"),f.TICKET_CREATE_DELETE=new p(9036,"Tickets had a timeout on client --\x3e deleted on server, sessionId-transcationId:"),f.NO_GAMES_IN_LIST=new p(9037,"No games in List"),f.EXTERN_TICKET_NOT_SET=new p(9038,"Got extern ticket, but is not enabled"),f.EXTERN_TICKET_TYPE=new p(9039,"Game type of extern Ticket does not match:"),f.EXTERN_TICKET_NO_GAME_DATA=new p(9040,"NO game Data in list for extern Ticket, round ID:"),f.RESUME_TICKET_INVALID_DATA=new p(9041,"Invalid data of resume ticket"),f.ACTIVE_MESSAGE_NOT_HANDLED=new p(9042,"Active Message not handled"),f.DUPLICATE_TICKET_ID=new p(9043,"Ticket ID already in turnover:"),f.READ_WEBSOKET_URL=new p(9044,"Error reading websocket Url:"),f.OLD_TICKET_INVALID_DATA=new p(9045,"Error Invalid Data old Ticket"),f.TICKET_ALREADY_CREATED=new p(9046,"Ticket allready created on Server"),f.TICKET_WAS_PAYED_OUT=new p(9047,"Ticket was already payed out before"),f.GAMELOOP_STOPPED=new p(9048,"Gameloop did stop in Background");class S{get connectionLostTime(){return this._connectionLostTime}set connectionLostTime(e){this._connectionLostTime=e}get retryAttempts(){return this._retryAttempts}set retryAttempts(e){this._retryAttempts=e}set tryReloadOnTimer(e){this._tryReloadOnTimer=e}get errorDialog(){return this._errorDialog}set errorDialog(e){this._errorDialog=e}set deviceIsInactive(e){this._deviceIsInactive=e}get deviceIsInactive(){return this._deviceIsInactive}constructor(){this.isOpening=!1,this.reinitTimeoutWorker=null,this.reinitTimeout=null,this._errorDialog=new _("err","#modalDialogErr",!1),this._tryReloadOnTimer=!1,this._deviceIsInactive=!1,this._connectionLostTime=0,this._retryAttempts=0}normalErrorHandler(e,t,s){const i=this.getErrorObject(e);if(i.code!==f.SOCKET_SERVER.code&&i.code!==f.SOCKET_SERV_CLOSE.code||l.O.reloadImmediatelySocketServeDisconnect||!l.O.gamesStarted||(t=!1),i.code!==f.DEVICE_NOT_ACTIVE.code&&i.code!==f.LOCATION_NOT_ACTIVE.code&&i.code!==f.LOCATION_IS_LOCKED.code&&i.code!==f.ORGANIZER_NOT_ACTIVE.code&&i.code!==f.ORGANIZER_IS_LOCKED.code&&i.code!==f.COSTOMER_NOT_ACTIVE.code&&i.code!==f.COSTOMER_IS_LOCKED.code||(this._deviceIsInactive=!0),t&&(!this.errorDialog.isModalOpened||null!==this.errorDialog.closeTimeout)){let e=a.l.instance.getTextCommon("error_txt");null===a.l.instance.getTranslations()&&(e="Error");let t=i.message;i.code===f.SOCKET_SERVER.code||i.code===f.SOCKET_SERV_CLOSE.code?t=this.getErrorCommunicationErrorText():i.code===f.SETUP.code?(t=a.l.instance.getTextCommon("err_setup"),null===a.l.instance.getTranslations()&&(t="Setup Error.")):i.code===f.SOCKET_SERV_TIMEOUT.code||i.code===f.TIME_REQUEST_TO_LONG.code||i.code===f.TIME_OUT_ERROR.code?i.code===f.TIME_OUT_ERROR.code&&""!==i.message||(t=a.l.instance.getTextCommon("error_timetolo"),null===a.l.instance.getTranslations()&&(t="There was an error in communication. Please check the stability of your internet. The software tries to reconnect.")):i.code!==f.POS_SESSION_NOT_ACTIVE.code&&i.code!==f.POS_SESSION_NOT_OPEN.code||(t=a.l.instance.getTextCommon("err_no_session"),s=()=>{l.O.tryRestart(!1,!0)}),t=this.setMessageText(i,t),this.createErrorDialog(e,t,void 0!==s).then((()=>{void 0!==s&&s()}))}if((()=>{T(this,void 0,void 0,(function*(){o.Y.info("Send Log Message ");let t=i.message;i.code===f.TIME_OUT_ERROR.code&&(t=f.TIME_OUT_ERROR.message+" request:"+e.errorObj);const s=new c.vy(i.code.toString(),t);yield d.u.instance.sendLogRequest(s)}))})(),this.isFatalErrorAllGames(i)||this.isFatalError(i))if(i.code===f.SOCKET_SERVER.code||i.code===f.SOCKET_SERV_CLOSE.code){let e=!1;g.Z.hasServiceWorker?null!==this.reinitTimeoutWorker&&(e=!0,g.Z.clearServiceWorkers(this.reinitTimeoutWorker),this.reinitTimeoutWorker=null):null!==this.reinitTimeout&&(e=!0,clearInterval(this.reinitTimeout),this.reinitTimeout=null),l.O.gameStopped&&!e||this._deviceIsInactive||this.startReinitTimout(),!l.O.reloadImmediatelySocketServeDisconnect&&l.O.gamesStarted||(o.Y.error("Stop Loop because of fatal Error"),l.O.stopGame())}else i.code===f.RUNTIM_ERROR.code?(o.Y.error("Stop Loop because of fatal Error"),l.O.stopGame(),g.Z.hasServiceWorker?null===this.reinitTimeoutWorker&&this.reinitSoftware(i):null===this.reinitTimeout&&this.reinitSoftware(i)):(o.Y.error("Stop Loop because of fatal Error"),l.O.stopGame(),this.reinitSoftware(i))}getErrorCommunicationErrorText(){let e="<div style='text-align: center; width: 100%'>There was an error in communication.<br>No connection since: ___TIME___<br/>Please check the stability of your internet.<br/>The software tries to reconnect.<br/>___ANIM___ ___NUMRET___ attempts to reconnect.</div>";return null!==a.l.instance.getTranslations()&&(e="<div style='text-align: center; width: 100%'>"+a.l.instance.getTextCommon("err_comm_extend")+"</div>"),0===m.q.instance.connectionLostTime&&(m.q.instance.connectionLostTime=Date.now()),e=e.replace("___TIME___",g.Z.formatDateTimeSecondsScince(m.q.instance.connectionLostTime)).replace("___ANIM___","<div class='dotLoaderAnim'></div>").replace("___NUMRET___","<div id='errmodalNumRetry'>"+m.q.instance.retryAttempts+"</div>"),e}startReinitTimout(){const e=()=>{g.Z.hasServiceWorker?(g.Z.clearServiceWorkers(this.reinitTimeoutWorker),this.reinitTimeoutWorker=null):(clearInterval(this.reinitTimeout),this.reinitTimeout=null),o.Y.error("Timeout Reinit Programme because of fatal Error, gamePool.reloadImmediatelySocketServeDisconnect:"+l.O.reloadImmediatelySocketServeDisconnect+" gamePool.gamesStarted:"+l.O.gamesStarted+" tryReloadOnTimer:"+this._tryReloadOnTimer),l.O.reloadImmediatelySocketServeDisconnect||!l.O.gamesStarted||this._tryReloadOnTimer?d.u.instance.tryConnectWebSocketClient().then((()=>{let e="Successfully reconnected!<br/>Restarting ___ANIM___";null!==a.l.instance.getTranslations()&&(e=a.l.instance.getTextCommon("err_reconected")),m.q.instance.errorDialog.updateText("","<div style='text-align: center; width: 100%'>"+e.replace("___ANIM___","<div class='dotLoaderAnim'></div>")+"</div>","",""),l.O.tryRestart(!0,!1)})).catch((()=>{this.startReinitTimout()})):d.u.instance.connectWebSocketClient().then((()=>{if(l.O.deviceType===u.h7.Pos){let e="-";l.O.getInitResult()&&(e=l.O.getInitResult().sessionID),d.u.instance.sendDeviceReconnectRequest(u.h7.Pos,l.O.deviceId,e).catch((e=>{e.errorId!==f.DEVICE_ALLREADY_ONL.code&&this.startReinitTimout()}))}})),m.q.instance.retryAttempts++,r()("#errmodalNumRetry").addClass("newNumb"),setTimeout((()=>{r()("#errmodalNumRetry").html(m.q.instance.retryAttempts.toString()).removeClass("newNumb")}),50)};g.Z.hasServiceWorker?this.reinitTimeoutWorker=h.Zi(e,1e4):this.reinitTimeout=setInterval(e,1e4)}getErrorObject(e){const t=new p;let s=!1;return"message"in e&&(t.message=e.message,s=!0),"code"in e&&(t.code=e.code,s=!0),"errorMsg"in e&&(t.message=e.errorMsg,s=!0),"errorId"in e&&(t.code=e.errorId,s=!0),s||(void 0!==e.errorData?(e.hasOwnProperty("errorMsg")&&(t.message=e.errorMsg),t.code=-1):(t.message=JSON.stringify(e),t.code=-1)),o.Y.error("ERROR: id:"+t.code+" message:"+t.message),t}reinitSoftware(e){S.confirmBeforeReinit?this.reInitAfterConfirm(e):this.reInitEmeadiatly(e)}reInitAfterConfirm(e){let t=!1,s=a.l.instance.getTextCommon("error_fatal").replace("___ERRID___",e.code.toString());e.code===f.RESULT_NOT_RECEIVED.code||e.code===f.TO_LONG_NO_TIME_SYNC.code?(s=a.l.instance.getTextCommon("error_fatal_nodata").replace("___ERRID___",e.code.toString()),l.O.deviceType===u.h7.Terminal&&(t=!0)):e.code===f.NO_GAMES_IN_LIST.code&&(s=e.message);let i=s,n=!0;d.u.instance.serverSocketClient.isWebsocketOpenState()||(i=this.getErrorCommunicationErrorText(),n=!1),this.createErrorDialog(a.l.instance.getTextCommon("error_txt"),i,n,!0).then((()=>{o.Y.error("Reinit Programm because of fatal Error"),l.O.tryRestart(!1,!0)})),!n||t?(this._tryReloadOnTimer=!0,this.startReinitTimout()):d.u.instance.sendLogBuffer.checkSendLogs()}reInitEmeadiatly(e){(()=>{T(this,void 0,void 0,(function*(){o.Y.error("Reinit Programm because of fatal Error"+e.code),yield l.O.tryRestart(!1,!1)}))})()}isFatalErrorAllGames(e){return e.code===f.GAME_NOT_LOADED.code||e.code===f.GAME_NOT_IN_LIST.code||e.code===f.HISTORY_NOT_ENOUGTH.code||e.code===f.SOCKET_SERV_CLOSE.code||e.code===f.SOCKET_SERVER.code||e.code===f.RESULT_NOT_RECEIVED.code||e.code===f.SOCKET_SERV_TIMEOUT.code||e.code===f.RUNTIM_ERROR.code||e.code===f.GET_GAME_NOT_IN_LIST.code||e.code===f.TO_LONG_NO_TIME_SYNC.code||e.code===f.MODUL_LOAD_ERROR.code||e.code===f.NO_GAMES_IN_LIST.code}hideErrorDialog(){this.errorDialog.hideModalDialog()}createErrorDialog(e,t,s,n){if(l.O.gameStopped&&!n)return new Promise((e=>{e()}));if(l.O.setUpError&&!n)return;let r=a.l.instance.getTextCommon("dialogOk");return null===a.l.instance.getTranslations()&&(r="OK"),new Promise(((n,a)=>{try{this.errorDialog.showModalDialog(i.ERROR,e,t,!1,s,!1,!0,r,"","").then((()=>{this.errorDialog.hideModalDialog(),n()}))}catch(e){o.Y.error("Error create Error Dialog:"+JSON.stringify(e)),a(e)}}))}}S.confirmBeforeReinit=!0;class I{get isModalOpened(){return this._isModalOpened}set isModalOpened(e){this._isModalOpened=e}get closeTimeout(){return this._closeTimeout}constructor(e,t,s){this.defaultacceptButtonTextText="Ja",this.defaultdeclineButtonTextText="Nein",this._isModalOpened=!1,this.modPrefix="",this.parentElement="#modalDialog",this.showSpinner=!1,this.transparent=!1,this._closeTimeout=null,this.enabledNo=!0,this.modPrefix=e,this.parentElement=t,this.transparent=s}updateText(e,t,s,i){r()("#"+this.modPrefix+"modalHeader").html(e),r()("#"+this.modPrefix+"modalText").html(t),r()("#"+this.modPrefix+"modalPosButtonText").html(s),r()("#"+this.modPrefix+"modalNegButtonText").html(i)}}class _ extends I{constructor(e,t,s){super(e,t,s),this.eventNegButtQueue=null,this.eventPosButtQueue=null,this.isSetUp=!1}setUpModalDialog(){let e="";this.transparent&&(e=" transparent"),r()(this.parentElement).html('<div class="bgModal" id="'+this.modPrefix+'bgModal">    </div>    <div class="modalDialog'+e+'"><div class="modBackColor">        <div id="'+this.modPrefix+'modalHeaderCont" class="modalHeader">            <span id="'+this.modPrefix+'modalHeader"></span>            <img src="'+s(44091)+'" alt="">        </div>        <div class="modalText" id="'+this.modPrefix+'modalText">                    </div>        <div class="modalButtonbar" id="'+this.modPrefix+'buttonbar">            <div class="modalButton modalButtonNeg" id="'+this.modPrefix+'modalNegButton">                <img src="'+s(94479)+'" alt="decline button background">                <span id="'+this.modPrefix+'modalNegButtonText"></span>            </div>            <div class="modalButton modalButtonPos" id="'+this.modPrefix+'modalPosButton">                <img src="'+s(94336)+'" alt="accept button background">                <span id="'+this.modPrefix+"modalPosButtonText\"></span><div class='spinner'></div>            </div>        </div>    </div></div>"),this.posButtonElement=r()("#"+this.modPrefix+"modalPosButton"),this.negButtonElement=r()("#"+this.modPrefix+"modalNegButton"),l.O.isTouch||this.negButtonElement.on("click",(()=>{if(o.Y.debug("Click close Modal xxxxxxxxxxx"),!this.enabledNo)return;l.O.performanceLevel!==u.BR.LOW&&(r()(this.parentElement).removeClass("modalFadeIn"),r()(this.parentElement).addClass("modalFadeOut")),this.hideModalDialog();(0,this.eventNegButtQueue)(!1)})),this.negButtonElement.on("touchstart",(e=>{o.Y.debug("Touch start click xxxxxxxxxxx"),e.preventDefault(),l.O.performanceLevel!==u.BR.LOW&&(r()(this.parentElement).removeClass("modalFadeIn"),r()(this.parentElement).addClass("modalFadeOut")),this.hideModalDialog();(0,this.eventNegButtQueue)(!1)})),l.O.performanceLevel!==u.BR.LOW&&(r()(this.parentElement).removeClass("modalFadeOut"),r()(this.parentElement).addClass("modalFadeIn")),l.O.isTouch||this.posButtonElement.on("click",(e=>{o.Y.debug("Click close Modal xxxxxxxxxxx"),this.showSpinner&&(this.enabledNo=!1,r()(e.currentTarget).find(".spinner").css("display","block"));(0,this.eventPosButtQueue)(!0)})),this.posButtonElement.on("touchstart",(e=>{o.Y.debug("Touch close Modal xxxxxxxxxxx"),e.preventDefault(),this.showSpinner&&(this.enabledNo=!1,r()(e.currentTarget).find(".spinner").css("display","block"));(0,this.eventPosButtQueue)(!0)})),this.isModalOpened=!0}destroyModalDialog(){this.isSetUp&&(this.offClickEvents(),this.posButtonElement.off("touchstart"),this.negButtonElement.off("touchstart"),r()(this.parentElement).html(""),this.isSetUp=!1)}showModalDialog(e,t,i,n,a,c,d,h,g){return this.showSpinner=c,this.enabledNo=!0,clearTimeout(this.closeTimeout),this._closeTimeout=null,this.isSetUp||(this.setUpModalDialog(),this.isSetUp=!0),new Promise(((e,c)=>{try{this.posButtonElement.find(".spinner").css("display","none"),g||(g=this.defaultdeclineButtonTextText),h||(h=this.defaultacceptButtonTextText),n?(this.negButtonElement.css("display","block"),this.posButtonElement.find("img").attr("src",s(94336)),this.posButtonElement.css("color","white"),r()("#"+this.modPrefix+"modalText").css("text-align","center"),r()("#"+this.modPrefix+"modalNegButtonText").html(g),this.eventNegButtQueue=e):(this.negButtonElement.css("display","none"),this.posButtonElement.find("img").attr("src",s(84220)),this.posButtonElement.css("color","black"),r()("#"+this.modPrefix+"modalText").css("text-align","left")),a?(this.posButtonElement.show(),this.eventPosButtQueue=e):(this.posButtonElement.hide(),this.negButtonElement.hide()),d?r()(this.parentElement).removeClass("notFull"):r()(this.parentElement).addClass("notFull"),r()(this.parentElement).css("display","inline-block"),l.O.performanceLevel!==u.BR.LOW&&(r()(this.parentElement).removeClass("modalFadeOut"),r()(this.parentElement).addClass("modalFadeIn")),r()("#"+this.modPrefix+"modalHeader").html(t),r()("#"+this.modPrefix+"modalText").html(i),r()("#"+this.modPrefix+"modalPosButtonText").html(h),this.isModalOpened=!0}catch(e){o.Y.error("Error Show Modal Dialog:"+JSON.stringify(e)),c(e)}}))}offClickEvents(){this.isSetUp&&(this.posButtonElement.off("click"),this.negButtonElement.off("click"))}hideModalDialog(){return o.Y.debug("HHH hide Ticket Dialog"),new Promise((e=>{this.isModalOpened?(l.O.performanceLevel!==u.BR.LOW?(r()(this.parentElement).removeClass("modalFadeIn"),r()(this.parentElement).addClass("modalFadeOut"),this._closeTimeout=setTimeout((()=>{this._closeTimeout=null,r()(this.parentElement).css("display","none"),this.isModalOpened=!1,e()}),300)):(this._closeTimeout=null,r()(this.parentElement).css("display","none"),this.isModalOpened=!1,e()),r()(this.parentElement).removeClass("highZIndex")):(o.Y.debug("HHH Was not open hide Ticket Dialog"),e())}))}}},66165:(e,t,s)=>{"use strict";s.d(t,{_:()=>g});var i=s(81026),n=s(30703),r=s(85770),o=s(49001),a=s(47442),c=s(33152),d=s(23859),l=s(66115),u=s(39108),h=function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};class g{static getSyncTime(e,t){return h(this,void 0,void 0,(function*(){return new Promise((s=>{const r=Date.now();if(r-this.lastSyncTime<a.Z.gameSettings.serverTimeRequestInterval&&null!==this.lastSyncData)i.Y.debug("-------------\x3e U Time:"+this.lastSyncData.serverTimeUnix),i.Y.debug("-------------\x3e N Time:"+r),i.Y.debug("-------------\x3e L Time:"+this.lastSyncTime),i.Y.debug("-------------\x3e D Time:"+this.lastSyncData.duration/2),this.lastSyncData.serverTimeUnix=this.lastSyncServerTimeUnix+(r-this.lastSyncTime)/1e3,s(this.lastSyncData);else try{this.pendingTimeRequest=!0,n.u.instance.sendTimeRequest(e).then((n=>{this.lastSyncTime=Date.now(),n.duration<=t&&(this.lastSuccessSyncTime=this.lastSyncTime),e&&(this.lastSyncTime-=n.duration/2),this.pendingTimeRequest=!1,this.lastSyncData=n,this.lastSyncServerTimeUnix=this.lastSyncData.serverTimeUnix,i.Y.debug("-------------\x3e after Send Time Request"),s(n)})).catch((e=>{i.Y.error("Error Timer Sync:"+JSON.stringify(e)),this.pendingTimeRequest=!1}))}catch(e){i.Y.error("Error Timer Sync:"+JSON.stringify(e)),this.pendingTimeRequest=!1}}))}))}constructor(e,t,s,i,n){this.timerWorker=null,this.logicTickTimeout=null,this.gameLoopSec=0,this.lastTickGameLoopSec=0,this.serverTimeSecSince=0,this.videoStartSec=0,this.lastTimeSetTimestamp=0,this.syncGameLoopSecPrec=0,this.syncVideoStartSecPrec=0,this.lastServerTimeRequestTime=0,this.timeRquestNthCount=0,this.isFirstSynch=!0,this.receivedResultCheck=!1,this._nextGameCausesRaceBrake=!1,this._currentCausesRaceBrake=!1,this.gameLogic=e,this.testCount=0,this.syncTimeout=t,this.setUpTimeout=s,this.gameLoopLength=i,this.gameVideoStartMs=n}get nextGameCausesRaceBrake(){return this._nextGameCausesRaceBrake}get currentCausesRaceBrake(){return this._currentCausesRaceBrake}synchronizeGameLoop(e){return h(this,void 0,void 0,(function*(){this.timeRquestNthCount=1,this._nextGameCausesRaceBrake=!1,this._currentCausesRaceBrake=!1,i.Y.debug("Synchronize Game Loop, gameType:"+this.gameLogic.gameType),e&&d.O.deviceType===l.h7.Pos&&document.addEventListener("visibilitychange",(()=>{if(!d.O.gameStopped)if("visible"===document.visibilityState){i.Y.debug("TTTTTTTTTTTTTTT Window active");if(Date.now()-this.lastTimeSetTimestamp>6e4){i.Y.error("Game Loop was stopped in background");const e=new u.vy(r.D.GAMELOOP_STOPPED.code.toString(),r.D.GAMELOOP_STOPPED.message);n.u.instance.sendLogRequest(e)}}else i.Y.debug("TTTTTTTTTTTTTTT Window inactive")}));let t=0,s=this.syncTimeout;e&&(s=this.setUpTimeout);const a=yield g.getSyncTime(e,s);if(i.Y.debug("-------------\x3e after Sync Time Call, values:"+JSON.stringify(a)),a.duration>this.syncTimeout&&!e){if(g.lastSyncData=null,a.duration>1e3){const e=r.D.TIME_REQUEST_TO_LONG;e.message="Time request lasted to long, no sync, duration:"+a.duration,r.q.instance.normalErrorHandler(e,!1)}else i.Y.error("Time request lasted to long, no sync, duration:"+a.duration);return-1}if(e&&(t=a.duration/2/1e3,a.duration>this.setUpTimeout)){g.lastSyncData=null;const e=r.D.TIME_REQUEST_TO_LONG;throw e.message="Time request lasted to long, no sync, duration:"+a.duration,r.q.instance.normalErrorHandler(e,!0),e}if(o.Z.hasServiceWorker?(o.Z.clearServiceWorkers(this.timerWorker),this.timerWorker=null):clearInterval(this.timer),e){this.gameLogic.setCurrentGameIndexByTime(1e3*(a.serverTimeUnix+t));const e=this.gameLogic.getCurrentGameData();if(e.getGameStartTime()>1e3*(a.serverTimeUnix+t)){const t=o.Z.deepCopyGameModel(e);t.roundInfo.fullGameId=t.roundInfo.fullGameId.substr(0,t.roundInfo.fullGameId.length-4)+"9999",t.roundInfo.gameId=9999,t.roundInfo.videoStartUnix=t.roundInfo.videoStartUnix-864e7,t.roundInfo.videoStartDt=o.Z.formatStandardUTCSecondsScince(t.roundInfo.videoStartUnix),t.roundInfo.videoEndUnix=t.roundInfo.videoEndUnix-864e7,t.roundInfo.videoEndDt=o.Z.formatStandardUTCSecondsScince(t.roundInfo.videoEndUnix),t.isDummyGame=!0,this.gameLogic.gamesList.push(t),this.gameLogic.addIndexCurrent(1),i.Y.info("Added a default round"),this.gameLogic.logGameIds()}}this.gameLogic.checkNextGameCausesRacebreak()&&(this._nextGameCausesRaceBrake=!0);let c=this.gameLogic.getCurrentGameStartTime();(this.gameLogic.inRaceBreak||1e3*(a.serverTimeUnix+t)-c>1e3*this.gameLogic.gameLength)&&(this.gameLogic.checkNextWithinGameLoopTime(1e3*a.serverTimeUnix)&&(c=this.gameLogic.gamesList[this.gameLogic.getIndexCurGame()-1].getGameStartTime(),c-=1e3*this.gameLogic.gameLength),this.gameLogic.inRaceBreak||(this._currentCausesRaceBrake=!0)),i.Y.info("Game start time:"+o.Z.formatStandardUTCSecondsScince(c)+"  secondssince:"+c),this.gameLoopSec=a.serverTimeUnix+t-c/1e3,this.syncGameLoopSecPrec=this.gameLoopSec;const h=1e3*this.gameLoopSec%1e3;i.Y.debug("synchloop: rest Mili Sec:"+h),this.gameLoopSec=this.gameLoopSec-h/1e3,this.serverTimeSecSince=1e3*(this.gameLoopSec+c/1e3),this.gameLoopSec>=this.gameLoopLength&&(this._nextGameCausesRaceBrake||(this.gameLoopSec-=this.gameLoopLength,e&&(i.Y.info("Race started at setup because time request to late!!!!!!!!!!!!!!!!!"),this.gameLogic.raceStarted())));const m=1e3-h;return this.syncVideoStartSecPrec=this.syncGameLoopSecPrec+o.Z.floatNumber(this.gameVideoStartMs/1e3,3),i.Y.debug("Video loop Seconds precise:"+this.syncVideoStartSecPrec),i.Y.debug("Server Time Sync:"+o.Z.formatStandardDate(new Date(c+1e3*this.syncGameLoopSecPrec))),this.syncVideoStartSecPrec>=this.gameLoopLength&&(this.syncVideoStartSecPrec-=this.gameLoopLength),this.lastTimeSetTimestamp=Date.now(),this.videoStartSec=o.Z.floatNumber(this.syncVideoStartSecPrec-h/1e3,3),this.isFirstSynch&&(this.isFirstSynch=!1,this.lastServerTimeRequestTime=this.gameLoopSec,i.Y.debug("Start up to full Offset:"+Math.abs(this.gameLoopSec%10)),0===Math.abs(this.gameLoopSec%10)?(this.lastServerTimeRequestTime+=1,i.Y.debug("Corrected lastServerRequestTime"+this.lastServerTimeRequestTime)):Math.abs(this.gameLoopSec%10)>=9&&(i.Y.debug("Corrected lastServerRequestTime"+this.lastServerTimeRequestTime),this.lastServerTimeRequestTime-=2)),i.Y.debug("Corrected Video loop Seconds precise:"+this.syncVideoStartSecPrec),i.Y.info("Synchronized game loop, gameLoopSec:"+this.gameLoopSec+" delay:"+m),this.startIntervall(m,this.gameLoopSec),this.videoStartSec}))}startIntervall(e,t){i.Y.info("Start game loop, gameLoopSec:"+t+" delay:"+e),this.gameLoopSec=t,clearTimeout(this.delayTimeout),o.Z.hasServiceWorker?(o.Z.clearServiceWorkers(this.timerWorker),this.timerWorker=null):clearInterval(this.timer),this.delayTimeout=setTimeout((()=>{this.tick(),o.Z.hasServiceWorker?(o.Z.clearServiceWorkers(this.timerWorker),this.timerWorker=null,this.timerWorker=c.Zi((()=>{this.tick()}),1e3)):(clearInterval(this.timer),this.timer=setInterval((()=>{this.tick()}),1e3))}),e)}stopGameLoop(){clearTimeout(this.delayTimeout),o.Z.hasServiceWorker?(o.Z.clearServiceWorkers(this.timerWorker),this.timerWorker=null):clearInterval(this.timer)}getVideoSec(){return this.videoStartSec}getExactVideoSec(){return o.Z.floatNumber(this.videoStartSec+(Date.now()-this.lastTimeSetTimestamp)/1e3,3)}setGameVideoStartMs(e){this.gameVideoStartMs=e}getServerTimeSecSince(){return this.serverTimeSecSince}getGameLoopSec(){return this.gameLoopSec}}g.lastSyncData=null,g.lastSyncTime=0,g.lastSuccessSyncTime=0,g.lastSyncServerTimeUnix=0,g.pendingTimeRequest=!1},49013:(e,t,s)=>{"use strict";s.d(t,{T:()=>n});var i=s(87488);class n{constructor(e,t){this.iso=e,this.text=t,this.filePrefix="flag_",this.fileExt="svg"}getFileName(){const e=i.l.instance.getTextCommonNoCheckIfExists("langMapping_"+this.iso);let t=this.iso.toUpperCase();return null!==e&&(t=e),t+"."+this.fileExt}getIso(){return this.iso}setIso(e){this.iso=e}getText(){return this.text}setText(e){this.text=e}getFilePrefix(){return this.filePrefix}setFilePrefix(e){this.filePrefix=e}getFileExt(){return this.fileExt}setFileExt(e){this.fileExt=e}}},81814:(e,t,s)=>{"use strict";s.d(t,{I:()=>h});var i=s(81271),n=s.n(i),r=s(81026),o=s(39108),a=s(85770),c=s(30703),d=s(49013),l=s(49001),u=s(93468);class h{constructor(){this.languages=[new d.T("en","English"),new d.T("gd","Scottish"),new d.T("cy","Welsh"),new d.T("ga","Irish")],this.setLanguage="en",this.setPrintLanguage="en",this.translations=null,this.translationsCommon=null,this.defaultTokens=[{id:"err_comm",value:"There was an error in communication. Please check the stability of your internet. The software tries to reconect."},{id:"err_setup",value:"There was an error during set up."},{id:"error_timetolo",value:"The server responded too slowly. Please check the stability of your internet connection. The Software tries to restart."}],this.setLanguage=this.languages[0].getIso()}getLanguage(){return this.setLanguage}getLanguages(){return this.languages}setLanguages(e){this.languages=e}updateLanguageTexts(){for(const e of this.languages)e.setText(this.getTextCommon("langTxt_"+e.getIso()));return!1}hasLanguage(e){for(const t of this.languages)if(t.getIso()===e)return!0;return!1}getText(e){let t="_"+e;if(null===this.translations){const s=this.defaultTokens.find((t=>t.id===e));if(s)t=s.value;else{r.Y.error("Language Token not found, language:"+this.setLanguage+" token:"+e);const t=new o.vy(a.D.LOCALISATION.code.toString(),"Language Token not found, language:"+this.setLanguage+" token:"+e);c.u.instance.sendLogRequest(t)}}else{const s=this.translations.find((e=>e.langId===this.setLanguage));if(s){const i=s.tokens.find((t=>t.id===e));if(i)t=i.value;else{r.Y.error("Language Token not found, language:"+this.setLanguage+" token:"+e);const t=new o.vy(a.D.LOCALISATION.code.toString(),"Language Token not found, language:"+this.setLanguage+" token:"+e);c.u.instance.sendLogRequest(t)}}else{r.Y.error("Language not found:"+this.setLanguage);const e=new o.vy(a.D.LOCALISATION.code.toString(),"Language not found:"+this.setLanguage);c.u.instance.sendLogRequest(e)}}return t}getTextCommon(e){let t="_"+e;if(null===this.translationsCommon){const s=this.defaultTokens.find((t=>t.id===e));if(s)t=s.value;else{r.Y.error("Language Token not found, language:"+this.setLanguage+" token:"+e);const t=new o.vy(a.D.LOCALISATION.code.toString(),"Language Token not found, language:"+this.setLanguage+" token:"+e);c.u.instance.sendLogRequest(t)}}else{const s=this.translationsCommon.find((e=>e.langId===this.setLanguage));if(s){const i=s.tokens.find((t=>t.id===e));if(i)t=i.value;else{r.Y.error("Language Token not found, language:"+this.setLanguage+" token:"+e);const t=new o.vy(a.D.LOCALISATION.code.toString(),"Language Token not found, language:"+this.setLanguage+" token:"+e);c.u.instance.sendLogRequest(t)}}else{r.Y.error("Language not found:"+this.setLanguage);const e=new o.vy(a.D.LOCALISATION.code.toString(),"Language not found:"+this.setLanguage);c.u.instance.sendLogRequest(e)}}return t}getTextCommonNoCheckIfExists(e){let t=null;if(null!==this.translationsCommon){const s=this.translationsCommon.find((e=>e.langId===this.setLanguage));if(s){const i=s.tokens.find((t=>t.id===e));i&&(t=i.value)}}return t}getPrintText(e){let t="_"+e;if(null===this.translations){const s=this.defaultTokens.find((t=>t.id===e));if(s)t=s.value;else{r.Y.error("Language Token not found, language:"+this.setPrintLanguage+" token:"+e);const t=new o.vy(a.D.LOCALISATION.code.toString(),"Language Token not found, language:"+this.setPrintLanguage+" token:"+e);c.u.instance.sendLogRequest(t)}}else{const s=this.translations.find((e=>e.langId===this.setPrintLanguage));if(s){const i=s.tokens.find((t=>t.id===e));if(i)t=i.value;else{r.Y.error("Error Language Token not found, language:"+this.setPrintLanguage+" token:"+e);const t=new o.vy(a.D.LOCALISATION.code.toString(),"Language Token not found, language:"+this.setPrintLanguage+" token:"+e);c.u.instance.sendLogRequest(t)}}else{r.Y.error("Error Language not found:"+this.setPrintLanguage);const e=new o.vy(a.D.LOCALISATION.code.toString(),"Language not found:"+this.setPrintLanguage);c.u.instance.sendLogRequest(e)}}return t}getPrintTextCommon(e){let t="_"+e;if(null===this.translationsCommon){const s=this.defaultTokens.find((t=>t.id===e));if(s)t=s.value;else{r.Y.error("Language Token not found, language:"+this.setPrintLanguage+" token:"+e);const t=new o.vy(a.D.LOCALISATION.code.toString(),"Language Token not found, language:"+this.setPrintLanguage+" token:"+e);c.u.instance.sendLogRequest(t)}}else{const s=this.translationsCommon.find((e=>e.langId===this.setPrintLanguage));if(s){const i=s.tokens.find((t=>t.id===e));if(i)t=i.value;else{r.Y.error("Language Token not found, language:"+this.setPrintLanguage+" token:"+e);const t=new o.vy(a.D.LOCALISATION.code.toString(),"Language Token not found, language:"+this.setPrintLanguage+" token:"+e);c.u.instance.sendLogRequest(t)}}else{r.Y.error("Language not found:"+this.setPrintLanguage);const e=new o.vy(a.D.LOCALISATION.code.toString(),"Language not found:"+this.setPrintLanguage);c.u.instance.sendLogRequest(e)}}return t}getPrintTextCommonNoCheckIfExists(e){let t=null;if(null!==this.translationsCommon){const s=this.translationsCommon.find((e=>e.langId===this.setPrintLanguage));if(s){const i=s.tokens.find((t=>t.id===e));i&&(t=i.value)}}return t}updateLanguage(e,t){this.setLanguage=e;const s=this.getTextCommon("languageClass");n()("body").attr("data-lang",s),h.commaSymbol=this.getTextCommon("commaSym"),h.timeMillisecSymbol=this.getTextCommon("hundrSym"),h.momDateFormat=this.getTextCommon("mom_dateFormat"),h.momTimeFormat=this.getTextCommon("mom_timeForm"),h.momDateTimeFormat=this.getTextCommon("mom_dateTimeForm"),t&&this.setLangFields()}updatePrintLanguage(e){this.setPrintLanguage=e,h.printCommaSymbol=this.getPrintTextCommon("commaSym"),h.printTimeMillisecSymbol=this.getPrintTextCommon("hundrSym"),h.printMomDateFormat=this.getPrintTextCommon("mom_dateFormat"),h.printMomTimeFormat=this.getPrintTextCommon("mom_timeForm"),h.printMomDateTimeFormat=this.getPrintTextCommon("mom_dateTimeForm")}checkHasTranslationTheLanguage(e){let t=e;if(!this.hasTranslationTheLanguage(e)){const s=this.getTranslationDefaultLanguage();""===s||(l.Z.sendLogToServer(u.T$.NOT_IN_TRANSLATION.code.toString(),u.T$.NOT_IN_TRANSLATION.message+e),t=s)}return t}hasTranslationTheLanguage(e){return!!this.translations.find((t=>t.langId===e))}getTranslationDefaultLanguage(){if(this.translations){if(this.translations.find((e=>"en"===e.langId)))return"en";if(this.translations.length>0)return this.translations[0].langId}return""}errorUpdateLanguage(e){this.setLanguage=e,this.setPrintLanguage=e}setTranslations(e){this.translations=e}getTranslations(){return this.translations}setTranslationsCommon(e){this.translationsCommon=e}getTranslationsCommon(){return this.translationsCommon}}h.commaSymbol=".",h.timeMillisecSymbol=".",h.momTimeFormat="HH:mm:ss",h.momDateFormat="DD/MM/YYYY",h.momDateTimeFormat="DD/MM/YYYY HH:mm:ss",h.printCommaSymbol=".",h.printTimeMillisecSymbol=".",h.printMomTimeFormat="HH:mm:ss",h.printMomDateFormat="DD/MM/YYYY",h.printMomDateTimeFormat="DD/MM/YYYY HH:mm:ss"},49421:(e,t,s)=>{"use strict";s.d(t,{Tg:()=>i,vg:()=>r});var i,n=s(18429);!function(e){e[e.NEW=0]="NEW",e[e.LOSS=1]="LOSS",e[e.WIN=2]="WIN",e[e.PAYDOUT=3]="PAYDOUT",e[e.AUTOPAYOUT=4]="AUTOPAYOUT",e[e.CANCELD=5]="CANCELD",e[e.AUTOCANCELED=6]="AUTOCANCELED"}(i||(i={}));class r{constructor(e,t,s,r,o){this.status=i.NEW,this.statusWasSend=n.$u.PAYOUT,this.createTime=0,this.createTimeStr="",this.createTimeDate=null,this.ticketIdHex="",this.ticketId=0,this.longTicketId="",this.longTicketIdv=0,this.reversal=0,this.payout=0,this.balance=0,this.stake=0,this.win=!1,this.winValue=0,this.raceStarted=!1,this.printDate=null,this.possibleWin=0,this.rastersize=0,this.drawInList=!0,this.otherSessionTicket=!1,e&&(this.gameModel=e),t&&(this.gameType=t),r&&(this.gameName=r),e&&(this.fullGameId=e.roundInfo.fullGameId),this.status=i.NEW,this.createTime=0,this.createTimeStr="",this.createTimeDate=null,this.ticketIdHex="",this.ticketId=0,this.longTicketId="",this.reversal=0,this.payout=0,this.balance=0,s&&(this.stake=s),this.win=!1,this.winValue=0,this.raceStarted=!1,o&&(this.rastersize=o)}}},46803:(e,t,s)=>{"use strict";s.d(t,{Sb:()=>r,g$:()=>n,jt:()=>i});const i="YYYY-MM-DD HH:mm:ss";var n,r;!function(e){e.DISABLED="none",e.FISCAL="fiscal"}(n||(n={})),function(e){e.TICKET="ticket",e.BONUS="bonus"}(r||(r={}))},55291:(e,t,s)=>{"use strict";s.d(t,{My:()=>o,Sd:()=>a,cb:()=>R,jC:()=>r,jM:()=>i,oF:()=>O,sF:()=>n,yo:()=>E});var i,n,r,o,a,c,d=s(81271),l=s.n(d),u=s(39108),h=s(30703),g=s(81026),m=s(47442),T=s(93468),p=s(49001),f=s(87488),S=s(85770),I=s(23859),_=s(66115),k=s(33152),v=s(46803),w=function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};!function(e){e.UNAVAILABLE="unavailable",e.OFFLINE="offline",e.ONLINE="online",e.COVER_OPEN="coveropen",e.PAPEREMTY="paperempty"}(i||(i={}));class E{}E.PRNT_CR="\n",E.BARCODE_HEIGHT=45,E.STANDART_FONT="Arial; 20f",E.PRINT_LOGO_PATH="RD",E.FAIL_CHECK_INTERVAL=5e3,E.FAIL_LIST_MAX=1e3,E.FAIL_LIST_MAX_PROCESS=40,E.PRINT_URL="http://localhost:8080/printer/",function(e){e.STANDAR="standard",e.BROWSER="browser"}(n||(n={})),function(e){e.left="left",e.right="right",e.center="center"}(r||(r={})),function(e){e.regular="regular",e.bold="bold",e.italic="italic",e.strikeout="strikeout",e.underline="underline"}(o||(o={})),function(e){e.standard="Arial; 20f",e.small="Arial; 15"}(a||(a={})),function(e){e.PENDING="PENDING",e.PRINTING="PRINTING",e.PRINTED="PRINTED",e.FAILED="FAILED"}(c||(c={}));class O{constructor(){this.xmlText="",this.fontStyle=null}createNewPage(e){this.xmlText="",this.fontStyle=e}getPageText(){let e="<Page>"+E.PRNT_CR;return null!==this.fontStyle&&(e+="<Font>"+this.fontStyle+"</Font>"+E.PRNT_CR),e+=this.xmlText,e+="</Page>"+E.PRNT_CR,e}addBarcode(e,t,s,i){this.xmlText+='<Barcode128 ShowHeader="'+t+'" ShowFooter="'+s+'" HeightMm="'+i+'">'+E.PRNT_CR,this.xmlText+="<Content>"+e+"</Content>"+E.PRNT_CR,this.xmlText+="</Barcode128>"+E.PRNT_CR}addImage(e){this.xmlText+="<Image>"+E.PRNT_CR,this.xmlText+="<Content>"+e+"</Content>"+E.PRNT_CR,this.xmlText+="</Image>"+E.PRNT_CR}addTextline(e,t,s){this.xmlText+="<TextLine>"+E.PRNT_CR,null!==t&&(this.xmlText+="<Alignment>"+t+"</Alignment>"+E.PRNT_CR),null!==s&&(this.xmlText+="<FontStyle>"+s+"</FontStyle>"+E.PRNT_CR),this.xmlText+="<Content>"+e+"</Content>"+E.PRNT_CR,this.xmlText+="</TextLine>"+E.PRNT_CR}addTextBlock(e,t,s,i){this.xmlText+="<TextBlock>"+E.PRNT_CR,null!==t&&(this.xmlText+="<Alignment>"+t+"</Alignment>"+E.PRNT_CR),null!==s&&(this.xmlText+="<FontStyle>"+s+"</FontStyle>"+E.PRNT_CR),null!==i&&(this.xmlText+="<Font>"+i+"</Font>"+E.PRNT_CR),this.xmlText+="<Content>"+e+"</Content>"+E.PRNT_CR,this.xmlText+="</TextBlock>"+E.PRNT_CR}startRow(){this.xmlText+="<TableRow>"+E.PRNT_CR}startRowWithFont(e){this.xmlText+="<TableRow><Font>"+e+"</Font>"+E.PRNT_CR}endRow(){this.xmlText+="</TableRow>"+E.PRNT_CR}addColumn(e,t,s,i){this.xmlText+="<Column ",null!==t&&(this.xmlText+='Width="'+t+'"'),null!==s&&(this.xmlText+=' Alignment="'+s+'"'),this.xmlText+=" >"+E.PRNT_CR,null!==i&&(this.xmlText+="<FontStyle>"+i+"</FontStyle>"+E.PRNT_CR),this.xmlText+="<Content>"+e+"</Content>"+E.PRNT_CR,this.xmlText+="</Column>"+E.PRNT_CR}}class R{constructor(){this.faildPrintsList=[],this.isProcessingList=!1,this.lastFaildCheckTime=0,this.printJobId=0,this.printAnswereList=[],this.checkPrintAnswereIntervalWorker=null,this.checkPrintAnswereInterval=null,this.faildFiscalPrintsList=[],this.isProcessingFiscalList=!1,this.lastFiscalFaildCheckTime=0}sendXml(e,t,s,i){return w(this,void 0,void 0,(function*(){if(g.Y.isSeverLogCategoryEnabled(I.O.getInitResult(),g.o.PRINTER)){(()=>w(this,void 0,void 0,(function*(){g.Y.info("Send Log Message ");const t=new u.vy("POSPRINT",e);yield h.u.instance.sendLogRequest(t)})))()}if(I.O.deviceSystem===_.fx.android){g.Y.debug("-----------\x3e Send Print"),this.printJobId>=Number.MAX_VALUE&&(this.printJobId=0),this.printJobId++,this.printAnswereList.unshift({id:this.printJobId,reject:null,resolve:null,isResolved:!1,waitUntilPrinted:i,printWasSend:!1,showError:s,addToFaildList:t,xmlData:e}),this.printAnswereList.length>m.Z.printSetup.printPageStatusListMax&&this.printAnswereList.pop();const n=yield Printer.print(this.printJobId,e);return new Promise(((i,r)=>{const o=l().parseXML(n),a=l()(o),d=a.find("Success").text(),u=a.find("PageId").text(),h=this.getPrintAnswereById(parseInt(u,10));if(null!==h)if(h.resolve=i,h.reject=r,h.printWasSend=!0,"NO"===d){const i=this.sendXmlErrorHandler(n,s,t,e);for(let e=this.printAnswereList.length-1;e>=0;e--){this.printAnswereList[e].id===parseInt(u,10)&&this.printAnswereList.splice(e,1)}r(i)}else{const e=()=>{for(let e=this.printAnswereList.length-1;e>=0;e--){const t=this.printAnswereList[e];if(!t.printWasSend)return;g.Y.debug("Check print answer, id:"+t.id);const s=Printer.getPageStatus(t.id),i=l().parseXML(s),n=l()(i).find("PageStatus").text();if(g.Y.debug("Got print answer, status:"+n),n===c.PRINTING)t.isResolved||t.waitUntilPrinted||(t.isResolved=!0,t.resolve(n));else if(n===c.PRINTED)t.isResolved||(t.isResolved=!0,t.resolve(n)),this.printAnswereList.splice(e,1);else if(n===c.FAILED){if(t.isResolved)this.createPrintError(T.T$.PRINTER_FAILED.code,f.l.instance.getTextCommon("Error_Printer"));else{const e=f.l.instance.getTextCommon("Error_Printer");t.showError&&this.createPrintError(T.T$.PRINTER_FAILED.code,e),t.reject(new T.u9(T.T$.PRINTER_FAILED.code,e))}this.printAnswereList.splice(e,1)}}this.printAnswereList.length<=0&&(p.Z.hasServiceWorker?(p.Z.clearServiceWorkers(this.checkPrintAnswereIntervalWorker),this.checkPrintAnswereIntervalWorker=null):(clearInterval(this.checkPrintAnswereInterval),this.checkPrintAnswereInterval=null),g.Y.debug("Check print cleared intervall"))};p.Z.hasServiceWorker?(p.Z.clearServiceWorkers(this.checkPrintAnswereIntervalWorker),this.checkPrintAnswereIntervalWorker=null,this.checkPrintAnswereIntervalWorker=k.Zi(e,m.Z.printSetup.printPageStatusPollTime)):(clearInterval(this.checkPrintAnswereInterval),this.checkPrintAnswereInterval=setInterval(e,m.Z.printSetup.printPageStatusPollTime))}else g.Y.error("Error no print Answere for ID:"+u)}))}return new Promise(((i,n)=>{if(I.O.ignoreNoPrinter)setTimeout((()=>{i()}),300);else{const r=l().ajax({traditional:!0,type:"POST",url:E.PRINT_URL,data:{xml:e},dataType:"xml"});r.done(function(r){if("NO"===l()(r).find("Success").text()){const i=this.sendXmlErrorHandler(r,s,t,e);n(i)}else i(r)}.bind(this)),r.fail(function(i,r,o){r=p.Z.ajaxErrorMessage(r,o),s&&this.printingErrorHandling("print Request",i,r),t&&this.addFaildTicketList(e),n(new T.u9(i.status,"PRINTER: "+r))}.bind(this))}}))}))}sendFiscalPrintData(e,t,s,i){return w(this,void 0,void 0,(function*(){if(e!==v.g$.DISABLED){if(g.Y.isSeverLogCategoryEnabled(I.O.getInitResult(),g.o.FISCAL_PRINTER)){(()=>w(this,void 0,void 0,(function*(){g.Y.info("Send Log Message ");const e=new u.vy("FISCAL_PRINT",t);yield h.u.instance.sendLogRequest(e)})))()}if(I.O.deviceSystem!==_.fx.android){if(I.O.ignoreNoPrinter)return new Promise(((e,t)=>{e()}));const e=l().ajax({traditional:!0,type:"POST",url:E.PRINT_URL,data:{fiscal:t},dataType:"json"});return new Promise(((n,r)=>{e.done(function(e){if("NO"===e.Success){const t=this.sendFiscalPrintErrorHandler(e,s);r(t)}else n(e)}.bind(this)),e.fail(function(e,n,o){n=p.Z.ajaxErrorMessage(n,o),s&&this.printingFiscalErrorHandling("fiscal print Request",e,n),i&&this.addFiscalFaildTicketList(t),r(new T.u9(e.status,"FISCAL_PRINT: "+n))}.bind(this))}))}g.Y.debug("No Fiscal Print on Android")}else g.Y.debug("Fiscal Print disabled")}))}getPrintAnswereById(e){for(const t of this.printAnswereList)if(e===t.id)return t;return null}sendXmlErrorHandler(e,t,s,i){const n=l()(e).find("ErrorCode").text(),r=l()(e).find("ErrorMessage").text();return t&&this.createPrintError(parseInt(n,10),r),s&&this.addFaildTicketList(i),new T.u9(parseInt(n,10),"PRINTER: "+r)}sendFiscalPrintErrorHandler(e,t,s,i){const n=e.ErrorCode,r=e.ErrorMessage;return t&&S.q.instance.createErrorDialog(f.l.instance.getTextCommon("Error_PrintData")+": "+parseInt(n,10),r,!0),s&&this.addFiscalFaildTicketList(i),new T.u9(parseInt(n,10),"FISCAL_PRINTER: "+r)}failedPrintPageErrorHandler(e,t,s,i){const n=l()(e).find("ErrorCode").text(),r=l()(e).find("ErrorMessage").text();return t&&this.createPrintError(parseInt(n,10),r),s&&this.addFaildTicketList(i),new T.u9(parseInt(n,10),"PRINTER: "+r)}checkPrinterStatusRequest(e){return w(this,void 0,void 0,(function*(){if(I.O.deviceSystem===_.fx.android){if(g.Y.debug("-----------\x3e get Printer Status"),g.Y.isSeverLogCategoryEnabled(I.O.getInitResult(),g.o.PRINTER)){const e=new u.vy(T.T$.SEND_LOG_INFO.code.toString(),"Before Get Print Status");h.u.instance.sendLogRequest(e)}const t=yield Printer.getStatus();if(g.Y.isSeverLogCategoryEnabled(I.O.getInitResult(),g.o.PRINTER)){const e=new u.vy(T.T$.SEND_LOG_INFO.code.toString(),"After Get Print Status");h.u.instance.sendLogRequest(e)}return g.Y.debug("-----------\x3e Result Printer Status:"+JSON.stringify(t)),new Promise(((s,i)=>{const n=l().parseXML(t),r=l()(n);if("NO"===r.find("Success").text()){const t=r.find("ErrorCode").text(),s=r.find("ErrorMessage").text();e&&this.createPrintError(parseInt(t,10),s),i(new T.u9(parseInt(t,10),"PRINTER: "+s))}else{const t=r.find("PrinterStatus").text();this.handlePrinterStatusResult(t,e),s(t)}}))}{if(I.O.ignoreNoPrinter)return new Promise(((e,t)=>{e(i.ONLINE)}));const t=l().ajax({traditional:!0,type:"POST",url:E.PRINT_URL,data:{printerstatus:""},dataType:"xml"});return new Promise(((s,i)=>{t.done(function(t){g.Y.debug("-----------\x3e Browser Result Printer Status:"+JSON.stringify(JSON.stringify(t)));if("NO"===l()(t).find("Success").text()){const s=l()(t).find("ErrorCode").text(),n=l()(t).find("ErrorMessage").text();e&&this.createPrintError(s,n),i(new T.u9(parseInt(s,10),"PRINTER: "+n))}else{const i=l()(t).find("PrinterStatus").text();this.handlePrinterStatusResult(i,e),s(i)}}.bind(this)),t.fail(function(t,n,r){n=p.Z.ajaxErrorMessage(n,r),e&&this.printingErrorHandling("print Status Request",t,n),s(status),i(new T.u9(t.status,"PRINTER: "+n))}.bind(this))}))}}))}handlePrinterStatusResult(e,t){if(e!==i.ONLINE&&t){let t=f.l.instance.getTextCommon("Error_PrinterNotAvailable");e===i.PAPEREMTY?t=f.l.instance.getTextCommon("Error_PrinterPaperEmpty"):e===i.COVER_OPEN&&(t=f.l.instance.getTextCommon("Error_PrinterCoverOpen")),S.q.instance.createErrorDialog(f.l.instance.getTextCommon("Error_Printer"),t,!0)}}getPrinterVersionRequest(e){const t=l().ajax({traditional:!0,type:"POST",url:E.PRINT_URL,data:{version:""},dataType:"xml"});return new Promise(((s,i)=>{t.done(function(t){if("NO"===l()(t).find("Success").text()){const n=l()(t).find("ErrorCode").text(),r=l()(t).find("ErrorMessage").text();"1010"===n?s("-1"):(e&&this.createPrintError(n,r),i(new T.u9(parseInt(n,10),"PRINTER: "+r)))}else{const e=l()(t).find("Version").text();s(e)}}.bind(this)),t.fail(function(t,s,n){s=p.Z.ajaxErrorMessage(s,n),e&&this.printingErrorHandling("print Status Request",t,s),i(new T.u9(t.status,"PRINTER: "+s))}.bind(this))}))}addFiscalFaildTicketList(e){this.faildFiscalPrintsList.length>=E.FAIL_LIST_MAX||(this.faildFiscalPrintsList.push(e),this.logFaildFiscalTicketList())}logFaildFiscalTicketList(){for(const e of this.faildFiscalPrintsList)g.Y.debug("Fiscal Ticket:"+JSON.stringify(e))}periodicCheckFailedFiscalTickets(){if(!this.isProcessingFiscalList){const e=(new Date).getTime();g.Y.debug("Ceck Fiscal interval:"+(e-this.lastFiscalFaildCheckTime)),e-this.lastFiscalFaildCheckTime>E.FAIL_CHECK_INTERVAL-2e3&&(g.Y.debug("Fiscal periodic check faild print tickets"),this.lastFiscalFaildCheckTime=e,this.checkPrintFailedFiscalTickets())}}checkPrintFailedFiscalTickets(){if(g.Y.debug("------\x3eFiscal Check print faild tickets"),this.faildFiscalPrintsList.length<=0)this.isProcessingFiscalList=!1;else{if(this.faildFiscalPrintsList.length>E.FAIL_LIST_MAX_PROCESS)return this.faildFiscalPrintsList=[],void(this.isProcessingFiscalList=!1);this.isProcessingFiscalList=!0,g.Y.debug("------\x3eFiscal Do Check print faild tickets"),g.Y.info("Fiscal Print faild ticket"),this.sendFiscalPrintData(I.O.getFiscalPrintType(),this.faildFiscalPrintsList[0],!1,!1).then((()=>{this.faildFiscalPrintsList.shift(),this.logFaildFiscalTicketList(),this.checkPrintFailedFiscalTickets()})).catch((e=>{this.isProcessingFiscalList=!1}))}}addFaildTicketList(e){this.faildPrintsList.length>=E.FAIL_LIST_MAX||(this.faildPrintsList.push(e),this.logFaildTicketList())}logFaildTicketList(){for(const e of this.faildPrintsList)g.Y.debug("Ticket:"+JSON.stringify(e))}periodicCheckFailedTickets(){if(!this.isProcessingList){const e=(new Date).getTime();g.Y.debug("Ceck interval:"+(e-this.lastFaildCheckTime)),e-this.lastFaildCheckTime>E.FAIL_CHECK_INTERVAL-2e3&&(g.Y.debug("periodic check faild print tickets"),this.lastFaildCheckTime=e,this.checkPrintFailedTickets())}}checkPrintFailedTickets(){if(g.Y.debug("------\x3e Check print faild tickets"),this.faildPrintsList.length<=0)this.isProcessingList=!1;else{if(this.faildPrintsList.length>E.FAIL_LIST_MAX_PROCESS)return this.faildPrintsList=[],void(this.isProcessingList=!1);this.isProcessingList=!0,g.Y.debug("------\x3e Do Check print faild tickets"),g.Y.info("Print faild ticket"),this.sendXml(this.faildPrintsList[0],!1,!1,!1).then((()=>{this.faildPrintsList.shift(),this.logFaildTicketList(),this.checkPrintFailedTickets()})).catch((e=>{this.isProcessingList=!1}))}}createPrintError(e,t){2010===e&&(t=f.l.instance.getTextCommon("Error_PrinterNotAvailable")),S.q.instance.createErrorDialog(f.l.instance.getTextCommon("Error_Printer")+": "+e,t,!0)}printingErrorHandling(e,t,s){let i=!1;if("string"==typeof s&&s.indexOf("timeout")>=0&&(i=!0),i)S.q.instance.createErrorDialog(f.l.instance.getTextCommon("Error_Printer"),f.l.instance.getText("Error_PrinterTimeout"),!0);else{let e=t.status+" "+s;if(404===t.status||0===t.status){let t="";I.O.deviceSystem!==_.fx.android&&(t=f.l.instance.getTextCommon("printer_link").replace("___PVLI___",'<a href="'+I.O.getInitResult().setting.webPosPrinterCurrentUrl+'" target="_blank">WebPosPrinter Version '+I.O.getInitResult().setting.webPosPrinterCurrentVersion+"</a>")),e=f.l.instance.getTextCommon("Error_PrinterServer"),e+="<br/><br/>"+t}S.q.instance.createErrorDialog(f.l.instance.getTextCommon("Error_Printer"),e,!0)}}printingFiscalErrorHandling(e,t,s){let i=!1;if("string"==typeof s&&s.indexOf("timeout")>=0&&(i=!0),i)S.q.instance.createErrorDialog(f.l.instance.getTextCommon("Error_PrintData"),f.l.instance.getText("Error_PrinterTimeout"),!0);else{let e=t.status+" "+s;if(404===t.status||0===t.status){let t="";I.O.deviceSystem!==_.fx.android&&(t=f.l.instance.getTextCommon("printer_link").replace("___PVLI___",'<a href="'+I.O.getInitResult().setting.webPosPrinterCurrentUrl+'" target="_blank">WebPosPrinter Version '+I.O.getInitResult().setting.webPosPrinterCurrentVersion+"</a>")),e=f.l.instance.getTextCommon("Error_PrinterServer"),e+="<br/><br/>"+t}S.q.instance.createErrorDialog(f.l.instance.getTextCommon("Error_PrintData"),e,!0)}}}},96496:(e,t,s)=>{"use strict";s.d(t,{K$:()=>c,OW:()=>o,cZ:()=>l,lB:()=>a,yp:()=>d});var i=s(23859),n=s(81026),r=s(66115);class o{get tempBetList(){return this._tempBetList}set tempBetList(e){this._tempBetList=e}get fullGameId(){return this._fullGameId}set fullGameId(e){this._fullGameId=e}get sumStake(){return this._sumStake}set sumStake(e){this._sumStake=e}constructor(){this._tempBetList=[],this._sumStake=0,this._fullGameId=""}addBetsToTempBetListStandard(e){let t=!1;for(const s of e){let e=!1;for(const n of this.tempBetList)if(n.betId===s.betId){if(e=!0,n.stake+s.stake>i.O.maxStakePerBet){t=!0;break}n.stake+=s.stake,this.sumStake+=s.stake;break}e||(s.stake>i.O.maxStakePerBet?t=!0:(this.tempBetList.push(s),this.sumStake+=s.stake))}this.tempBetList.sort((function(e,t){return e.getBetOrderNumber()-t.getBetOrderNumber()})),n.Y.debug("Curent Temp Bets List:"+JSON.stringify(this.tempBetList)),this.updateGraphics(),t&&this.createLimitReachedMessage(i.O.maxStakePerBet)}getTempBetById(e){for(const t of this.tempBetList)if(t.betId===e)return t;return null}deleteTempBet(e){this.sumStake=0;for(let t=this.tempBetList.length-1;t>=0;t--)this.tempBetList[t].betId===e?this.tempBetList.splice(t,1):this.sumStake+=this.tempBetList[t].stake}clearTempBetList(e){n.Y.debug("Clear temp Bets"),this.tempBetList=[],this.sumStake=0,e&&this.clearTempBetListGraphic()}}class a{constructor(e){this.stake=0,this.odd=0,this.first=-1,this.second=-1,this.win=!1,this.winValue=0,this.betId=e,this.quotaId=e}getBetOrderNumber(){return parseInt(this.betId,10)}}class c extends a{constructor(e){super(e),this.betInfo=null}}class d extends a{constructor(e){super(e)}}class l extends a{static setPlacesByBetId(e,t){const s=parseInt(e.betId,10);if(s<=r.KZ.DOG63.winnerTo)e.first=s+1,e.second=null,e.third=null;else if(s<=r.KZ.DOG63.forcastTo){let i=0,n=!1;for(let o=0;o<t;o++){for(let a=0;a<t;a++)if(o!==a){if(r.KZ.DOG63.forcastFrom+i===s){e.first=o+1,e.second=a+1,n=!0;break}i++}if(n)break}}else if(s<=r.KZ.DOG63.place2To)e.first=s-r.KZ.DOG63.place2From+1,e.second=null,e.third=null;else if(s<=r.KZ.DOG63.place3To)e.first=s-r.KZ.DOG63.place3From+1,e.second=null,e.third=null;else if(s<=r.KZ.DOG63.forcastNoOrderTo){let i=0,n=!1;for(let o=0;o<t;o++){for(let a=0;a<t;a++)if(o<a){if(r.KZ.DOG63.forcastNoOrderFrom+i===s){e.first=o+1,e.second=a+1,n=!0;break}i++}if(n)break}}else if(s<=r.KZ.DOG63.tricastTo){let i=0,n=!1;for(let o=0;o<t;o++){for(let a=0;a<t;a++){for(let c=0;c<t;c++)if(o!==a&&o!==c&&a!==c){if(r.KZ.DOG63.tricastFrom+i===s){e.first=o+1,e.second=a+1,e.third=c+1,n=!0;break}i++}if(n)break}if(n)break}}else if(s<=r.KZ.DOG63.tricastNoOrderTo){let i=0,n=!1;for(let o=0;o<t;o++){for(let a=0;a<t;a++){for(let c=0;c<t;c++)if(o<a&&a<c){if(r.KZ.DOG63.tricastNoOrderFrom+i===s){e.first=o+1,e.second=a+1,e.third=c+1,n=!0;break}i++}if(n)break}if(n)break}}else if(s===r.KZ.DOG63.underOverFrom)e.first=null,e.second=null,e.third=null;else if(s===r.KZ.DOG63.underOverTo)e.first=null,e.second=null,e.third=null;else if(s===r.KZ.DOG63.oddEvenFrom)e.first=null,e.second=null,e.third=null;else if(s===r.KZ.DOG63.oddEvenTo)e.first=null,e.second=null,e.third=null;else if(s<=r.KZ.DOG63.twoInThreeTo){let i=0,n=!1;for(let o=0;o<t;o++){for(let a=0;a<t;a++)if(o<a){if(r.KZ.DOG63.twoInThreeFrom+i===s){e.first=o+1,e.second=a+1,n=!0;break}i++}if(n)break}}else s<=r.KZ.DOG63.sumTricastTo||s<=r.KZ.DOG63.sumForcastTo?(e.first=null,e.second=null,e.third=null):s<=r.KZ.DOG63.secondTo?(e.first=null,e.second=s-r.KZ.DOG63.secondFrom+1,e.third=null):s<=r.KZ.DOG63.thirdTo?(e.first=null,e.second=null,e.third=s-r.KZ.DOG63.thirdFrom+1):(e.first=null,e.second=null,e.third=null)}constructor(e){super(e),this.third=-1}}},18429:(e,t,s)=>{"use strict";s.d(t,{$u:()=>f,Gi:()=>S,Nu:()=>k,fu:()=>v,m8:()=>I});var i=s(81271),n=s.n(i),r=s(23859),o=s(66115),a=s(81026),c=s(96496),d=s(49421),l=s(39108),u=s(49001),h=s(30703),g=s(55291),m=s(93468),T=s(98157),p=s(85770);var f,S,I,_;!function(e){e.PAYOUT="payout",e.AUTOPAYOUT="autopayout",e.CANCELD="cancel",e.AUTOCANCEL="autocancel"}(f||(f={})),function(e){e.NEW="sold",e.LOSS="loss",e.WIN="win",e.PAYDOUT="payout",e.AUTOPAYOUT="autopayout",e.CANCELD="cancel",e.AUTOCANCELED="autocancel"}(S||(S={})),function(e){e.OPEN="open",e.PLAYED="played",e.CANCELED="cancelled",e.TIMEOUT="timeout"}(I||(I={})),function(e){e.ASK="ask",e.CONFIRM="confirm"}(_||(_={}));class k{static getStatusByServerStatus(e){let t=d.Tg.NEW;switch(e){case S.NEW:t=d.Tg.NEW;break;case S.LOSS:t=d.Tg.LOSS;break;case S.WIN:t=d.Tg.WIN;break;case S.PAYDOUT:t=d.Tg.PAYDOUT;break;case S.AUTOPAYOUT:t=d.Tg.AUTOPAYOUT;break;case S.CANCELD:t=d.Tg.CANCELD;break;case S.AUTOCANCELED:t=d.Tg.AUTOCANCELED;break;default:t=d.Tg.LOSS}return t}constructor(e){this.ticketList=[],this.gameLogic=e}createTicketFromTempBetList(e,t,s){const i=new v(e,t,this.gameLogic.gameType,s,this.gameLogic.gameName,r.O.getInitResult().sessionID,this.gameLogic.getNumberCompetitor());return i.calcMaxPossibleWin(),i}addNewTicket(e){a.Y.info("Add new Ticket:"+JSON.stringify(e.getLogData())),this.ticketList.push(e),this.ticketList.length>1e5&&this.ticketList.shift()}sendTicketRequest(e,t,s,i,n){return k.transactionId++,new Promise(((t,s)=>{let c=null;switch(e.createTime=r.O.getServerTimeSecSince(),e.createTimeDate=new Date(e.createTime),e.createTimeStr=u.Z.formatStandardUTCSecondsScince(e.createTime),this.gameLogic.gameType){case o.O4.DOG6.gamType:c=new l.CF(o.O4.DOG6.eventType,e.createTimeStr,k.transactionId,e.fullGameId);break;case o.O4.DOG63.gamType:c=new l.W2(o.O4.DOG63.eventType,e.createTimeStr,k.transactionId,e.fullGameId);break;case o.O4.DOG8.gamType:c=new l.f8(o.O4.DOG8.eventType,e.createTimeStr,k.transactionId,e.fullGameId);break;case o.O4.KART.gamType:c=new l.NN(o.O4.KART.eventType,e.createTimeStr,k.transactionId,e.fullGameId);break;case o.O4.RTT.gamType:c=new l.NN(o.O4.RTT.eventType,e.createTimeStr,k.transactionId,e.fullGameId);break;case o.O4.HORSE.gamType:c=new l.p9(o.O4.HORSE.eventType,e.createTimeStr,k.transactionId,e.fullGameId);break;case o.O4.HORSE_CLASSIC.gamType:c=new l.p9(o.O4.HORSE_CLASSIC.eventType,e.createTimeStr,k.transactionId,e.fullGameId);break;case o.O4.KICKBOX.gamType:c=new l.h_(o.O4.KICKBOX.eventType,e.createTimeStr,k.transactionId,e.fullGameId);break;case o.O4.TROT.gamType:c=new l.Jr(o.O4.TROT.eventType,e.createTimeStr,k.transactionId,e.fullGameId);break;default:a.Y.error("Invalid Game Type, send Ticket:"+this.gameLogic.gameType)}e.ticketTransId=k.transactionId;for(const t of e.betsList)c["bet_"+t.quotaId]=t.stake/r.O.creditFactor;if(r.O.getHasExternalTickets()&&(c.prepTicketID=e.prepTicketID),a.Y.isSeverLogCategoryEnabled(r.O.getInitResult(),a.o.CREATE_TICKET)){const e=new l.vy(m.T$.SEND_LOG_INFO.code.toString(),"Before Send Create Ticket");h.u.instance.sendLogRequest(e)}h.u.instance.sendTicketRequest(c,i,n,e).then((e=>{if(a.Y.isSeverLogCategoryEnabled(r.O.getInitResult(),a.o.CREATE_TICKET)){const e=new l.vy(m.T$.SEND_LOG_INFO.code.toString(),"After Send Create Ticket");h.u.instance.sendLogRequest(e)}t(e)})).catch((e=>{s(e)}))}))}}k.transactionId=0;class v extends d.vg{constructor(e,t,s,i,n,r,o){super(t,s,i,n,o),this.sessionId="",this.printDate=null,this.ticketTransId=-1,this.prepTicketID=-1,e&&(this.betsList=e,u.Z.sendLogToServerCheckCategory(a.o.CREATE_TICKET,m.T$.SEND_LOG_INFO.code.toString(),"create BetList:"+JSON.stringify(this.betsList))),r&&(this.sessionId=r)}calculateWin(e,t,s,i,n){this.gameType===o.O4.RTT.gamType?this.calculateWinRoulette(e):this.gameType===o.O4.KICKBOX.gamType?this.calculateWinKickbox(e,s,i,n):this.gameType===o.O4.DOG63.gamType?this.calculateWinWithRunnerThree(e,t,s):this.calculateWinWithRunner(e,t)}calculateWinWithRunner(e,t){this.winValue=0;for(const s of this.betsList)(s.first===e+1&&null===s.second||s.first===e+1&&s.second===t+1)&&(s.win=!0,this.win=!0,s.winValue=parseInt((s.stake*s.odd).toFixed(0),10),this.checkHasBonus()||(s.winValue=u.Z.roundToSetDecimalPlaces(s.winValue)),this.calculateBonusWin(s),this.winValue+=s.winValue)}calculateWinWithRunnerThree(e,t,s){this.winValue=0;for(const i of this.betsList){const n=i,r=parseInt(n.betId,10);r<=o.KZ.DOG63.forcastTo?(n.first===e+1&&null===n.second||n.first===e+1&&n.second===t+1)&&(n.win=!0,this.win=!0,n.winValue=parseInt((n.stake*n.odd).toFixed(0),10),this.checkHasBonus()||(n.winValue=u.Z.roundToSetDecimalPlaces(n.winValue)),this.calculateBonusWin(n),this.winValue+=n.winValue):r<=o.KZ.DOG63.place2To?n.first!==e+1&&n.first!==t+1||(n.win=!0,this.win=!0,n.winValue=parseInt((n.stake*n.odd).toFixed(0),10),this.checkHasBonus()||(n.winValue=u.Z.roundToSetDecimalPlaces(n.winValue)),this.calculateBonusWin(n),this.winValue+=n.winValue):r<=o.KZ.DOG63.place3To?n.first!==e+1&&n.first!==t+1&&n.first!==s+1||(n.win=!0,this.win=!0,n.winValue=parseInt((n.stake*n.odd).toFixed(0),10),this.checkHasBonus()||(n.winValue=u.Z.roundToSetDecimalPlaces(n.winValue)),this.calculateBonusWin(n),this.winValue+=n.winValue):r<=o.KZ.DOG63.forcastNoOrderTo?(n.first===e+1&&n.second===t+1||n.second===e+1&&n.first===t+1)&&(n.win=!0,this.win=!0,n.winValue=parseInt((n.stake*n.odd).toFixed(0),10),this.checkHasBonus()||(n.winValue=u.Z.roundToSetDecimalPlaces(n.winValue)),this.calculateBonusWin(n),this.winValue+=n.winValue):r<=o.KZ.DOG63.tricastTo?n.first===e+1&&n.second===t+1&&n.third===s+1&&(n.win=!0,this.win=!0,n.winValue=parseInt((n.stake*n.odd).toFixed(0),10),this.checkHasBonus()||(n.winValue=u.Z.roundToSetDecimalPlaces(n.winValue)),this.calculateBonusWin(n),this.winValue+=n.winValue):r<=o.KZ.DOG63.tricastNoOrderTo?n.first!==e+1&&n.first!==t+1&&n.first!==s+1||n.second!==e+1&&n.second!==t+1&&n.second!==s+1||n.third!==e+1&&n.third!==t+1&&n.third!==s+1||(n.win=!0,this.win=!0,n.winValue=parseInt((n.stake*n.odd).toFixed(0),10),this.checkHasBonus()||(n.winValue=u.Z.roundToSetDecimalPlaces(n.winValue)),this.calculateBonusWin(n),this.winValue+=n.winValue):r===o.KZ.DOG63.underOverFrom?e+1<(this.gameModel.game.getNumberCompetitor()+1)/2&&(n.win=!0,this.win=!0,n.winValue=parseInt((n.stake*n.odd).toFixed(0),10),this.checkHasBonus()||(n.winValue=u.Z.roundToSetDecimalPlaces(n.winValue)),this.calculateBonusWin(n),this.winValue+=n.winValue):r===o.KZ.DOG63.underOverTo?e+1>(this.gameModel.game.getNumberCompetitor()+1)/2&&(n.win=!0,this.win=!0,n.winValue=parseInt((n.stake*n.odd).toFixed(0),10),this.checkHasBonus()||(n.winValue=u.Z.roundToSetDecimalPlaces(n.winValue)),this.calculateBonusWin(n),this.winValue+=n.winValue):r===o.KZ.DOG63.oddEvenFrom?(e+1)%2!=0&&(n.win=!0,this.win=!0,n.winValue=parseInt((n.stake*n.odd).toFixed(0),10),this.checkHasBonus()||(n.winValue=u.Z.roundToSetDecimalPlaces(n.winValue)),this.calculateBonusWin(n),this.winValue+=n.winValue):r===o.KZ.DOG63.oddEvenTo?(e+1)%2==0&&(n.win=!0,this.win=!0,n.winValue=parseInt((n.stake*n.odd).toFixed(0),10),this.checkHasBonus()||(n.winValue=u.Z.roundToSetDecimalPlaces(n.winValue)),this.calculateBonusWin(n),this.winValue+=n.winValue):r<=o.KZ.DOG63.twoInThreeTo?e+1!==n.first&&t+1!==n.first&&s+1!==n.first||e+1!==n.second&&t+1!==n.second&&s+1!==n.second||(n.win=!0,this.win=!0,n.winValue=parseInt((n.stake*n.odd).toFixed(0),10),this.checkHasBonus()||(n.winValue=u.Z.roundToSetDecimalPlaces(n.winValue)),this.calculateBonusWin(n),this.winValue+=n.winValue):r<=o.KZ.DOG63.sumTricastTo?e+1+t+1+s+1===parseInt(n.quotaId,10)-222+6&&(n.win=!0,this.win=!0,n.winValue=parseInt((n.stake*n.odd).toFixed(0),10),this.checkHasBonus()||(n.winValue=u.Z.roundToSetDecimalPlaces(n.winValue)),this.calculateBonusWin(n),this.winValue+=n.winValue):r<=o.KZ.DOG63.sumForcastTo?e+1+t+1===parseInt(n.quotaId,10)-232+3&&(n.win=!0,this.win=!0,n.winValue=parseInt((n.stake*n.odd).toFixed(0),10),this.checkHasBonus()||(n.winValue=u.Z.roundToSetDecimalPlaces(n.winValue)),this.calculateBonusWin(n),this.winValue+=n.winValue):r<=o.KZ.DOG63.secondTo?t+1===n.second&&(n.win=!0,this.win=!0,n.winValue=parseInt((n.stake*n.odd).toFixed(0),10),this.checkHasBonus()||(n.winValue=u.Z.roundToSetDecimalPlaces(n.winValue)),this.calculateBonusWin(n),this.winValue+=n.winValue):r<=o.KZ.DOG63.thirdTo?s+1===n.third&&(n.win=!0,this.win=!0,n.winValue=parseInt((n.stake*n.odd).toFixed(0),10),this.checkHasBonus()||(n.winValue=u.Z.roundToSetDecimalPlaces(n.winValue)),this.calculateBonusWin(n),this.winValue+=n.winValue):a.Y.error("Calculate Win Invalid bet id:"+n.betId)}}calculateWinKickbox(e,t,s,i){this.winValue=0;const n=new T.N(this.gameType,this.rastersize,this.betsList,r.O.getInitResult().setting.printMaxWin,this.gameModel.roundInfo.roundBonusType,this);this.winValue=n.getKickboxWin(e,t,s,i,!0)}calculateWinRoulette(e){const t=new T.N(this.gameType,this.rastersize,this.betsList,r.O.getInitResult().setting.printMaxWin,this.gameModel.roundInfo.roundBonusType,this);this.winValue=t.getRouletteWin(e,!0)}calculateBonusWin(e){this.checkHasBonus()&&(e.winValue=u.Z.roundToSetDecimalPlaces(e.winValue*u.Z.getBonusFactor(this.gameModel.roundInfo.roundBonusType)))}checkHasBonus(){return null!==this.gameModel.roundInfo.roundBonusType&&void 0!==this.gameModel.roundInfo.roundBonusType}checkWinStatus(){let e=0;return this.status!==d.Tg.CANCELD&&this.status!==d.Tg.AUTOCANCELED&&(!0===this.win?(this.status=d.Tg.WIN,e=1):(this.status=d.Tg.LOSS,this.balance=this.stake,e=2)),a.Y.debug("SSS set ticket status:"+this.status+" ticketId:"+this.longTicketId),e}calcMaxPossibleWin(){const e=new T.N(this.gameType,this.rastersize,this.betsList,r.O.getInitResult().setting.printMaxWin,this.gameModel.roundInfo.roundBonusType,this);e.calcMaxPossibleWin(),this.possibleWin=e.possibleWin}calcMaxPossibleWinWithRunner(){if(this.possibleWin=0,!r.O.getInitResult().setting.printMaxWin)return;if(this.betsList.length<=0)return!1;const e=this.rastersize;let t=0;for(const e of this.betsList){let s=parseInt((e.stake*e.odd).toFixed(0),10);s=u.Z.roundToSetDecimalPlaces(s),s>t&&(t=s)}for(let s=0;s<e;s++){const i=s;let n=0,r=0;for(const e of this.betsList)if(e.quotaId===i.toString()){r=parseInt((e.stake*e.odd).toFixed(0),10),r=u.Z.roundToSetDecimalPlaces(r);break}for(let i=0;i<e;i++)if(s!==i){n=e-1+(s*e+i)-Math.floor((s*e+i)/(e+1));let o=0;for(const e of this.betsList)if(e.quotaId===n.toString()){o=parseInt((e.stake*e.odd).toFixed(0),10),o=u.Z.roundToSetDecimalPlaces(o);break}if(r>0&&o>0){const e=r+o;e>t&&(t=e)}}}return this.possibleWin+=t,!0}cancleTicket(){this.reversal=this.stake,this.balance=0}payoutTicket(){this.payout=this.winValue,this.balance=this.stake-this.winValue}payoutOtherSessionTicket(){this.payout=this.winValue,this.balance=-this.payout}sendTicketStatus(e,t,s){return new Promise(((i,n)=>{t?s.checkPrinterStatusRequest(!0).then((t=>{t===g.jM.ONLINE&&this.doSendTicketStatus(e).then((e=>{i(e)})).catch((e=>{n(e)}))})).catch((e=>{n(e)})):this.doSendTicketStatus(e).then((e=>{i(e)})).catch((e=>{n(e)}))}))}doSendTicketStatus(e){return new Promise(((t,s)=>{const i=new l.je(this.sessionId+this.ticketIdHex,e,_.CONFIRM,"",0);h.u.instance.sendTicketStatusRequest(this,i,!0).then((e=>{t(e)})).catch((e=>{s(e)}))}))}setSendStatus(e){switch(e){case f.PAYOUT:this.status=d.Tg.PAYDOUT;break;case f.AUTOPAYOUT:this.status=d.Tg.AUTOPAYOUT;break;case f.CANCELD:this.status=d.Tg.CANCELD;break;case f.AUTOCANCEL:this.status=d.Tg.AUTOCANCELED}}setServerStatus(e){switch(e){case S.LOSS:this.status=d.Tg.LOSS;break;case S.WIN:this.status=d.Tg.WIN;break;case S.PAYDOUT:this.status=d.Tg.PAYDOUT;break;case S.AUTOPAYOUT:this.status=d.Tg.AUTOPAYOUT;break;case S.CANCELD:this.status=d.Tg.CANCELD;break;case S.AUTOCANCELED:this.status=d.Tg.AUTOCANCELED;break;default:this.status=d.Tg.LOSS}}setOldTickeData(e,t){this.betsList=[],this.winValue=0,this.stake=0,this.gameModel=null,this.gameType=u.Z.getGameTypeByEventType(e.gameRound.eventType),this.gameName=u.Z.getPrintGameNameByGameType(this.gameType),this.fullGameId=e.gameRound.id;const s=r.O.getGameByGameType(this.gameType);if(null!==s){this.rastersize=s.getNumberCompetitor();const i=s.getGameWithIdWithoutError(this.fullGameId);if(void 0!==i)this.gameModel=i;else if(t){a.Y.error(p.D.EXTERN_TICKET_NO_GAME_DATA.message);const t=new l.vy(p.D.EXTERN_TICKET_NO_GAME_DATA.code.toString(),p.D.EXTERN_TICKET_NO_GAME_DATA.message+e.gameRound.idSchedule);h.u.instance.sendLogRequest(t)}}else this.rastersize=0;for(const t of e.tipData)if(e.gameRound.eventType===o.O4.DOG63.eventType){const e=new c.cZ(t.quotaID.toString());e.stake=t.stake*r.O.creditFactor,e.odd=t.quote,e.win=t.win,e.winValue=t.winAmount*r.O.creditFactor,e.quotaId=t.quotaID.toString(),c.cZ.setPlacesByBetId(e,this.rastersize),this.betsList.push(e),e.win&&(this.winValue+=e.winValue),this.stake+=e.stake}else if(e.gameRound.eventType===o.O4.RTT.eventType){const e=new c.K$(t.quotaID.toString());e.stake=t.stake*r.O.creditFactor,e.odd=t.quote,e.first=t.finish1,e.second=t.finish2,e.win=t.win,e.winValue=t.winAmount*r.O.creditFactor,e.quotaId=t.quotaID.toString();const i=s.rouletteLogic.getBetDataById(parseInt(e.quotaId,10));e.betInfo=i,i.quota!==e.odd&&a.Y.warn("Set old Data Odds should be equal, quota:"+i.quota+" odd:"+e.odd),this.betsList.push(e),e.win&&(this.winValue+=e.winValue),this.stake+=e.stake}else{const e=new c.lB(t.quotaID.toString());e.stake=t.stake*r.O.creditFactor,e.odd=t.quote,e.first=t.finish1,e.second=t.finish2,e.win=t.win,e.winValue=t.winAmount*r.O.creditFactor,e.quotaId=t.quotaID.toString(),e.second<=0&&(e.second=null),this.betsList.push(e),e.win&&(this.winValue+=e.winValue),this.stake+=e.stake}u.Z.sendLogToServerCheckCategory(a.o.CREATE_TICKET,m.T$.SEND_LOG_INFO.code.toString(),"Set Old, Long TickId:"+this.longTicketId+" BetList:"+JSON.stringify(this.betsList)),this.setServerStatus(e.ticketStatus),e.tipData.length>0?(this.printDate=new Date(u.Z.getSecondsSinceFromUTCDate(u.Z.getDatFromStandardString(e.tipData[0].tipDT))),this.createTime=u.Z.getSecondsSinceFromUTCDate(u.Z.getDatFromStandardString(e.tipData[0].tipDT)),this.createTimeDate=new Date(u.Z.getSecondsSinceFromUTCDate(u.Z.getDatFromStandardString(e.tipData[0].tipDT)))):(this.createTime=0,this.printDate=null),this.createTimeStr="",this.reversal=0,this.payout=0,this.balance=0,this.win=!1,this.raceStarted=!0}getLogData(){const e=n().extend(!0,{},this);return delete e.gameModel,e}}},98157:(e,t,s)=>{"use strict";s.d(t,{N:()=>o});var i=s(66115),n=s(49001),r=s(81026);class o{constructor(e,t,s,i,n,r){this._possibleWin=0,this.gameType=e,this.rastersize=t,this.betsList=s,this.roundBonusType=n,this.ticket=r,this.printMaxWin=i}get possibleWin(){return this._possibleWin}calcMaxPossibleWin(){this.gameType===i.O4.RTT.gamType?this.calcMaxPossibleWinRoulette():this.gameType===i.O4.KICKBOX.gamType?this.calcMaxPossibleWinKickbox():this.calcMaxPossibleWinWithRunner()}calcMaxPossibleWinWithRunner(){if(this._possibleWin=0,!this.printMaxWin)return;if(this.betsList.length<=0)return!1;const e=this.rastersize;let t=0;for(const e of this.betsList){let s=parseInt((e.stake*e.odd).toFixed(0),10);s=n.Z.roundToSetDecimalPlaces(s),s>t&&(t=s)}for(let s=0;s<e;s++){const i=s;let r=0,o=0;for(const e of this.betsList)if(e.quotaId===i.toString()){o=parseInt((e.stake*e.odd).toFixed(0),10),o=n.Z.roundToSetDecimalPlaces(o);break}for(let i=0;i<e;i++)if(s!==i){r=e-1+(s*e+i)-Math.floor((s*e+i)/(e+1));let a=0;for(const e of this.betsList)if(e.quotaId===r.toString()){a=parseInt((e.stake*e.odd).toFixed(0),10),a=n.Z.roundToSetDecimalPlaces(a);break}if(o>0&&a>0){const e=o+a;e>t&&(t=e)}}}return this._possibleWin+=t,!0}calcMaxPossibleWinRoulette(){if(!this.printMaxWin)return!1;this._possibleWin=0;let e=0;for(let t=0;t<=36;t++){const s=this.getRouletteWin(t,!1);s>e&&(e=s)}return this._possibleWin=e,!0}calcMaxPossibleWinKickbox(){if(!this.printMaxWin)return!1;this._possibleWin=0;let e=0,t=this.getKickboxWin(0,0,0,0,!1);return t>e&&(e=t),t=this.getKickboxWin(0,0,0,1,!1),t>e&&(e=t),t=this.getKickboxWin(0,0,0,2,!1),t>e&&(e=t),t=this.getKickboxWin(0,0,1,0,!1),t>e&&(e=t),t=this.getKickboxWin(1,0,1,1,!1),t>e&&(e=t),t=this.getKickboxWin(1,0,1,2,!1),t>e&&(e=t),t=this.getKickboxWin(0,0,2,0,!1),t>e&&(e=t),t=this.getKickboxWin(1,0,2,1,!1),t>e&&(e=t),t=this.getKickboxWin(0,0,2,2,!1),t>e&&(e=t),t=this.getKickboxWin(0,1,0,0,!1),t>e&&(e=t),t=this.getKickboxWin(1,1,0,1,!1),t>e&&(e=t),t=this.getKickboxWin(0,1,0,2,!1),t>e&&(e=t),t=this.getKickboxWin(1,1,1,0,!1),t>e&&(e=t),t=this.getKickboxWin(1,1,1,1,!1),t>e&&(e=t),t=this.getKickboxWin(1,1,1,2,!1),t>e&&(e=t),t=this.getKickboxWin(0,1,2,0,!1),t>e&&(e=t),t=this.getKickboxWin(1,1,2,1,!1),t>e&&(e=t),t=this.getKickboxWin(1,1,2,2,!1),t>e&&(e=t),t=this.getKickboxWin(0,2,0,0,!1),t>e&&(e=t),t=this.getKickboxWin(1,2,0,1,!1),t>e&&(e=t),t=this.getKickboxWin(0,2,0,2,!1),t>e&&(e=t),t=this.getKickboxWin(0,2,1,0,!1),t>e&&(e=t),t=this.getKickboxWin(1,2,1,1,!1),t>e&&(e=t),t=this.getKickboxWin(1,2,1,2,!1),t>e&&(e=t),t=this.getKickboxWin(0,2,2,0,!1),t>e&&(e=t),t=this.getKickboxWin(1,2,2,1,!1),t>e&&(e=t),this._possibleWin=e,!0}getRouletteWin(e,t){let s=0;for(const i of this.betsList)for(const o of i.betInfo.numbers)if(r.Y.debug("Current Bet win Numbers:"+i.betInfo.numbers),o===e){let e=parseInt((i.stake*i.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),t&&this.ticket&&(i.win=!0,this.ticket.win=!0,i.winValue=e,this.calculateBonusWin(i)),s+=e;break}return s}getKickboxWin(e,t,s,i,r){let o=0;for(const a of this.betsList)if("0"===a.betId&&0===e){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("1"===a.betId&&1===e){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("2"===a.betId&&0===t){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("3"===a.betId&&1===t){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("4"===a.betId&&2===t){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("5"===a.betId&&0===s){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("6"===a.betId&&1===s){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("7"===a.betId&&2===s){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("8"===a.betId&&0===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("9"===a.betId&&1===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("10"===a.betId&&2===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("11"===a.betId&&0===t&&0===s&&0===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("12"===a.betId&&0===t&&0===s&&1===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("13"===a.betId&&0===t&&0===s&&2===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("14"===a.betId&&0===t&&1===s&&0===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("15"===a.betId&&0===t&&1===s&&1===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("16"===a.betId&&0===t&&1===s&&2===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("17"===a.betId&&0===t&&2===s&&0===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("18"===a.betId&&0===t&&2===s&&1===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("19"===a.betId&&0===t&&2===s&&2===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("20"===a.betId&&1===t&&0===s&&0===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("21"===a.betId&&1===t&&0===s&&1===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("22"===a.betId&&1===t&&0===s&&2===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("23"===a.betId&&1===t&&1===s&&0===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("24"===a.betId&&1===t&&1===s&&1===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("25"===a.betId&&1===t&&1===s&&2===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("26"===a.betId&&1===t&&2===s&&0===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("27"===a.betId&&1===t&&2===s&&1===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("28"===a.betId&&1===t&&2===s&&2===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("29"===a.betId&&2===t&&0===s&&0===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("30"===a.betId&&2===t&&0===s&&1===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("31"===a.betId&&2===t&&0===s&&2===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("32"===a.betId&&2===t&&1===s&&0===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("33"===a.betId&&2===t&&1===s&&1===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("34"===a.betId&&2===t&&1===s&&2===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("35"===a.betId&&2===t&&2===s&&0===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}else if("36"===a.betId&&2===t&&2===s&&1===i){let e=parseInt((a.stake*a.odd).toFixed(0),10);e=n.Z.roundToSetDecimalPlaces(e),r&&this.ticket&&(a.win=!0,this.ticket.win=!0,a.winValue=e,this.calculateBonusWin(a)),o+=e}return o}calculateBonusWin(e){null!==this.roundBonusType&&void 0!==this.roundBonusType&&(e.winValue=e.winValue*n.Z.getBonusFactor(this.roundBonusType))}}},94336:(e,t,s)=>{"use strict";e.exports=s.p+"games/common/assets/butt_g_20031edd1738eef41ff5cb5.svg"},94479:(e,t,s)=>{"use strict";e.exports=s.p+"games/common/assets/butt_r_200783468e0bcfc4b5ddc9c.svg"},84220:(e,t,s)=>{"use strict";e.exports=s.p+"games/common/assets/butt_y_2002eac8a36762a97a277a7.svg"},44091:(e,t,s)=>{"use strict";e.exports=s.p+"games/common/assets/lasche_message318e708b0e21e71508c7.svg"},20113:(e,t,s)=>{"use strict";e.exports=s.p+"games/common/assets/loadingscreen/ds_logo_login4fbc4a0b0b6b7de4a921.png"},78134:(e,t,s)=>{"use strict";e.exports=s.p+"games/common/assets/loadingscreen/games_img6598856eec74261232ab.png"},86705:(e,t,s)=>{"use strict";e.exports=s.p+"games/common/assets/login/butt_logindba0cc4e6bef485cefc7.svg"},74914:(e,t,s)=>{"use strict";e.exports=s.p+"games/common/assets/login/butt_rot_x6e2e9e04f807592414c8.svg"}},__webpack_module_cache__={},deferred,leafPrototypes,getProto,inProgress,dataWebpackPrefix;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var s=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(s.exports,s,s.exports,__webpack_require__),s.loaded=!0,s.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdO={},deferred=[],__webpack_require__.O=(e,t,s,i)=>{if(!t){var n=1/0;for(c=0;c<deferred.length;c++){for(var[t,s,i]=deferred[c],r=!0,o=0;o<t.length;o++)(!1&i||n>=i)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](t[o])))?t.splice(o--,1):(r=!1,i<n&&(n=i));if(r){deferred.splice(c--,1);var a=s();void 0!==a&&(e=a)}}return e}i=i||0;for(var c=deferred.length;c>0&&deferred[c-1][2]>i;c--)deferred[c]=deferred[c-1];deferred[c]=[t,s,i]},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var s=Object.create(null);__webpack_require__.r(s);var i={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var n=2&t&&e;"object"==typeof n&&!~leafPrototypes.indexOf(n);n=getProto(n))Object.getOwnPropertyNames(n).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,__webpack_require__.d(s,i),s},__webpack_require__.d=(e,t)=>{for(var s in t)__webpack_require__.o(t,s)&&!__webpack_require__.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,s)=>(__webpack_require__.f[s](e,t),t)),[])),__webpack_require__.u=e=>(({12:"poshorsecgame",61:"olg-ptr",102:"olg-dpd",170:"olg-ruc",198:"poskickboxgame",255:"olg-lcc",321:"possixgame",371:"poshorsegame",400:"poseightgame",410:"possixthreegame",411:"olg-rtc",461:"olg-gme",530:"olg-lcm",545:"posgame",606:"olg-rtd",647:"olg-dpc",685:"posroulettegame",701:"olg-wgm",709:"olg-rum",745:"olg-wgc",762:"olg-wgd",773:"olg-dpm",780:"poskartgame",786:"postrotgame",791:"olg-rud",926:"olg-lcd",935:"olg-rtm",953:"olg-phr"}[e]||e)+".bundle."+{12:"f06541ce1e70b8bb6c44",41:"9a26d14e42f2e48d3317",61:"51802f0fc7c22a416ce7",102:"74843568359c7a844132",134:"12d8a10a566be6533df2",166:"6c9b3be4361ccb19573e",170:"8365190e75d54c93d56c",198:"a97586a0ac111f56912b",245:"868a64a6d16d68e33a62",255:"1fc095eb114ddfeb22c9",321:"758306b9f8f7c3fc4ab3",371:"df2f1dee703aa41282cb",393:"d2958d4ccd1479b93fbd",400:"7f11e1adc3db6f9cb32d",410:"1c85bb3f582f077e2120",411:"72c0ed905e25a8478da6",461:"0db3dd731a5057c983dc",484:"2745cb633c51e32f5019",530:"d44b4b3d2b7c027429c5",545:"5cd3f01cebb010f49ca0",606:"9a6bd6a978aa03b8ad10",614:"161e2ec81dfe50086581",647:"57ad27d5e24a6a14e511",685:"4c389d29acaa2ae149e6",701:"cec88650d3b278642fd5",709:"e1b7ea060ffc0f0387e3",745:"343ca6a079e51a76965a",748:"96e1459a1c7ed9ea62fb",762:"137c757badc2f2447fc5",773:"6ff5f031c76eb3674f69",780:"c6d966326fc2688bf109",786:"06c2aad4a21fe378c8e6",791:"2d2add22a7f52cd73fc1",806:"3b0847a93fa5e73f5618",900:"6736d9060dcf2595719c",926:"6bb966f2ec444f850909",935:"269b170a99a73ea70409",953:"0cd11e57de76a7e72505"}[e]+".js"),__webpack_require__.miniCssF=e=>({12:"poshorsecgame",198:"poskickboxgame",321:"possixgame",371:"poshorsegame",400:"poseightgame",410:"possixthreegame",545:"posgame",685:"posroulettegame",780:"poskartgame",786:"postrotgame"}[e]+"."+{12:"8483620fe41d19bb5202",198:"da8ca8cd94657401c23e",321:"c100b4807b267e6c164f",371:"6a7e33396d917fbb261d",400:"cce8f10027a4ee86fe1b",410:"564f6d08a87d4efa27b0",545:"4795ebe17bf736e66aa2",685:"f3869de733569c4ab763",780:"4905a5a5ecf0dc4f9ad2",786:"a1c379a489bac7b9d77a"}[e]+".css"),__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},dataWebpackPrefix="gamepool:",__webpack_require__.l=(e,t,s,i)=>{if(inProgress[e])inProgress[e].push(t);else{var n,r;if(void 0!==s)for(var o=document.getElementsByTagName("script"),a=0;a<o.length;a++){var c=o[a];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")==dataWebpackPrefix+s){n=c;break}}n||(r=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,__webpack_require__.nc&&n.setAttribute("nonce",__webpack_require__.nc),n.setAttribute("data-webpack",dataWebpackPrefix+s),n.src=e),inProgress[e]=[t];var d=(t,s)=>{n.onerror=n.onload=null,clearTimeout(l);var i=inProgress[e];if(delete inProgress[e],n.parentNode&&n.parentNode.removeChild(n),i&&i.forEach((e=>e(s))),t)return t(s)},l=setTimeout(d.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=d.bind(null,n.onerror),n.onload=d.bind(null,n.onload),r&&document.head.appendChild(n)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");s.length&&(e=s[s.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})(),(()=>{if("undefined"!=typeof document){var e=e=>new Promise(((t,s)=>{var i=__webpack_require__.miniCssF(e),n=__webpack_require__.p+i;if(((e,t)=>{for(var s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var n=(o=s[i]).getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(n===e||n===t))return o}var r=document.getElementsByTagName("style");for(i=0;i<r.length;i++){var o;if((n=(o=r[i]).getAttribute("data-href"))===e||n===t)return o}})(i,n))return t();((e,t,s,i,n)=>{var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",r.onerror=r.onload=s=>{if(r.onerror=r.onload=null,"load"===s.type)i();else{var o=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=a,r.parentNode&&r.parentNode.removeChild(r),n(c)}},r.href=t,s?s.parentNode.insertBefore(r,s.nextSibling):document.head.appendChild(r)})(e,n,null,t,s)})),t={764:0};__webpack_require__.f.miniCss=(s,i)=>{t[s]?i.push(t[s]):0!==t[s]&&{12:1,198:1,321:1,371:1,400:1,410:1,545:1,685:1,780:1,786:1}[s]&&i.push(t[s]=e(s).then((()=>{t[s]=0}),(e=>{throw delete t[s],e})))}}})(),(()=>{__webpack_require__.b=document.baseURI||self.location.href;var e={764:0};__webpack_require__.f.j=(t,s)=>{var i=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==i)if(i)s.push(i[2]);else{var n=new Promise(((s,n)=>i=e[t]=[s,n]));s.push(i[2]=n);var r=__webpack_require__.p+__webpack_require__.u(t),o=new Error;__webpack_require__.l(r,(s=>{if(__webpack_require__.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var n=s&&("load"===s.type?"missing":s.type),r=s&&s.target&&s.target.src;o.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",o.name="ChunkLoadError",o.type=n,o.request=r,i[1](o)}}),"chunk-"+t,t)}},__webpack_require__.O.j=t=>0===e[t];var t=(t,s)=>{var i,n,[r,o,a]=s,c=0;if(r.some((t=>0!==e[t]))){for(i in o)__webpack_require__.o(o,i)&&(__webpack_require__.m[i]=o[i]);if(a)var d=a(__webpack_require__)}for(t&&t(s);c<r.length;c++)n=r[c],__webpack_require__.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return __webpack_require__.O(d)},s=self.webpackChunkgamepool=self.webpackChunkgamepool||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),__webpack_require__.nc=void 0;var __webpack_exports__=__webpack_require__.O(void 0,[846],(()=>__webpack_require__(23859)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();